(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{"392b":function(t,e,i){"use strict";i("4d90"),i("5319");var a,o,s={data(){return{prevRoute:null}},beforeRouteEnter(t,e,i){i((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString("en-US",{month:"long"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,0)+"-"+t.getDate().toString().padStart(2,"0")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,i){return t.replace(new RegExp(e,"g"),i)},resolveAssetsUrl:function(t){return"https://api.bake-free.co/"+t},showNotif:function(t,e){this.$q.notify({color:t?"green-4":"negative",textColor:"white",icon:t?"check_circle_outline":"error_outline",timeout:"2500",position:"top",message:e})},returnToPageIndex:function(t){this.prevRoute&&"/"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+"/"+(t.getMonth()+1).toString().padStart(2,0)+"/"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})+" "+e.getHours().toString().padStart(2,0)+":"+e.getMinutes().toString().padStart(2,0):t}}},n=s,r=i("2877"),l=Object(r["a"])(n,a,o,!1,null,null,null);e["a"]=l.exports},"403e":function(t,e,i){},"4b37":function(t,e,i){"use strict";var a=i("403e"),o=i.n(a);o.a},"4ba7":function(t,e,i){},"85f6":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{staticClass:"q-px-md q-pt-lg"},[i("div",{staticClass:"page-heading text-white q-pa-md"},[i("div",{staticClass:"heading-caption"},[i("h6",[t._v("Edit Product Information")]),i("br"),i("p",[t._v("\n                You may edit the selected product details through this form.\n            ")])])]),i("div",{staticClass:"page-contents text-white q-pa-md"},[i("div",{staticClass:"content-1"},[i("div",{staticClass:"text-subtitle2 flex flex-center"},[i("q-icon",{staticClass:"caption-icon q-mx-md",attrs:{name:"cake"}}),t._v("\n                Product Info\n            ")],1),t.loading?i("div",[i("q-item",{staticClass:"q-my-sm"},[i("q-spinner",{attrs:{color:"white",size:"2em"}})],1)],1):i("div",[i("q-stepper",{staticClass:"bg-none",attrs:{vertical:"",animated:"","done-color":"primary","inactive-color":"grey-5"},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[i("q-step",{attrs:{name:1,title:"Basic Information",icon:"assignment",done:t.step>1}},[i("p",[t._v("Select category and fill out basic info.")]),i("q-form",{ref:"step1Form",attrs:{disabled:t.hasError||t.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.saveStep1(e)}}},[i("q-list",{staticClass:"detail-list",attrs:{separator:""}},[i("q-item",{staticClass:"detail-field"},[i("span",{staticClass:"field-label"},[t._v("\n                                        Category\n                                    ")]),i("q-select",{staticClass:"field-value",attrs:{options:t.categories,dark:"",dense:"",outlined:"","options-dense":"","hide-bottom-space":"","emit-value":"","map-options":"","lazy-rules":"",rules:[t._isValidCategory]},model:{value:t.editProduct.category,callback:function(e){t.$set(t.editProduct,"category",e)},expression:"editProduct.category"}})],1),i("q-item",{staticClass:"detail-field"},[i("span",{staticClass:"field-label"},[t._v("\n                                        Product Name\n                                    ")]),i("q-input",{staticClass:"field-value",attrs:{type:"text",dense:"",outlined:"",dark:"","hide-bottom-space":"",placeholder:"Field required. ","lazy-rules":"",rules:[function(t){return null!==t&&""!==t.trim()}]},model:{value:t.editProduct.name,callback:function(e){t.$set(t.editProduct,"name",e)},expression:"editProduct.name"}})],1),i("q-item",{staticClass:"detail-field"},[i("span",{staticClass:"field-label"},[t._v("\n                                        Description\n                                    ")]),i("q-input",{staticClass:"field-value",attrs:{type:"textarea",textarea:"",dense:"",outlined:"",dark:"","hide-bottom-space":"",placeholder:"Field required. ","lazy-rules":"",rules:[function(t){return null!==t&&""!==t.trim()}]},model:{value:t.editProduct.description,callback:function(e){t.$set(t.editProduct,"description",e)},expression:"editProduct.description"}})],1),i("q-item",{staticClass:"detail-field"},[i("span",{staticClass:"field-label"},[t._v("\n                                        Base price\n                                    ")]),i("q-input",{staticClass:"field-value",attrs:{type:"number",min:"1",dense:"",outlined:"",dark:"","hide-bottom-space":"",placeholder:"Field required. ","lazy-rules":"",rules:[function(t){return!isNaN(t)}]},model:{value:t.editProduct.basePrice,callback:function(e){t.$set(t.editProduct,"basePrice",e)},expression:"editProduct.basePrice"}})],1),i("q-item",{staticClass:"detail-field"},[i("span",{staticClass:"field-label"},[t._v("\n                                        Minimum Order Quantity\n                                    ")]),i("q-input",{staticClass:"field-value",attrs:{type:"number",min:"1",dense:"",outlined:"",dark:"","hide-bottom-space":"",placeholder:"Field required. ","lazy-rules":"",rules:[function(t){return!isNaN(t)&&t>0}]},model:{value:t.editProduct.minOrderQuantity,callback:function(e){t.$set(t.editProduct,"minOrderQuantity",e)},expression:"\n                                            editProduct.minOrderQuantity\n                                        "}})],1),i("q-item",{staticClass:"detail-field"},[i("span",{staticClass:"field-label"},[t._v("\n                                        Colors\n                                    ")]),i("q-select",{staticClass:"field-value",attrs:{"hide-dropdown-icon":"","hide-bottom-space":"",dark:"",outlined:"",multiple:"","use-chips":"","lazy-rules":"",rules:[t._isValidColor]},scopedSlots:t._u([{key:"append",fn:function(){return[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"colorize"}},[i("q-tooltip",{attrs:{delay:550,anchor:"bottom right",self:"top middle",offset:[10,10]}},[t._v("\n                                                    Select color\n                                                ")]),i("q-popup-proxy",[i("q-color",{attrs:{flat:"",square:"","no-header":"","no-footer":"","default-view":"palette","format-model":"hex"},on:{input:function(e){return t.editProduct.colors.push(t.selcolor)}},model:{value:t.selcolor,callback:function(e){t.selcolor=e},expression:"selcolor"}})],1)],1)]},proxy:!0}]),model:{value:t.editProduct.colors,callback:function(e){t.$set(t.editProduct,"colors",e)},expression:"editProduct.colors"}})],1),i("q-item",{staticClass:"detail-field"},[i("span",{staticClass:"field-label"},[t._v("\n                                        Details\n                                    ")]),i("div",{staticClass:"field-value"},[i("transition-group",{attrs:{name:"fade",tag:"div"}},t._l(t.details,(function(e,a){return i("q-list",{key:"grp-"+a,staticClass:"group-list"},[i("q-item",[i("q-item-section",{on:{click:function(t){e.edit=!0}}},[e.edit?i("q-item-label",[i("q-input",{attrs:{type:"text",dense:"",dark:"","hide-bottom-space":"",placeholder:"Group title required ","lazy-rules":"",rules:[function(t){return null!==t&&""!==t.trim()},t._isUniqueDetailGrp]},on:{keydown:function(i){if(!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter"))return null;i.preventDefault(),e.edit=!1}},model:{value:e.group,callback:function(i){t.$set(e,"group",i)},expression:"\n                                                                    detail.group\n                                                                "}})],1):i("q-item-label",[t._v("\n                                                            "+t._s(e.group)+"\n                                                        ")])],1),i("q-item-section",{attrs:{side:""}},[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"add",color:"white"},on:{click:function(e){return t.appendDetailItem(a)}}},[i("q-tooltip",{attrs:{delay:550,anchor:"bottom right",self:"top middle"}},[t._v("\n                                                                Add new\n                                                                field\n                                                            ")])],1)],1)],1),i("transition-group",{attrs:{name:"fade",tag:"div"}},t._l(e.items,(function(e,o){return i("q-item",{key:"item-"+o},[i("div",{staticClass:"detail-field-keyval"},[i("q-input",{staticClass:"detail-list-key",attrs:{type:"text",dense:"",outlined:"",dark:"","hide-bottom-space":"",placeholder:"Label required ","lazy-rules":"",rules:[function(t){return null!==t&&""!==t.trim()}]},model:{value:e.label,callback:function(i){t.$set(e,"label",i)},expression:"\n                                                                    item.label\n                                                                "}}),i("q-input",{staticClass:"detail-list-value",attrs:{type:"text",dense:"",outlined:"",dark:"","hide-bottom-space":"",placeholder:"Value required ","lazy-rules":"",rules:[function(t){return null!==t&&""!==t.trim()}]},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"\n                                                                    item.value\n                                                                "}})],1),i("q-item-section",{attrs:{side:""}},[i("q-icon",{staticClass:"cursor-pointer remove-icon",attrs:{name:"remove",color:"white"},on:{click:function(e){return t.removeDetailItem(a,o)}}},[i("q-tooltip",{attrs:{delay:550,anchor:"bottom right",self:"top middle"}},[t._v("\n                                                                    Remove\n                                                                    this\n                                                                    field\n                                                                ")])],1)],1)],1)})),1),i("br"),i("q-separator")],1)})),1),i("q-btn",{staticClass:"q-mt-sm",attrs:{dense:"",flat:"","no-caps":"",icon:"add",label:"Add Detail Group"},on:{click:t.appendGroup}})],1)])],1),i("q-stepper-navigation",[i("q-btn",{attrs:{color:"primary",type:"submit",label:"Continue",loading:t.loadingStep1,disable:t.loadingStep1}})],1)],1)],1),i("q-step",{attrs:{name:2,title:"Product Images",icon:"add_photo_alternate",done:t.step>2}},[i("p",[t._v("\n                            Click the + icon or drag the product images\n                            (.jpg/.png and Max 2MB) for upload.\n                        ")]),i("q-form",{ref:"step2Form",attrs:{disabled:t.hasError||t.loading}},[i("q-list",{staticClass:"detail-list",attrs:{separator:""}},[i("q-item",{staticClass:"detail-field"},[i("span",{staticClass:"field-label"},[t._v("\n                                        Gallery\n                                    ")]),i("div",{staticClass:"field-value full-width"},[i("q-uploader",{ref:"pimgUploader",staticClass:"img-uploader",attrs:{multiple:"",square:"","hide-upload-btn":"",accept:"image/jpeg,image/png",label:"Image Upload",filter:t._validImage},on:{added:t.imgsAdded,removed:t.imgsRemoved,failed:t.onImgUploadFailed}}),i("br"),i("div",{staticClass:"flex"},t._l(t.editProduct.images,(function(e){return i("q-card",{key:e._id,staticClass:"q-mr-sm q-mb-sm"},["gallery"==e.imageType?i("div",[i("div",{staticClass:"pimg-card",style:"background-image:url('"+t.resolveAssetsUrl(""+e.image)+"')"}),i("q-card-actions",{attrs:{align:"right"}},[i("q-btn",{attrs:{dense:"",flat:"",round:"",color:"red",icon:"delete"},on:{click:function(i){return t.delImage(e._id)}}})],1)],1):t._e()])})),1)],1)])],1),i("q-stepper-navigation",[i("q-btn",{attrs:{type:"button",color:"primary",label:t.hasImgs?"Continue":"Skip",loading:t.loadingStep2,disable:t.loadingStep2},on:{click:t.startUpload},scopedSlots:t._u([{key:"loading",fn:function(){return[i("q-spinner-gears")]},proxy:!0}])}),i("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(e){return t.goBack(1)}}})],1)],1)],1),i("q-step",{attrs:{name:3,title:"Order Customization Options",icon:"assignment",done:t.step>3}},[i("p",[t._v("Configure selectable options for orders.")]),i("p",[t._v("\n                            You may toggle between fixed choices and\n                            customer customizable list.\n                        ")]),i("q-form",{ref:"step3Form",attrs:{disabled:t.hasError||t.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.saveStep3(e)}}},[i("q-list",{staticClass:"detail-list",attrs:{separator:""}},[i("q-item",{staticClass:"detail-field"},[i("span",{staticClass:"field-label"},[t._v("\n                                        Options\n                                    ")]),i("div",{staticClass:"field-value"},[i("transition-group",{attrs:{name:"fade",tag:"div"}},t._l(t.options,(function(e,a){return i("q-list",{key:"optgrp-"+a,staticClass:"group-list"},[i("q-item",[i("q-item-section",{on:{click:function(t){e.edit=!0}}},[e.edit?i("q-item-label",[i("q-input",{attrs:{type:"text",dense:"",dark:"","hide-bottom-space":"",placeholder:"Attribute required ","lazy-rules":"",rules:[function(t){return null!==t&&""!==t.trim()},t._isUniqueOptionGrp]},on:{keydown:function(i){if(!i.type.indexOf("key")&&t._k(i.keyCode,"enter",13,i.key,"Enter"))return null;i.preventDefault(),e.edit=!1}},model:{value:e.attribute,callback:function(i){t.$set(e,"attribute",i)},expression:"\n                                                                    option.attribute\n                                                                "}})],1):i("q-item-label",[t._v("\n                                                            "+t._s(e.attribute)+"\n                                                        ")])],1),i("q-item-section",[i("q-toggle",{attrs:{"unchecked-icon":"lock",color:"green-4",label:e.userCustomizable?"User editable":"Fixed options"},on:{input:function(e){return t.toggleCustomChoice(e,a)}},model:{value:e.userCustomizable,callback:function(i){t.$set(e,"userCustomizable",i)},expression:"\n                                                                option.userCustomizable\n                                                            "}})],1),i("q-item-section",{attrs:{side:""}},[i("q-icon",{staticClass:"cursor-pointer",attrs:{name:"add",color:"white"},on:{click:function(e){return t.appendOptionItem(a)}}},[i("q-tooltip",{attrs:{delay:550,anchor:"bottom right",self:"top middle"}},[t._v("\n                                                                Add option\n                                                            ")])],1)],1)],1),i("transition-group",{attrs:{name:"fade",tag:"div"}},t._l(t.filteredOptions(e.choices,e.userCustomizable),(function(e,o){return i("q-item",{key:"selitem-"+o},[i("div",{staticClass:"detail-field-keyval"},[i("q-input",{staticClass:"option-list-key",attrs:{readonly:"Other"==e.value,type:"text",dense:"",outlined:"",dark:"","hide-bottom-space":"",placeholder:"Option required ","lazy-rules":"",rules:[function(t){return null!==t&&""!==t.trim()}]},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"\n                                                                    choice.value\n                                                                "}}),i("q-input",{staticClass:"option-list-price",attrs:{type:"number",dense:"",outlined:"",dark:"","hide-bottom-space":"",placeholder:"Price ","lazy-rules":"",rules:[function(t){return""!==t&&!isNaN(t)}]},model:{value:e.price,callback:function(i){t.$set(e,"price",i)},expression:"\n                                                                    choice.price\n                                                                "}})],1),i("q-item-section",{attrs:{side:""}},[i("q-icon",{staticClass:"cursor-pointer remove-icon",attrs:{name:"remove",color:"white"},on:{click:function(i){return t.removeOptionItem(a,o,e.value)}}},[i("q-tooltip",{attrs:{delay:550,anchor:"bottom right",self:"top middle"}},[t._v("\n                                                                    Remove\n                                                                    this\n                                                                    option\n                                                                ")])],1)],1)],1)})),1),i("br"),i("q-separator")],1)})),1),i("q-btn",{staticClass:"q-mt-sm",attrs:{dense:"",flat:"","no-caps":"",icon:"add",label:"Add Customizable Option"},on:{click:t.appendOptions}})],1)])],1),i("q-stepper-navigation",[i("q-btn",{attrs:{type:"submit",color:"primary",label:"Continue",loading:t.loadingStep3,disable:t.loadingStep3}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(e){return t.goBack(2)}}})],1)],1)],1),i("q-step",{attrs:{name:4,title:"Done!",icon:"add_comment"}},[i("q-form",{ref:"step4Form",attrs:{disabled:t.hasError||t.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.saveStep4(e)}}},[i("p",[t._v("\n                                You have successfully updated the product\n                                details.\n                            ")]),i("q-stepper-navigation",[i("q-btn",{attrs:{color:"primary",label:"Finish",type:"submit",loading:t.loadingStep4,disable:t.loadingStep4}}),i("q-btn",{staticClass:"q-ml-sm",attrs:{flat:"",color:"primary",label:"Back"},on:{click:function(e){return t.goBack(3)}}})],1)],1)],1)],1)],1)]),i("div",{staticClass:"content-2"})])])},o=[],s=(i("fb6a"),i("ddb0"),i("c973")),n=i.n(s),r=i("392b");let l=null,c=null;var d={name:"ProductEdit",mixins:[r["a"]],watch:{$route(t,e){t.path!==e.path&&this.fetchProductDetails()}},meta(){return{title:"Edit Product"}},beforeCreate(){c=this.$RepositoryFactory.get("categories"),l=this.$RepositoryFactory.get("products")},created(){this.fetchCategories()},mounted(){this.fetchProductDetails()},computed:{hasImgs(){return this.selimgs&&this.selimgs.length>0}},data(){return{loadingStep1:!1,loadingStep2:!1,loadingStep3:!1,loadingStep4:!1,step:1,selimgs:[],selcolor:"",categories:[],colors:[],details:[],options:[],loading:!0,hasError:!1,editProduct:{name:"",category:null,basePrice:100,minOrderQuantity:1,description:"",colors:[],options:[],details:[],images:[]}}},methods:{_isValidCategory(t){if(!(this.editProduct.category&&this.categories&&this.categories.length>0))return"Invalid category selected";const e=this.categories.find((t=>t.value===this.editProduct.category));return!!e||"Invalid category selected"},_isUniqueDetailGrp(t){if(this.details&&this.details.length>0){const e=this.details.filter((e=>e.group==t));if(e.length>1)return"Duplicate detail group title."}return!0},_isUniqueOptionGrp(t){if(this.options&&this.options.length>0){const e=this.options.filter((e=>e.attribute==t));if(e.length>1)return"Duplicate option group title."}return!0},_isValidColor(t){if(t&&t.length>0){const e=/^#([0-9A-F]{3}){1,2}$/i;for(let i in t)if(!e.test(t[i]))return"Invalid hex color selected"}return!0},_validImage(t){const e=t.filter((t=>t.size<2097152&&["image/png","image/jpeg"].includes(t.type)));return(!e||e.length<1||e.length<t.length)&&this.showNotif(!1,"Selected image is not valid."),e},fetchCategories(){var t=this;return n()((function*(){try{const e=yield c.getProductCategorySelection();t.categories=e.slice()}catch(e){t.showNotif(!1,"Could not retrieve product categories."),t.hasError=!0}finally{t.loading=!1}}))()},fetchProductDetails(){var t=this;return n()((function*(){try{const e=yield l.getProduct(t.$route.params.id);t.editProduct=e,t.editProduct.details&&(t.details=[...t.toReactiveDataFormat(t.editProduct.details)]),t.editProduct.options&&(t.options=[...t.toReactiveOptionsDataFormat(t.editProduct.options)])}catch(e){t.showNotif(!1,"Could not retrieve product details.")}}))()},toJSONFormatOptions:function(t){const e=[];return t&&t.length>0&&t.map((t=>{let i=[];for(let e in t.choices)i.push({value:t.choices[e].value,price:t.choices[e].price});t.userCustomizable&&!this.hasCustomChoice(t.choices)?i.unshift({value:"Other",price:0}):!t.userCustomizable&&this.hasCustomChoice(t.choices)&&(i=this.filteredOptions(i,!1)),e.push({attribute:t.attribute,choices:i,userCustomizable:t.userCustomizable})})),e},toReactiveOptionsDataFormat:function(t){const e=[];return t&&t.length>0&&t.map((t=>{e.push({attribute:t.attribute,userCustomizable:t.userCustomizable,choices:t.choices,edit:!0})})),e},toJSONFormatDetails:function(t){const e=[];return t&&t.length>0&&t.map((t=>{const i={};t.items&&t.items.length>0&&t.items.map((t=>{i[t.label]=t.value})),t.group&&Object.keys(i).length>0&&e.push({group:t.group,items:i})})),e},toReactiveDataFormat:function(t){const e=[];return t&&t.length>0&&t.map((t=>{const i=[];if(t.items&&Object.keys(t.items).length>0)for(let e in t.items)i.push({label:e,value:t.items[e].toString()});t.group&&i.length>0&&e.push({group:t.group,items:i,edit:!0})})),e},filteredOptions(t,e){return t&&t.length>0&&!e?t.filter((t=>"Other"!==t.value)):t},saveStep1:function(t){var e=this;this.loadingStep1=!0,this.$refs.step1Form.validate().then(function(){var t=n()((function*(t){if(t){let t={};e.editProduct.details=[...e.toJSONFormatDetails(e.details)],t=yield l.updateProduct(e.$route.params.id,e.editProduct),e.loadingStep1=!1,e.step=2}}));return function(e){return t.apply(this,arguments)}}()).catch((t=>{this.showNotif(!1,"Could not edit product info."),this.loadingStep1=!1}))},saveStep2:function(t){var e=this;this.loadingStep2=!0,this.$refs.step2Form.validate().then(function(){var i=n()((function*(i){i&&(t&&(e.editProduct.images=t.slice()),e.loadingStep2=!1,e.step=3)}));return function(t){return i.apply(this,arguments)}}()).catch((t=>{this.showNotif(!1,"Error has occurred."),this.loadingStep2=!1}))},saveStep3:function(t){var e=this;this.loadingStep3=!0,this.$refs.step3Form.validate().then(function(){var t=n()((function*(t){if(t){const t=[...e.toJSONFormatOptions(e.options)];e.editProduct.options=t.slice();yield l.updateProduct(e.$route.params.id,{options:e.editProduct.options});e.loadingStep3=!1,e.step=4}}));return function(e){return t.apply(this,arguments)}}()).catch((t=>{this.showNotif(!1,"Error updating customization options."),this.loadingStep3=!1}))},saveStep4:function(t){var e=this;this.loadingStep4=!0,this.$refs.step4Form.validate().then(function(){var t=n()((function*(t){e.loadingStep4=!1,e.returnToPageIndex("/products")}));return function(e){return t.apply(this,arguments)}}()).catch((t=>{this.showNotif(!1,"Error has occurred product."),this.loadingStep4=!1}))},goBack:function(t){[1,2,3].includes(t)&&(this.step=t)},removeGroup:function(t){this.$delete(this.details,t)},removeDetailItem:function(t,e){this.$delete(this.details[t].items,e),0===this.details[t].items.length&&this.removeGroup(t)},appendGroup:function(t){this.details.push({group:"New Group",edit:!0,items:[{label:"",value:""}]})},appendDetailItem:function(t){!isNaN(t)&&this.details[t]&&this.details[t].items.push({label:"",value:""})},removeOptions:function(t){this.$delete(this.options,t)},removeOptionItem:function(t,e,i){this.$delete(this.options[t].choices,e),0===this.options[t].choices.length?this.removeOptions(t):"Other"==i&&(this.options[t].userCustomizable=!1)},appendOptions:function(t){this.options.push({attribute:"New Option",userCustomizable:!1,edit:!0,choices:[{value:"",price:""}]})},appendOptionItem:function(t){!isNaN(t)&&this.options[t]&&this.options[t].choices.push({value:"",price:""})},hasCustomChoice(t){return!!(t&&t.length>0)&&t.find((t=>"Other"==t.value))},toggleCustomChoice:function(t,e){t?this.options[e]&&!this.hasCustomChoice(this.options[e].choices)&&this.options[e].choices.unshift({value:"Other",price:""}):this.options[e]&&this.hasCustomChoice(this.options[e].choices)&&this.options[e].choices.shift()},delImage(t){var e=this;return n()((function*(){try{yield l.deleteImage(e.$route.params.id,t);e.editProduct.images=e.editProduct.images.filter((e=>e._id!==t))}catch(i){e.showNotif(!1,"Could not remove image."+i)}}))()},startUpload(){var t=this;return n()((function*(){try{if(t.loadingStep2=!0,t.hasImgs){let e=new FormData;t.selimgs.forEach((t=>{e.append("image",t)})),e.append("imageType","gallery");const i=yield l.uploadImgs(t.$route.params.id,e);t.selimgs=[],t.saveStep2(i)}else t.saveStep2(!1)}catch(e){t.showNotif(!1,"Could not upload images."),t.loadingStep2=!1}}))()},imgsRemoved(t){this.selimgs=this.selimgs.filter((e=>e!==t[0]))},imgsAdded(t){this.selimgs.push(...t)},onImgUploadFailed:function(t){this.showNotif(!1,"Failed to add your selected image. ")}}},u=d,p=(i("4b37"),i("f58c"),i("2877")),m=i("9989"),h=i("0016"),f=i("66e5"),g=i("0d59"),v=i("f531"),b=i("87fe"),y=i("0378"),C=i("1c1c"),q=i("ddd8"),k=i("27f9"),S=i("05c0"),P=i("7cbe"),_=i("b498"),D=i("4074"),x=i("0170"),w=i("eb85"),O=i("9c40"),F=i("b19c"),I=i("ee89"),$=i("f09f"),z=i("4b7e"),Q=i("cf57"),N=i("9564"),E=i("8572"),R=i("eebe"),U=i.n(R),M=Object(p["a"])(u,a,o,!1,null,"4a52583a",null);e["default"]=M.exports;U()(M,"components",{QPage:m["a"],QIcon:h["a"],QItem:f["a"],QSpinner:g["a"],QStepper:v["a"],QStep:b["a"],QForm:y["a"],QList:C["a"],QSelect:q["a"],QInput:k["a"],QTooltip:S["a"],QPopupProxy:P["a"],QColor:_["a"],QItemSection:D["a"],QItemLabel:x["a"],QSeparator:w["a"],QBtn:O["a"],QStepperNavigation:F["a"],QUploader:I["a"],QCard:$["a"],QCardActions:z["a"],QSpinnerGears:Q["a"],QToggle:N["a"],QField:E["a"]})},f58c:function(t,e,i){"use strict";var a=i("4ba7"),o=i.n(a);o.a}}]);