(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[29],{1664:function(t,e,n){},"392b":function(t,e,n){"use strict";n("4d90"),n("5319");var a,r,s={data(){return{prevRoute:null}},beforeRouteEnter(t,e,n){n((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString("en-US",{month:"long"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+"-"+(t.getMonth()+1).toString().padStart(2,0)+"-"+t.getDate().toString().padStart(2,"0")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,n){return t.replace(new RegExp(e,"g"),n)},resolveAssetsUrl:function(t){return"https://api.bake-free.co/"+t},showNotif:function(t,e){this.$q.notify({color:t?"green-4":"negative",textColor:"white",icon:t?"check_circle_outline":"error_outline",timeout:"2500",position:"top",message:e})},returnToPageIndex:function(t){this.prevRoute&&"/"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+"/"+(t.getMonth()+1).toString().padStart(2,0)+"/"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})+" "+e.getHours().toString().padStart(2,0)+":"+e.getMinutes().toString().padStart(2,0):t}}},i=s,o=n("2877"),l=Object(o["a"])(i,a,r,!1,null,null,null);e["a"]=l.exports},"69cf":function(t,e,n){},"9c89":function(t,e,n){"use strict";var a=n("1664"),r=n.n(a);r.a},b0f9:function(t,e,n){"use strict";var a=n("69cf"),r=n.n(a);r.a},c6b7:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"q-px-md q-pt-lg"},[n("div",{staticClass:"page-heading text-white q-pa-md"},[n("div",{staticClass:"heading-caption"},[n("h6",[t._v("Change Password")]),n("br"),n("p",[t._v("Enter your current and new passwords twice to continue.")])])]),n("div",{staticClass:"page-contents text-white q-pa-md"},[n("div",{staticClass:"content-1"},[n("div",{staticClass:"text-subtitle2 flex flex-center"},[n("q-icon",{staticClass:"caption-icon q-mx-md",attrs:{name:"account_circle"}}),t._v("New Password Info\n            ")],1),n("div",[n("q-form",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[n("q-list",{staticClass:"detail-list",attrs:{separator:""}},[n("q-item",{staticClass:"detail-field"},[n("span",{staticClass:"field-label"},[t._v("\n                                Current\n                            ")]),n("q-input",{staticClass:"field-value",attrs:{type:"password",dense:"",outlined:"",dark:"","hide-bottom-space":"",placeholder:"Field required. ","lazy-rules":"",rules:[function(t){return null!==t&&""!==t},function(t){return t.length>=6}]},model:{value:t.user.prevpw,callback:function(e){t.$set(t.user,"prevpw",e)},expression:"user.prevpw"}})],1),n("q-item",{staticClass:"detail-field"},[n("span",{staticClass:"field-label"},[t._v("\n                                New\n                            ")]),n("q-input",{ref:"newpw",staticClass:"field-value",attrs:{type:"password",dense:"",outlined:"",dark:"","hide-bottom-space":"",placeholder:"Minimum of 6 characters.","lazy-rules":"",rules:[function(t){return null!==t&&""!==t},function(t){return t.length>=6}]},model:{value:t.user.newpw,callback:function(e){t.$set(t.user,"newpw",e)},expression:"user.newpw"}})],1),n("q-item",{staticClass:"detail-field"},[n("span",{staticClass:"field-label"},[t._v("\n                                Retype new\n                            ")]),n("q-input",{staticClass:"field-value",attrs:{type:"password",dense:"",outlined:"",dark:"","hide-bottom-space":"",placeholder:"Field required. ","lazy-rules":"",rules:[function(t){return null!==t&&""!==t},function(t){return t.length>=6},function(e){return e===t.user.newpw}]},model:{value:t.user.reppw,callback:function(e){t.$set(t.user,"reppw",e)},expression:"user.reppw"}})],1)],1),n("q-separator"),n("div",{staticClass:"q-pa-md"},[n("q-btn",{attrs:{label:"Save",type:"submit",color:"primary",loading:t.loading,disable:t.loading},scopedSlots:t._u([{key:"loading",fn:function(){return[n("q-spinner-gears")]},proxy:!0}])})],1)],1)],1)]),n("div",{staticClass:"content-2"})])])},r=[],s=n("ded3"),i=n.n(s),o=n("c973"),l=n.n(o),u=n("392b"),c={name:"UserChangePW",mixins:[u["a"]],meta(){return{title:"Change Password"}},data(){return{loading:!1,user:{prevpw:"",newpw:"",reppw:""}}},methods:{_isValidEmail(t){const e=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/;return e.test(t)||"Invalid email format"},onSubmit:function(){var t=l()((function*(t){this.loading=!0;try{yield this.$store.dispatch("auth/changePW",i()({},this.user)),this.showNotif(!0,"Updated account password."),this.$router.push("/dashboard").catch((t=>{}))}catch(e){this.$refs["newpw"].focus(),this.showNotif(!1,e)}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},d=c,p=(n("b0f9"),n("9c89"),n("2877")),f=n("9989"),h=n("0016"),w=n("0378"),g=n("1c1c"),m=n("66e5"),v=n("27f9"),b=n("eb85"),y=n("9c40"),D=n("cf57"),S=n("8572"),C=n("eebe"),q=n.n(C),x=Object(p["a"])(d,a,r,!1,null,"31eab8bc",null);e["default"]=x.exports;q()(x,"components",{QPage:f["a"],QIcon:h["a"],QForm:w["a"],QList:g["a"],QItem:m["a"],QInput:v["a"],QSeparator:b["a"],QBtn:y["a"],QSpinnerGears:D["a"],QField:S["a"]})}}]);