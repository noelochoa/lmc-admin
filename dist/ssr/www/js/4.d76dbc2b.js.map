{"version":3,"sources":["webpack:///./src/components/ProductPicker.vue?bc67","webpack:///src/components/ProductPicker.vue","webpack:///./src/components/ProductPicker.vue?4491","webpack:///./src/components/ProductPicker.vue","webpack:///./src/pages/orders/Add.vue?889a","webpack:///src/mixins/helpers.vue","webpack:///./src/mixins/helpers.vue?48b6","webpack:///./src/mixins/helpers.vue","webpack:///./src/pages/orders/Add.vue?cd6d","webpack:///./src/pages/orders/Add.vue?3871","webpack:///./src/components/ProductPicker.vue?b428","webpack:///./src/pages/orders/Add.vue?68ca","webpack:///./src/pages/orders/Add.vue?c44d","webpack:///src/pages/orders/Add.vue","webpack:///./src/pages/orders/Add.vue?66e2","webpack:///./src/pages/orders/Add.vue?d792","webpack:///./src/components/ProductPicker.vue?ea75"],"names":[],"mappings":"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KA,SAVA,CAUA;AACA;AACA,SAZA,SAYA;AACA;AACA;AApBA;AAqBA,KA7DA;;AA+DA;AACA;AACA,KAjEA;;AAmEA;AACA;AACA;AACA;AACA,KAvEA;;AAyEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlFA;;AAoFA;AACA;AACA;AACA;AACA;AACA,OAHA;AAIA,KA1FA;;AA4FA,sBA5FA;;AA8FA;AACA;AACA;AACA;AACA,OAFA;AAGA,4BALA,CAMA;;AACA;AACA;AACA,qCACA,6BACA,oCADA,GAEA,kCAFA,GAGA,IAJA;AAKA;AACA;AACA;AACA,KA/GA;;AAiHA;AACA;AACA;AACA;AACA,OAFA;AAGA;AAEA;AACA;AACA;AACA,SAFA;;AAGA;AACA,6CACA,IADA,EAEA;AACA;AACA,WAFA,CAFA;AAMA,8BACA,WACA,4BAFA,EAGA,OAHA,CAGA,CAHA,EAPA,CAYA;;AACA;AACA;AACA;AACA,OApBA;AAqBA,KA7IA;;AA+IA;AACA;AACA,KAjJA;;AAmJA;AACA;AACA;AACA;AACA;AACA;;AACA;AACA;AACA,4CADA;AAEA,2CAFA;AAGA,6CAHA;AAIA,6CAJA;AAKA,mDALA;AAMA,qBANA;AAMA;AACA,kDAPA;AAOA;AACA,qDARA;AASA;AACA;AACA,+BADA;AAEA,yCAFA;AAGA,0BACA,8BACA,oCADA,GAEA;AANA;AAQA,WATA;AATA,WALA,CAyBA;;AACA,6BA1BA,CA4BA;;AACA;AACA;AACA,OA/BA;AAgCA,KArLA;;AAuLA;AACA;AACA,KAzLA;;AA2LA;AACA;AACA,KA7LA;;AA+LA;AACA;;AACA,qCACA,kCACA,sCACA,OADA,EAEA,4BAFA,CAFA;AAMA,KAvMA;;AAyMA;AACA;AACA;AACA;AACA;AACA,mBACA,cACA,kBACA,uBADA,GAEA,qBAHA,CAFA;AAMA,uBANA;AAOA;AAPA;AASA,SAVA;AAWA;;AACA;AACA,KAzNA;;AA2NA;AACA;AACA;AACA;;AAEA;AACA,KAjOA;;AAmOA;AAAA;;AAAA;AACA,sCACA,IADA,CACA;AACA;AACA,SAHA,EAIA,KAJA,CAIA;AACA;AACA,SANA;AADA;AAQA,KA3OA;;AA6OA;AAAA;AACA;;AACA;AACA;AACA;AACA;;AACA;AACA;AACA;AACA,SAPA,CAOA;AACA;AACA,SATA,SASA;AACA;AACA;AACA,OAdA;;AAAA;AAAA;AAAA;AAAA;AA7OA;AA1EA,G;;ACxkBqV,CAAgB,kGAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACA3Q;AACvC;AACL;AACsC;AACxB;;;AAGhE;AAC6F;AAC7F,gBAAgB,8CAAU;AAC1B,EAAE,kCAAM;AACR,EAAE,MAAM;AACR,EAAE,eAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEe,0FAAiB;AACwB;AACA;AACA;AACA;AACA;AACG;AACgB;AACnB;AACA;AACM;AACQ;AACR;AACH;AACO;AACb;AACY;AACM;AACI;AAC6C;AAC5B;AAC5F,6BAAQ,2BAA2B,+BAAK,CAAC,+BAAK,CAAC,+BAAK,CAAC,+BAAK,CAAC,+BAAK,CAAC,iCAAM,CAAC,2CAAW,CAAC,+BAAK,CAAC,+BAAK,CAAC,mCAAO,CAAC,6CAAY,CAAC,mCAAO,CAAC,iCAAM,CAAC,yCAAU,CAAC,6BAAI,CAAC,qCAAQ,CAAC,yCAAU,CAAC,+CAAa,CAAC,iCAAM,CAAC,EAAE,6BAAQ,2BAA2B,yCAAU,CAAC;;;;;;;;;ACzC7O;AAAA;AAAA;AAA6nB,CAAgB,6pBAAG,EAAC,C","file":"js/4.d76dbc2b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-dialog',{attrs:{\"value\":_vm.showDlg,\"seamless\":\"\",\"persistent\":\"\",\"square\":\"\",\"position\":\"right\"},on:{\"hide\":_vm.emitClose}},[_c('q-card',{staticClass:\"product-dialog-content\",attrs:{\"dark\":\"\"}},[_c('q-card-section',[_c('div',{staticClass:\"text-h6\"},[_vm._v(\"Select Product\")])]),(_vm.productReady)?_c('q-card-section',[_vm._t(\"product\")],2):_vm._e(),_c('q-inner-loading',{attrs:{\"dark\":\"\",\"showing\":_vm.dialogLoading}},[_c('q-spinner-tail',{attrs:{\"size\":\"50px\",\"color\":\"white\"}})],1),(_vm.productReady)?_c('q-card-actions',{attrs:{\"align\":\"right\"}},[_vm._t(\"actions\")],2):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <q-dialog\r\n        :value=\"showDlg\"\r\n        seamless\r\n        persistent\r\n        square\r\n        position=\"right\"\r\n        @hide=\"emitClose\"\r\n    >\r\n        <q-card dark class=\"product-dialog-content\">\r\n            <q-card-section>\r\n                <div class=\"text-h6\">Select Product</div>\r\n            </q-card-section>\r\n            <q-card-section v-if=\"productReady\">\r\n                <slot name=\"product\"></slot>\r\n            </q-card-section>\r\n            <q-inner-loading dark :showing=\"dialogLoading\">\r\n                <q-spinner-tail size=\"50px\" color=\"white\" />\r\n            </q-inner-loading>\r\n\r\n            <q-card-actions align=\"right\" v-if=\"productReady\">\r\n                <slot name=\"actions\"></slot>\r\n            </q-card-actions>\r\n        </q-card>\r\n    </q-dialog>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.product-dialog-content {\r\n    min-height: 240px;\r\n    width: 420px;\r\n}\r\n</style>\r\n<script>\r\nexport default {\r\n    name: \"ProductPicker\",\r\n    props: {\r\n        showDlg: {\r\n            type: Boolean,\r\n            required: true,\r\n            default: false\r\n        },\r\n        dialogLoading: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        productReady: {\r\n            type: Boolean,\r\n            default: true\r\n        }\r\n    },\r\n    methods: {\r\n        emitClose() {\r\n            this.$emit(\"update:showDlg\", false);\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductPicker.vue?vue&type=template&id=91e94df2&scoped=true&\"\nimport script from \"./ProductPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ProductPicker.vue?vue&type=style&index=0&id=91e94df2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"91e94df2\",\n  null\n  \n)\n\nexport default component.exports\nimport QDialog from 'quasar/src/components/dialog/QDialog.js';\nimport QCard from 'quasar/src/components/card/QCard.js';\nimport QCardSection from 'quasar/src/components/card/QCardSection.js';\nimport QInnerLoading from 'quasar/src/components/inner-loading/QInnerLoading.js';\nimport QSpinnerTail from 'quasar/src/components/spinner/QSpinnerTail.js';\nimport QCardActions from 'quasar/src/components/card/QCardActions.js';\nimport qInstall from \"../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(component, 'components', {QDialog,QCard,QCardSection,QInnerLoading,QSpinnerTail,QCardActions});\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-2-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-2-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-2-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-2-3!../../../node_modules/@quasar/app/lib/webpack/loader.quasar-scss-variables.js!../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=251d6cf6&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-2-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-2-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-2-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-2-3!../../../node_modules/@quasar/app/lib/webpack/loader.quasar-scss-variables.js!../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=0&id=251d6cf6&lang=scss&scoped=true&\"","<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            prevRoute: null\r\n        };\r\n    },\r\n    beforeRouteEnter(to, from, next) {\r\n        next(vm => {\r\n            vm.prevRoute = from;\r\n        });\r\n    },\r\n    computed: {\r\n        today() {\r\n            const d = new Date();\r\n            const today = {\r\n                month: d.toLocaleDateString(\"en-US\", { month: \"long\" }),\r\n                year: d.getFullYear(),\r\n                dayOfMonth: d.getDate(),\r\n                dayOfWeek: d.getDay(),\r\n                human: d.toLocaleDateString(\"en-US\", {\r\n                    weekday: \"long\",\r\n                    month: \"long\",\r\n                    day: \"numeric\"\r\n                }),\r\n                iso: d.toISOString(),\r\n                yyyymmdd:\r\n                    d.getFullYear() +\r\n                    \"-\" +\r\n                    (d.getMonth() + 1).toString().padStart(2, 0) +\r\n                    \"-\" +\r\n                    d\r\n                        .getDate()\r\n                        .toString()\r\n                        .padStart(2, \"0\")\r\n            };\r\n            return today;\r\n        },\r\n        startDayOfMonth() {\r\n            const d = new Date();\r\n            return new Date(d.getFullYear(), d.getMonth(), 1);\r\n        },\r\n        lastDayOfMonth() {\r\n            const d = new Date();\r\n            return new Date(d.getFullYear(), d.getMonth() + 1, 0);\r\n        }\r\n    },\r\n    methods: {\r\n        // Shared methods\r\n        replaceAll: function(txt, search, replace) {\r\n            return txt.replace(new RegExp(search, \"g\"), replace);\r\n        },\r\n\r\n        // Uploaded Assets URL\r\n        resolveAssetsUrl: function(file) {\r\n            return process.env.STATIC_URL + \"\\/\" + file;\r\n        },\r\n\r\n        showNotif: function(isSuccess, msg) {\r\n            this.$q.notify({\r\n                color: isSuccess ? \"green-4\" : \"negative\",\r\n                textColor: \"white\",\r\n                icon: isSuccess ? \"check_circle_outline\" : \"error_outline\",\r\n                timeout: \"2500\",\r\n                position: \"top\",\r\n                message: msg\r\n            });\r\n        },\r\n\r\n        returnToPageIndex: function(path) {\r\n            if (this.prevRoute && this.prevRoute.path !== \"/\") {\r\n                this.$router.go(-1);\r\n            } else {\r\n                this.$router.push(path).catch(err => {});\r\n            }\r\n        },\r\n\r\n        findMaxDt: function(dt1, dt2) {\r\n            return new Date(Math.max(new Date(dt1), new Date(dt2)));\r\n        },\r\n\r\n        findMinDt: function(dt1, dt2) {\r\n            return new Date(Math.min(new Date(dt1), new Date(dt2)));\r\n        },\r\n\r\n        toQDateFormat: function(d) {\r\n            // YYYY/MM/DD format\r\n            if (d) {\r\n                return (\r\n                    d.getFullYear() +\r\n                    \"/\" +\r\n                    (d.getMonth() + 1).toString().padStart(2, 0) +\r\n                    \"/\" +\r\n                    d\r\n                        .getDate()\r\n                        .toString()\r\n                        .padStart(2, 0)\r\n                );\r\n            }\r\n\r\n            return d;\r\n        },\r\n\r\n        toHumanReadableDt: function(str_date) {\r\n            const d = new Date(str_date);\r\n            if (!d) return str_date;\r\n\r\n            return (\r\n                d.toLocaleDateString(\"en-US\", {\r\n                    year: \"numeric\",\r\n                    month: \"short\",\r\n                    day: \"numeric\"\r\n                }) +\r\n                \" \" +\r\n                d\r\n                    .getHours()\r\n                    .toString()\r\n                    .padStart(2, 0) +\r\n                \":\" +\r\n                d\r\n                    .getMinutes()\r\n                    .toString()\r\n                    .padStart(2, 0)\r\n            );\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./helpers.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./helpers.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./helpers.vue?vue&type=script&lang=js&\"\nexport * from \"./helpers.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-2-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-2-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-2-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-2-3!../../../node_modules/@quasar/app/lib/webpack/loader.quasar-scss-variables.js!../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=1&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-2-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-2-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-2-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-2-3!../../../node_modules/@quasar/app/lib/webpack/loader.quasar-scss-variables.js!../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=style&index=1&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('q-page',{staticClass:\"q-px-md q-pt-lg\"},[_c('div',{staticClass:\"page-heading text-white q-pa-md\"},[_c('div',{staticClass:\"heading-caption\"},[_c('h6',[_vm._v(\"Add Order\")]),_c('br'),_c('p',[_vm._v(\"\\n                Fill out the form to manually place an order.\\n            \")])])]),_c('div',{staticClass:\"page-contents text-white q-pa-md\"},[_c('div',{staticClass:\"content-1\"},[_c('div',{staticClass:\"text-subtitle2 flex flex-center\"},[_c('q-icon',{staticClass:\"caption-icon q-mx-md\",attrs:{\"name\":\"account_circle\"}}),_vm._v(\"Order Info\\n            \")],1),_c('div',[_c('q-form',{on:{\"submit\":function($event){$event.preventDefault();$event.stopPropagation();return _vm.onSubmit($event)}}},[_c('q-list',{staticClass:\"detail-list\",attrs:{\"separator\":\"\"}},[_c('q-item',{staticClass:\"detail-field\"},[_c('span',{staticClass:\"field-label\"},[_vm._v(\"Target Date\")]),_c('q-input',{staticClass:\"field-value\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"hide-bottom-space\":\"\",\"dark\":\"\",\"rules\":[\n                                    function (val) { return val !== null && val.trim() !== ''; },\n                                    _vm._isValidDatetime\n                                ]},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"event\"}},[_c('q-popup-proxy',{ref:\"qDateProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-date',{attrs:{\"dark\":\"\",\"no-unset\":\"\",\"mask\":\"YYYY-MM-DD HH:mm\"},on:{\"input\":function () { return _vm.$refs.qDateProxyS.hide(); }},model:{value:(_vm.order.target),callback:function ($$v) {_vm.$set(_vm.order, \"target\", $$v)},expression:\"order.target\"}})],1)],1)]},proxy:true},{key:\"append\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"access_time\"}},[_c('q-popup-proxy',{ref:\"qTimeProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[_c('q-time',{attrs:{\"dark\":\"\",\"mask\":\"YYYY-MM-DD HH:mm\",\"format24h\":\"\"},on:{\"input\":function () { return _vm.$refs.qTimeProxyS.hide(); }},model:{value:(_vm.order.target),callback:function ($$v) {_vm.$set(_vm.order, \"target\", $$v)},expression:\"order.target\"}})],1)],1)]},proxy:true}]),model:{value:(_vm.order.target),callback:function ($$v) {_vm.$set(_vm.order, \"target\", $$v)},expression:\"order.target\"}})],1),_c('q-item',{staticClass:\"detail-field\"},[_c('span',{staticClass:\"field-label\"},[_vm._v(\"Delivery Type\")]),_c('q-select',{staticClass:\"field-value\",attrs:{\"options\":_vm.deliveryTypes,\"dark\":\"\",\"dense\":\"\",\"outlined\":\"\",\"hide-bottom-space\":\"\",\"options-dense\":\"\",\"emit-value\":\"\",\"map-options\":\"\",\"lazy-rules\":\"\",\"rules\":[_vm._isValidType]},model:{value:(_vm.order.type),callback:function ($$v) {_vm.$set(_vm.order, \"type\", $$v)},expression:\"order.type\"}})],1),_c('q-item',{staticClass:\"detail-field\"},[_c('span',{staticClass:\"field-label\"},[_vm._v(\"Customer\")]),_c('q-select',{staticClass:\"field-value customer-select\",attrs:{\"options\":_vm.options,\"hide-dropdown-icon\":\"\",\"hide-bottom-space\":\"\",\"dark\":\"\",\"dense\":\"\",\"options-dense\":\"\",\"outlined\":\"\",\"use-input\":\"\",\"emit-value\":\"\",\"map-options\":\"\",\"lazy-rules\":\"\",\"rules\":[function (val) { return val !== null; }]},on:{\"filter\":_vm.filterFn,\"input\":_vm.onSelCustomer},scopedSlots:_vm._u([{key:\"append\",fn:function(){return [_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"close\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.clearSelCustomer($event)}}})]},proxy:true},{key:\"no-option\",fn:function(){return [_c('q-item',[_c('q-item-section',{staticClass:\"text-italic text-grey\"},[_vm._v(\"\\n                                            No customer account found.\\n                                        \")])],1)]},proxy:true}]),model:{value:(_vm.order.customer),callback:function ($$v) {_vm.$set(_vm.order, \"customer\", $$v)},expression:\"order.customer\"}})],1),_c('transition',{attrs:{\"name\":\"fade\"}},[(_vm.order.type == 'delivery')?_c('q-item',{staticClass:\"detail-field\"},[_c('span',{staticClass:\"field-label\"},[_vm._v(\"Address\")]),_c('q-input',{staticClass:\"field-value\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"dark\":\"\",\"hide-bottom-space\":\"\",\"lazy-rules\":\"\",\"rules\":[\n                                        function (val) { return val !== null &&\n                                            val.trim() !== ''; }\n                                    ]},model:{value:(_vm.order.address),callback:function ($$v) {_vm.$set(_vm.order, \"address\", $$v)},expression:\"order.address\"}})],1):_vm._e()],1),_c('q-item',{staticClass:\"detail-field product-field\"},[_c('span',{staticClass:\"field-label\"},[_vm._v(\"\\n                                Products\\n                            \")]),_c('div',{staticClass:\"product-details q-py-sm\"},[_vm._l((_vm.order.products),function(product,idx){return _c('q-item',{key:'product-' + idx,staticClass:\"product-item\"},[_c('q-item-section',{attrs:{\"side\":\"\"}},[_c('q-avatar',{attrs:{\"rounded\":\"\",\"size\":\"64px\"}},[_c('img',{attrs:{\"src\":product.image\n                                                        ? _vm.resolveAssetsUrl(\n                                                              product.image\n                                                          )\n                                                        : 'https://dummyimage.com/64x64/363636/ffffff.png&text=No+Img'}}),_c('q-badge',{staticClass:\"q-pt-xs\",attrs:{\"floating\":\"\",\"color\":\"teal\"}},[_vm._v(\"\\n                                                \"+_vm._s(product.quantity)+\"\\n                                            \")])],1)],1),_c('q-item-section',[_c('q-item-label',{staticClass:\"product-name\"},[_vm._v(\"\\n                                            \"+_vm._s(product.name)+\"\\n                                        \")]),_c('q-item-label',{staticClass:\"text-grey-4 product-name\",attrs:{\"caption\":\"\"}},_vm._l((product.options),function(opt,oIdx){return _c('span',{key:'optKey-' + oIdx},[_vm._v(\"\\n                                                \"+_vm._s(opt._option +\n                                                        \": \" +\n                                                        opt._selected)+\"\\n                                                \"),(\n                                                        opt.otherValue !=\n                                                            null\n                                                    )?_c('span',[_vm._v(\"(\"+_vm._s(opt.otherValue)+\") \")]):_vm._e(),_c('br')])}),0)],1),_c('q-item-section',{staticClass:\"text-white\",attrs:{\"side\":\"\"}},[(product.discount > 0)?_c('span',[_c('span',{staticClass:\"text-strike\"},[_vm._v(\"\\n                                                \"+_vm._s(product.price)+\"\\n                                            \")]),_vm._v(\"\\n                                            (-\"+_vm._s(product.discount)+\"%)\"),_c('br'),_vm._v(\"\\n                                            \"+_vm._s(product.finalPrice)+\" PHP\\n                                        \")]):_c('span',[_vm._v(_vm._s(product.price)+\" PHP\\n                                        \")])]),_c('q-item-section',{staticClass:\"text-white\",attrs:{\"side\":\"\",\"caption\":\"\"}},[_c('q-btn',{staticClass:\"ml-auto\",attrs:{\"flat\":\"\",\"dense\":\"\",\"rounded\":\"\",\"icon\":\"clear\",\"disabled\":_vm.showProductAdd},on:{\"click\":function($event){return _vm.removeProduct(idx)}}},[_c('q-tooltip',[_vm._v(\"\\n                                                Remove Product\\n                                            \")])],1)],1)],1)}),_c('q-btn',{attrs:{\"dense\":\"\",\"flat\":\"\",\"no-caps\":\"\",\"icon\":\"add\",\"label\":\"Add Product\",\"disabled\":_vm.showProductAdd},on:{\"click\":function($event){return _vm.openProductPicker()}}})],2)]),_c('q-item',{staticClass:\"detail-field\"},[_c('span',{staticClass:\"field-label\"},[_vm._v(\"\\n                                Memo\\n                            \")]),_c('q-input',{staticClass:\"field-value\",attrs:{\"type\":\"textarea\",\"rows\":3,\"textarea\":\"\",\"dense\":\"\",\"outlined\":\"\",\"dark\":\"\",\"hide-bottom-space\":\"\"},model:{value:(_vm.order.memo),callback:function ($$v) {_vm.$set(_vm.order, \"memo\", $$v)},expression:\"order.memo\"}})],1),_c('q-item',{staticClass:\"detail-field\"},[_c('span',{staticClass:\"field-label\"},[_vm._v(\"Total Price\")]),_vm._v(\"\\n                            \"+_vm._s(_vm.orderTotalPrice)+\" PHP\\n                        \")])],1),_c('q-separator'),_c('div',{staticClass:\"q-pa-md\"},[_c('q-btn',{attrs:{\"label\":\"Place Order\",\"type\":\"submit\",\"color\":\"primary\",\"loading\":_vm.loading,\"disable\":_vm.loading || this.order.products.length < 1},scopedSlots:_vm._u([{key:\"loading\",fn:function(){return [_c('q-spinner-gears')]},proxy:true}])})],1)],1)],1)]),_c('div',{staticClass:\"content-2\"}),_c('ProductPicker',{attrs:{\"showDlg\":_vm.showProductAdd},on:{\"update:showDlg\":function($event){_vm.showProductAdd=$event},\"update:show-dlg\":function($event){_vm.showProductAdd=$event},\"hide\":function($event){return _vm.onCloseDialog(_vm.val)}},scopedSlots:_vm._u([{key:\"product\",fn:function(){return [_c('q-form',{ref:\"selProductForm\"},[_c('q-item',{staticClass:\"productdlg-item\"},[_c('q-select',{staticClass:\"search-field\",attrs:{\"popup-content-class\":\"options-light\",\"options\":_vm.productOptions,\"label\":\"Search Product\",\"hide-dropdown-icon\":\"\",\"hide-bottom-space\":\"\",\"dark\":\"\",\"options-dark\":\"\",\"outlined\":\"\",\"use-input\":\"\",\"emit-value\":\"\",\"map-options\":\"\",\"debounce\":\"250\",\"loading\":_vm.pfilterLoading},on:{\"filter\":_vm.pfilterFn,\"input\":_vm.onSelectProduct},scopedSlots:_vm._u([{key:\"prepend\",fn:function(){return [_c('q-icon',{attrs:{\"name\":\"search\",\"color\":\"white\"}})]},proxy:true},{key:\"append\",fn:function(){return [(!_vm.pfilterLoading)?_c('q-icon',{staticClass:\"cursor-pointer\",attrs:{\"name\":\"close\"},on:{\"click\":function($event){$event.stopPropagation();[\n                                            (_vm.searchProduct = null),\n                                            (_vm.selectProduct = null)\n                                        ]}}}):_vm._e()]},proxy:true},{key:\"no-option\",fn:function(){return [_c('q-item',{staticClass:\"options-light\"},[_c('q-item-section',{staticClass:\"text-italic text-grey\"},[_vm._v(\"\\n                                        No products found.\\n                                    \")])],1)]},proxy:true}]),model:{value:(_vm.searchProduct),callback:function ($$v) {_vm.searchProduct=$$v},expression:\"searchProduct\"}})],1),(_vm.selectProduct)?_c('q-list',{staticClass:\"productdlg-list\"},[_c('q-item',{staticClass:\"productdlg-item\"},[_c('div',{staticClass:\"attr-label text-grey-6\"},[_vm._v(\"\\n                                Name\\n                            \")]),_c('div',{staticClass:\"attr-value\"},[_vm._v(\"\\n                                \"+_vm._s(_vm.selectProduct.name)+\"\\n                            \")])]),_c('q-item',{staticClass:\"productdlg-item\"},[_c('div',{staticClass:\"attr-label text-grey-6\"},[_vm._v(\"\\n                                Qty. (MIN:\\n                                \"+_vm._s(_vm.selectProduct.minOrderQuantity)+\")\\n                            \")]),_c('q-input',{staticClass:\"attr-value\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"hide-bottom-space\":\"\",\"dark\":\"\",\"type\":\"number\",\"min\":_vm.selectProduct.minOrderQuantity},on:{\"input\":_vm.onChgQty},model:{value:(_vm.customizedProduct.quantity),callback:function ($$v) {_vm.$set(_vm.customizedProduct, \"quantity\", $$v)},expression:\"customizedProduct.quantity\"}})],1),_c('q-item',{staticClass:\"productdlg-item\"},[_c('div',{staticClass:\"attr-label text-grey-6\"},[_vm._v(\"\\n                                Options\\n                            \")]),_vm._l((_vm.selectProduct.options),function(item,key){return _c('div',{key:'optKey-' + key,staticClass:\"attr-value q-my-sm\"},[_c('span',{staticClass:\"capitalize option-label\"},[_vm._v(\"\\n                                    \"+_vm._s(item.attribute)+\"\\n                                \")]),_c('q-select',{attrs:{\"popup-content-class\":\"options-light\",\"dense\":\"\",\"dark\":\"\",\"outlined\":\"\",\"options\":_vm.toSelOptions(\n                                            item.attribute,\n                                            item.choices\n                                        ),\"lazy-rules\":\"\",\"rules\":[function (val) { return !!val; }]},on:{\"input\":function($event){return _vm.onSelOption(key)}},model:{value:(_vm.customizedProduct.options[key]),callback:function ($$v) {_vm.$set(_vm.customizedProduct.options, key, $$v)},expression:\"customizedProduct.options[key]\"}}),(\n                                        _vm.isOtherSelected(\n                                            _vm.customizedProduct.options[key]\n                                        )\n                                    )?_c('q-input',{attrs:{\"dense\":\"\",\"dark\":\"\",\"outlined\":\"\",\"placeholder\":\"Please specify\",\"lazy-rules\":\"\",\"rules\":[function (val) { return !!val; }]},model:{value:(\n                                        _vm.customizedProduct.otherVal[key]\n                                    ),callback:function ($$v) {_vm.$set(_vm.customizedProduct.otherVal, key, $$v)},expression:\"\\n                                        customizedProduct.otherVal[key]\\n                                    \"}}):_vm._e()],1)})],2),_c('q-item',{staticClass:\"productdlg-item\"},[_c('div',{staticClass:\"attr-label text-grey-6\"},[_vm._v(\"\\n                                Price (PHP)\\n                            \")]),_c('div',{staticClass:\"attr-value\"},[_vm._v(\"\\n                                \"+_vm._s(_vm.customizedProduct.price)+\"\\n                            \")])])],1):_vm._e()],1)]},proxy:true},{key:\"actions\",fn:function(){return [_c('q-btn',{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{\"flat\":\"\",\"label\":\"Cancel\"},on:{\"click\":_vm.onCloseDialog}}),_c('q-btn',{attrs:{\"flat\":\"\",\"label\":\"Add\",\"color\":\"primary\"},on:{\"click\":_vm.onSetProduct}})]},proxy:true}])})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <q-page class=\"q-px-md q-pt-lg\">\r\n        <div class=\"page-heading text-white q-pa-md\">\r\n            <div class=\"heading-caption\">\r\n                <h6>Add Order</h6>\r\n                <br />\r\n                <p>\r\n                    Fill out the form to manually place an order.\r\n                </p>\r\n            </div>\r\n        </div>\r\n        <div class=\"page-contents text-white q-pa-md\">\r\n            <div class=\"content-1\">\r\n                <div class=\"text-subtitle2 flex flex-center\">\r\n                    <q-icon\r\n                        name=\"account_circle\"\r\n                        class=\"caption-icon q-mx-md\"\r\n                    />Order Info\r\n                </div>\r\n                <div>\r\n                    <q-form @submit.prevent.stop=\"onSubmit\">\r\n                        <q-list class=\"detail-list\" separator>\r\n                            <q-item class=\"detail-field\">\r\n                                <span class=\"field-label\">Target Date</span>\r\n                                <q-input\r\n                                    dense\r\n                                    outlined\r\n                                    hide-bottom-space\r\n                                    dark\r\n                                    class=\"field-value\"\r\n                                    v-model=\"order.target\"\r\n                                    :rules=\"[\r\n                                        val =>\r\n                                            val !== null && val.trim() !== '',\r\n                                        _isValidDatetime\r\n                                    ]\"\r\n                                >\r\n                                    <template v-slot:prepend>\r\n                                        <q-icon\r\n                                            name=\"event\"\r\n                                            class=\"cursor-pointer\"\r\n                                        >\r\n                                            <q-popup-proxy\r\n                                                ref=\"qDateProxyS\"\r\n                                                transition-show=\"scale\"\r\n                                                transition-hide=\"scale\"\r\n                                            >\r\n                                                <q-date\r\n                                                    dark\r\n                                                    no-unset\r\n                                                    v-model=\"order.target\"\r\n                                                    mask=\"YYYY-MM-DD HH:mm\"\r\n                                                    @input=\"\r\n                                                        () =>\r\n                                                            $refs.qDateProxyS.hide()\r\n                                                    \"\r\n                                                />\r\n                                            </q-popup-proxy>\r\n                                        </q-icon>\r\n                                    </template>\r\n\r\n                                    <template v-slot:append>\r\n                                        <q-icon\r\n                                            name=\"access_time\"\r\n                                            class=\"cursor-pointer\"\r\n                                        >\r\n                                            <q-popup-proxy\r\n                                                ref=\"qTimeProxyS\"\r\n                                                transition-show=\"scale\"\r\n                                                transition-hide=\"scale\"\r\n                                            >\r\n                                                <q-time\r\n                                                    dark\r\n                                                    v-model=\"order.target\"\r\n                                                    mask=\"YYYY-MM-DD HH:mm\"\r\n                                                    format24h\r\n                                                    @input=\"\r\n                                                        () =>\r\n                                                            $refs.qTimeProxyS.hide()\r\n                                                    \"\r\n                                                />\r\n                                            </q-popup-proxy>\r\n                                        </q-icon>\r\n                                    </template>\r\n                                </q-input>\r\n                            </q-item>\r\n                            <q-item class=\"detail-field\">\r\n                                <span class=\"field-label\">Delivery Type</span>\r\n                                <q-select\r\n                                    class=\"field-value\"\r\n                                    v-model=\"order.type\"\r\n                                    :options=\"deliveryTypes\"\r\n                                    dark\r\n                                    dense\r\n                                    outlined\r\n                                    hide-bottom-space\r\n                                    options-dense\r\n                                    emit-value\r\n                                    map-options\r\n                                    lazy-rules\r\n                                    :rules=\"[_isValidType]\"\r\n                                />\r\n                            </q-item>\r\n                            <q-item class=\"detail-field\">\r\n                                <span class=\"field-label\">Customer</span>\r\n                                <q-select\r\n                                    class=\"field-value customer-select\"\r\n                                    v-model=\"order.customer\"\r\n                                    :options=\"options\"\r\n                                    hide-dropdown-icon\r\n                                    hide-bottom-space\r\n                                    dark\r\n                                    dense\r\n                                    options-dense\r\n                                    outlined\r\n                                    use-input\r\n                                    @filter=\"filterFn\"\r\n                                    emit-value\r\n                                    map-options\r\n                                    lazy-rules\r\n                                    :rules=\"[val => val !== null]\"\r\n                                    @input=\"onSelCustomer\"\r\n                                >\r\n                                    <template v-slot:append>\r\n                                        <q-icon\r\n                                            name=\"close\"\r\n                                            @click.stop=\"clearSelCustomer\"\r\n                                            class=\"cursor-pointer\"\r\n                                        />\r\n                                    </template>\r\n                                    <template v-slot:no-option>\r\n                                        <q-item>\r\n                                            <q-item-section\r\n                                                class=\"text-italic text-grey\"\r\n                                            >\r\n                                                No customer account found.\r\n                                            </q-item-section>\r\n                                        </q-item>\r\n                                    </template>\r\n                                </q-select>\r\n                            </q-item>\r\n                            <transition name=\"fade\">\r\n                                <q-item\r\n                                    class=\"detail-field\"\r\n                                    v-if=\"order.type == 'delivery'\"\r\n                                >\r\n                                    <span class=\"field-label\">Address</span>\r\n                                    <q-input\r\n                                        dense\r\n                                        outlined\r\n                                        dark\r\n                                        hide-bottom-space\r\n                                        class=\"field-value\"\r\n                                        v-model=\"order.address\"\r\n                                        lazy-rules\r\n                                        :rules=\"[\r\n                                            val =>\r\n                                                val !== null &&\r\n                                                val.trim() !== ''\r\n                                        ]\"\r\n                                    />\r\n                                </q-item>\r\n                            </transition>\r\n                            <q-item class=\"detail-field product-field\">\r\n                                <span class=\"field-label\">\r\n                                    Products\r\n                                </span>\r\n                                <div class=\"product-details q-py-sm\">\r\n                                    <q-item\r\n                                        class=\"product-item\"\r\n                                        v-for=\"(product, idx) in order.products\"\r\n                                        :key=\"'product-' + idx\"\r\n                                    >\r\n                                        <q-item-section side>\r\n                                            <q-avatar rounded size=\"64px\">\r\n                                                <img\r\n                                                    :src=\"\r\n                                                        product.image\r\n                                                            ? resolveAssetsUrl(\r\n                                                                  product.image\r\n                                                              )\r\n                                                            : 'https://dummyimage.com/64x64/363636/ffffff.png&text=No+Img'\r\n                                                    \"\r\n                                                />\r\n                                                <q-badge\r\n                                                    floating\r\n                                                    color=\"teal\"\r\n                                                    class=\"q-pt-xs\"\r\n                                                >\r\n                                                    {{ product.quantity }}\r\n                                                </q-badge>\r\n                                            </q-avatar>\r\n                                        </q-item-section>\r\n                                        <q-item-section>\r\n                                            <q-item-label class=\"product-name\">\r\n                                                {{ product.name }}\r\n                                            </q-item-label>\r\n                                            <q-item-label\r\n                                                caption\r\n                                                class=\"text-grey-4 product-name\"\r\n                                            >\r\n                                                <span\r\n                                                    v-for=\"(opt,\r\n                                                    oIdx) in product.options\"\r\n                                                    :key=\"'optKey-' + oIdx\"\r\n                                                >\r\n                                                    {{\r\n                                                        opt._option +\r\n                                                            \": \" +\r\n                                                            opt._selected\r\n                                                    }}\r\n                                                    <span\r\n                                                        v-if=\"\r\n                                                            opt.otherValue !=\r\n                                                                null\r\n                                                        \"\r\n                                                        >({{\r\n                                                            opt.otherValue\r\n                                                        }}) </span\r\n                                                    ><br />\r\n                                                </span>\r\n                                            </q-item-label>\r\n                                        </q-item-section>\r\n                                        <q-item-section side class=\"text-white\">\r\n                                            <span v-if=\"product.discount > 0\">\r\n                                                <span class=\"text-strike\">\r\n                                                    {{ product.price }}\r\n                                                </span>\r\n                                                (-{{ product.discount }}%)<br />\r\n                                                {{ product.finalPrice }} PHP\r\n                                            </span>\r\n                                            <span v-else\r\n                                                >{{ product.price }} PHP\r\n                                            </span>\r\n                                        </q-item-section>\r\n                                        <q-item-section\r\n                                            side\r\n                                            caption\r\n                                            class=\"text-white\"\r\n                                        >\r\n                                            <q-btn\r\n                                                flat\r\n                                                dense\r\n                                                rounded\r\n                                                class=\"ml-auto\"\r\n                                                icon=\"clear\"\r\n                                                @click=\"removeProduct(idx)\"\r\n                                                :disabled=\"showProductAdd\"\r\n                                            >\r\n                                                <q-tooltip>\r\n                                                    Remove Product\r\n                                                </q-tooltip>\r\n                                            </q-btn>\r\n                                        </q-item-section>\r\n                                    </q-item>\r\n                                    <q-btn\r\n                                        dense\r\n                                        flat\r\n                                        no-caps\r\n                                        icon=\"add\"\r\n                                        label=\"Add Product\"\r\n                                        :disabled=\"showProductAdd\"\r\n                                        @click=\"openProductPicker()\"\r\n                                    />\r\n                                </div>\r\n                            </q-item>\r\n                            <q-item class=\"detail-field\">\r\n                                <span class=\"field-label\">\r\n                                    Memo\r\n                                </span>\r\n                                <q-input\r\n                                    type=\"textarea\"\r\n                                    :rows=\"3\"\r\n                                    textarea\r\n                                    dense\r\n                                    outlined\r\n                                    dark\r\n                                    hide-bottom-space\r\n                                    class=\"field-value\"\r\n                                    v-model=\"order.memo\"\r\n                                />\r\n                            </q-item>\r\n                            <q-item class=\"detail-field\">\r\n                                <span class=\"field-label\">Total Price</span>\r\n                                {{ orderTotalPrice }} PHP\r\n                            </q-item>\r\n                        </q-list>\r\n                        <q-separator />\r\n                        <div class=\"q-pa-md\">\r\n                            <q-btn\r\n                                label=\"Place Order\"\r\n                                type=\"submit\"\r\n                                color=\"primary\"\r\n                                :loading=\"loading\"\r\n                                :disable=\"\r\n                                    loading || this.order.products.length < 1\r\n                                \"\r\n                            >\r\n                                <template v-slot:loading>\r\n                                    <q-spinner-gears />\r\n                                </template>\r\n                            </q-btn>\r\n                        </div>\r\n                    </q-form>\r\n                </div>\r\n            </div>\r\n            <div class=\"content-2\"></div>\r\n            <!-- Product Picker Dialog -->\r\n            <ProductPicker\r\n                :showDlg.sync=\"showProductAdd\"\r\n                @hide=\"onCloseDialog(val)\"\r\n            >\r\n                <template v-slot:product>\r\n                    <q-form ref=\"selProductForm\">\r\n                        <q-item class=\"productdlg-item\">\r\n                            <q-select\r\n                                class=\"search-field\"\r\n                                popup-content-class=\"options-light\"\r\n                                v-model=\"searchProduct\"\r\n                                :options=\"productOptions\"\r\n                                label=\"Search Product\"\r\n                                hide-dropdown-icon\r\n                                hide-bottom-space\r\n                                dark\r\n                                options-dark\r\n                                outlined\r\n                                use-input\r\n                                emit-value\r\n                                map-options\r\n                                debounce=\"250\"\r\n                                :loading=\"pfilterLoading\"\r\n                                @filter=\"pfilterFn\"\r\n                                @input=\"onSelectProduct\"\r\n                            >\r\n                                <template v-slot:prepend>\r\n                                    <q-icon name=\"search\" color=\"white\" />\r\n                                </template>\r\n                                <template v-slot:append>\r\n                                    <q-icon\r\n                                        name=\"close\"\r\n                                        v-if=\"!pfilterLoading\"\r\n                                        @click.stop=\"\r\n                                            [\r\n                                                (searchProduct = null),\r\n                                                (selectProduct = null)\r\n                                            ]\r\n                                        \"\r\n                                        class=\"cursor-pointer\"\r\n                                    />\r\n                                </template>\r\n                                <template v-slot:no-option>\r\n                                    <q-item class=\"options-light\">\r\n                                        <q-item-section\r\n                                            class=\"text-italic text-grey\"\r\n                                        >\r\n                                            No products found.\r\n                                        </q-item-section>\r\n                                    </q-item>\r\n                                </template>\r\n                            </q-select>\r\n                        </q-item>\r\n                        <q-list class=\"productdlg-list\" v-if=\"selectProduct\">\r\n                            <q-item class=\"productdlg-item\">\r\n                                <div class=\"attr-label text-grey-6\">\r\n                                    Name\r\n                                </div>\r\n                                <div class=\"attr-value\">\r\n                                    {{ selectProduct.name }}\r\n                                </div>\r\n                            </q-item>\r\n                            <q-item class=\"productdlg-item\">\r\n                                <div class=\"attr-label text-grey-6\">\r\n                                    Qty. (MIN:\r\n                                    {{ selectProduct.minOrderQuantity }})\r\n                                </div>\r\n                                <q-input\r\n                                    dense\r\n                                    outlined\r\n                                    hide-bottom-space\r\n                                    dark\r\n                                    type=\"number\"\r\n                                    class=\"attr-value\"\r\n                                    @input=\"onChgQty\"\r\n                                    :min=\"selectProduct.minOrderQuantity\"\r\n                                    v-model=\"customizedProduct.quantity\"\r\n                                />\r\n                            </q-item>\r\n                            <q-item class=\"productdlg-item\">\r\n                                <div class=\"attr-label text-grey-6\">\r\n                                    Options\r\n                                </div>\r\n                                <div\r\n                                    class=\"attr-value q-my-sm\"\r\n                                    v-for=\"(item, key) in selectProduct.options\"\r\n                                    :key=\"'optKey-' + key\"\r\n                                >\r\n                                    <span class=\"capitalize option-label\">\r\n                                        {{ item.attribute }}\r\n                                    </span>\r\n                                    <q-select\r\n                                        popup-content-class=\"options-light\"\r\n                                        dense\r\n                                        dark\r\n                                        outlined\r\n                                        :options=\"\r\n                                            toSelOptions(\r\n                                                item.attribute,\r\n                                                item.choices\r\n                                            )\r\n                                        \"\r\n                                        v-model=\"customizedProduct.options[key]\"\r\n                                        @input=\"onSelOption(key)\"\r\n                                        lazy-rules\r\n                                        :rules=\"[val => !!val]\"\r\n                                    />\r\n                                    <q-input\r\n                                        v-if=\"\r\n                                            isOtherSelected(\r\n                                                customizedProduct.options[key]\r\n                                            )\r\n                                        \"\r\n                                        dense\r\n                                        dark\r\n                                        outlined\r\n                                        placeholder=\"Please specify\"\r\n                                        v-model=\"\r\n                                            customizedProduct.otherVal[key]\r\n                                        \"\r\n                                        lazy-rules\r\n                                        :rules=\"[val => !!val]\"\r\n                                    />\r\n                                </div>\r\n                            </q-item>\r\n                            <q-item class=\"productdlg-item\">\r\n                                <div class=\"attr-label text-grey-6\">\r\n                                    Price (PHP)\r\n                                </div>\r\n                                <div class=\"attr-value\">\r\n                                    {{ customizedProduct.price }}\r\n                                </div>\r\n                            </q-item>\r\n                        </q-list>\r\n                    </q-form>\r\n                </template>\r\n                <template v-slot:actions>\r\n                    <q-btn\r\n                        flat\r\n                        label=\"Cancel\"\r\n                        @click=\"onCloseDialog\"\r\n                        v-close-popup\r\n                    />\r\n                    <q-btn\r\n                        flat\r\n                        label=\"Add\"\r\n                        color=\"primary\"\r\n                        @click=\"onSetProduct\"\r\n                    />\r\n                </template>\r\n            </ProductPicker>\r\n        </div>\r\n    </q-page>\r\n</template>\r\n\r\n<style lang=\"scss\" scoped>\r\n.page-heading,\r\n.page-contents {\r\n    display: grid;\r\n}\r\n.page-contents {\r\n    grid-template-columns: minmax(360px, 720px);\r\n    grid-template-areas:\r\n        \"content-1\"\r\n        \"content-2\";\r\n    grid-column-gap: 1rem;\r\n    grid-row-gap: 2rem;\r\n}\r\n.content-1 {\r\n    grid-area: content-1;\r\n}\r\n.content-2 {\r\n    grid-area: content-2;\r\n}\r\ndiv[class*=\"content-\"] {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\ndiv[class*=\"content-\"] > div {\r\n    min-height: 4em;\r\n    justify-content: left;\r\n    margin: 1px 0;\r\n    background: rgba(128, 128, 128, 0.65);\r\n    width: 100%;\r\n}\r\n.caption-icon {\r\n    font-size: 2.5rem;\r\n    display: inline-flex;\r\n}\r\n.detail-list {\r\n    display: flex;\r\n    flex-direction: column;\r\n}\r\n.detail-field {\r\n    align-items: center;\r\n}\r\n.detail-field .field-label {\r\n    min-width: 140px;\r\n    width: 140px;\r\n}\r\n.detail-field .field-value {\r\n    flex: 1;\r\n}\r\n.product-details {\r\n    display: flex;\r\n    width: 100%;\r\n    flex-direction: column;\r\n    gap: 1rem;\r\n}\r\n.product-details > button {\r\n    align-self: flex-start;\r\n}\r\n.product-item {\r\n    border: 1px solid #fff;\r\n}\r\n.product-name {\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    width: inherit;\r\n}\r\n.productdlg-item {\r\n    flex-wrap: wrap;\r\n}\r\n.productdlg-item > div {\r\n    text-transform: capitalize;\r\n}\r\ndiv[class*=\"attr-\"] {\r\n    flex-basis: 100%;\r\n}\r\n.search-field {\r\n    width: 100%;\r\n    overflow: hidden;\r\n    word-wrap: none;\r\n    text-overflow: ellipsis;\r\n}\r\n@media (max-width: 580px) {\r\n    .detail-field {\r\n        flex-direction: column;\r\n        align-items: flex-start;\r\n    }\r\n    .detail-field .field-label,\r\n    .detail-field .field-value {\r\n        line-height: 2em;\r\n        width: 100%;\r\n    }\r\n}\r\n\r\n@media (max-width: 810px) {\r\n    .product-field {\r\n        flex-direction: column;\r\n        align-items: flex-start;\r\n    }\r\n    .product-field .product-details {\r\n        line-height: 2em;\r\n        width: 100%;\r\n    }\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n.q-field__bottom {\r\n    display: none;\r\n}\r\n.options-light {\r\n    background: #fff !important;\r\n}\r\n.options-light .q-item__label {\r\n    color: #000 !important;\r\n}\r\n</style>\r\n<script>\r\nimport ProductPicker from \"../../components/ProductPicker\";\r\nimport HelperMixin from \"../../mixins/helpers\";\r\nlet Account = null,\r\n    Product = null,\r\n    Order = null;\r\n\r\nexport default {\r\n    name: \"OrderAdd\",\r\n    components: { ProductPicker },\r\n    mixins: [HelperMixin],\r\n    meta() {\r\n        return {\r\n            title: \"Add Order\"\r\n        };\r\n    },\r\n    beforeCreate() {\r\n        Account = this.$RepositoryFactory.get(\"accounts\");\r\n        Product = this.$RepositoryFactory.get(\"products\");\r\n        Order = this.$RepositoryFactory.get(\"orders\");\r\n    },\r\n    created() {\r\n        if (process.env.CLIENT) {\r\n            this.getAccounts();\r\n        }\r\n    },\r\n    computed: {\r\n        orderTotalPrice() {\r\n            return this.order.products.length > 0\r\n                ? this.order.products.reduce((total, item) => {\r\n                      return (\r\n                          total +\r\n                          Number.parseInt(\r\n                              item.finalPrice ? item.finalPrice : item.price\r\n                          )\r\n                      );\r\n                  }, 0)\r\n                : 0;\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            showProductAdd: false,\r\n            loading: false,\r\n            pfilterLoading: false,\r\n            order: {\r\n                products: [],\r\n                customer: null,\r\n                target: null,\r\n                address: \"\",\r\n                type: \"delivery\",\r\n                memo: \"\"\r\n            },\r\n            deliveryTypes: [\r\n                {\r\n                    label: \"For Delivery\",\r\n                    value: \"delivery\"\r\n                },\r\n                {\r\n                    label: \"For Pickup\",\r\n                    value: \"pickup\"\r\n                }\r\n            ],\r\n            customerList: [],\r\n            productList: [],\r\n            options: null,\r\n            productOptions: null,\r\n            searchProduct: null,\r\n            selectProduct: null,\r\n            customizedProduct: {\r\n                id: -1,\r\n                name: \"\",\r\n                image: \"\",\r\n                quantity: 0,\r\n                price: 0,\r\n                discounts: [],\r\n                options: [],\r\n                otherVal: []\r\n            }\r\n        };\r\n    },\r\n    methods: {\r\n        _isValidType(val) {\r\n            if (\r\n                !(\r\n                    this.order.type &&\r\n                    this.deliveryTypes &&\r\n                    this.deliveryTypes.length > 0\r\n                )\r\n            ) {\r\n                return \"Invalid type selected\";\r\n            }\r\n\r\n            const typeItem = this.deliveryTypes.find(option => {\r\n                return option.value === this.order.type;\r\n            });\r\n\r\n            if (!typeItem) return \"Invalid type selected\";\r\n\r\n            return true;\r\n        },\r\n\r\n        _isValidDatetime(val) {\r\n            const dtpattern = /^\\d{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01]) (0?[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9])$/g;\r\n            return dtpattern.test(val) || \"Invalid date & time format\";\r\n        },\r\n\r\n        filterFn(val, update, abort) {\r\n            if (!val || val.trim() == \"\") {\r\n                abort();\r\n                return;\r\n            }\r\n\r\n            update(() => {\r\n                const needle = val.toLowerCase();\r\n                this.options = this.customerList.filter(\r\n                    v => v.label.toLowerCase().indexOf(needle) > -1\r\n                );\r\n            });\r\n        },\r\n\r\n        async pfilterFn(val, update, abort) {\r\n            if (!val || val.trim() == \"\") {\r\n                abort();\r\n                return;\r\n            }\r\n\r\n            try {\r\n                this.pfilterLoading = true;\r\n                const res = await Product.searchProducts(val);\r\n                this.productList = res.products.slice();\r\n\r\n                update(() => {\r\n                    this.productOptions = this.productList.map(item => {\r\n                        return { label: item.name, value: item.id };\r\n                    });\r\n                });\r\n            } catch (err) {\r\n                this.showNotif(false, \"Error searching product/s.\" + err);\r\n            } finally {\r\n                this.pfilterLoading = false;\r\n            }\r\n        },\r\n\r\n        removeProduct(productKey) {\r\n            this.$delete(this.order.products, productKey);\r\n        },\r\n\r\n        openProductPicker(evt) {\r\n            this.selectProduct = null;\r\n            this.searchProduct = null;\r\n            this.showProductAdd = true;\r\n        },\r\n\r\n        clearSelection() {\r\n            this.customizedProduct.id = -1;\r\n            this.customizedProduct.name = \"\";\r\n            this.customizedProduct.image = \"\";\r\n            this.customizedProduct.options = [];\r\n            this.customizedProduct.discounts = [];\r\n            this.customizedProduct.otherVal = [];\r\n            this.customizedProduct.quantity = 0;\r\n            this.customizedProduct.price = 0;\r\n        },\r\n\r\n        clearSelCustomer() {\r\n            this.order.customer = null;\r\n            this.order.products.forEach(item => {\r\n                item.discount = 0;\r\n                item.finalPrice = item.price;\r\n            });\r\n        },\r\n\r\n        onCloseDialog() {},\r\n\r\n        onSelectProduct(val) {\r\n            // On select from search results\r\n            this.selectProduct = this.productList.find(item => {\r\n                return item.id == val;\r\n            });\r\n            this.clearSelection();\r\n            // Set item for cutomization\r\n            this.customizedProduct.id = this.selectProduct.id;\r\n            this.customizedProduct.name = this.selectProduct.name;\r\n            this.customizedProduct.image =\r\n                this.selectProduct.images &&\r\n                this.selectProduct.images.length > 0\r\n                    ? this.selectProduct.images[0].image\r\n                    : null;\r\n            this.customizedProduct.quantity = this.selectProduct.minOrderQuantity;\r\n            this.customizedProduct.discounts = this.selectProduct.discount;\r\n            this.calcCustomizationPrice();\r\n        },\r\n\r\n        finalizePrice() {\r\n            // Check for discounts and update prices\r\n            const accnt = this.customerList.find(item => {\r\n                return item.value == this.order.customer;\r\n            });\r\n            if (!accnt) return;\r\n\r\n            this.order.products.forEach(el => {\r\n                const discount = el.discounts.filter(item => {\r\n                    return item.target == accnt.type || item.target == \"all\";\r\n                });\r\n                if (discount && discount.length > 0) {\r\n                    const maxDiscount = Math.max.apply(\r\n                        Math,\r\n                        discount.map(function(o) {\r\n                            return o.percent;\r\n                        })\r\n                    );\r\n                    const finalPrice = (\r\n                        el.price -\r\n                        (el.price * maxDiscount) / 100\r\n                    ).toFixed(0);\r\n\r\n                    // Update new price (discounted)\r\n                    el.discount = maxDiscount;\r\n                    el.finalPrice = finalPrice;\r\n                }\r\n            });\r\n        },\r\n\r\n        onSelCustomer(val) {\r\n            this.finalizePrice();\r\n        },\r\n\r\n        onSetProduct(evt) {\r\n            // On \"Add\" from Dialog\r\n            this.$refs.selProductForm.validate().then(success => {\r\n                if (!success) {\r\n                    return;\r\n                }\r\n                if (!this.selectProduct) return;\r\n                this.order.products.push({\r\n                    product: this.customizedProduct.id,\r\n                    name: this.customizedProduct.name,\r\n                    image: this.customizedProduct.image,\r\n                    price: this.customizedProduct.price,\r\n                    quantity: this.customizedProduct.quantity,\r\n                    discount: 0, // temporary\r\n                    finalPrice: this.customizedProduct.price, //temporary\r\n                    discounts: this.customizedProduct.discounts,\r\n                    options: this.customizedProduct.options.map((item, key) => {\r\n                        return {\r\n                            _option: item.key,\r\n                            _selected: item.value.value,\r\n                            otherValue:\r\n                                item.value.value == \"Other\"\r\n                                    ? this.customizedProduct.otherVal[key]\r\n                                    : null\r\n                        };\r\n                    })\r\n                });\r\n                // Update all prices\r\n                this.finalizePrice();\r\n\r\n                // Reset Dialog\r\n                this.showProductAdd = false;\r\n                this.clearSelection();\r\n            });\r\n        },\r\n\r\n        onChgQty(val) {\r\n            this.calcCustomizationPrice();\r\n        },\r\n\r\n        onSelOption(val) {\r\n            this.calcCustomizationPrice();\r\n        },\r\n\r\n        calcCustomizationPrice() {\r\n            const reducer = (total, item) => total + item.value.price;\r\n            this.customizedProduct.price =\r\n                this.customizedProduct.quantity *\r\n                this.customizedProduct.options.reduce(\r\n                    reducer,\r\n                    this.selectProduct.basePrice\r\n                );\r\n        },\r\n\r\n        toSelOptions(key, obj) {\r\n            // console.log(this.customizedProduct);\r\n            if (obj) {\r\n                return obj.map(item => {\r\n                    return {\r\n                        label:\r\n                            item.value +\r\n                            (item.price >= 0\r\n                                ? `(+${item.price}  PHP)`\r\n                                : `(${item.price} PHP)`),\r\n                        value: item,\r\n                        key: key\r\n                    };\r\n                });\r\n            }\r\n            return obj;\r\n        },\r\n\r\n        isOtherSelected(obj) {\r\n            if (obj) {\r\n                return obj.value.value == \"Other\";\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        async getAccounts() {\r\n            Account.getAccountSelection()\r\n                .then(dat => {\r\n                    this.customerList = dat;\r\n                })\r\n                .catch(err => {\r\n                    this.customerList = [];\r\n                });\r\n        },\r\n\r\n        onSubmit: async function(evt) {\r\n            this.loading = true;\r\n            try {\r\n                if (this.order.products.length < 1) {\r\n                    throw \"No products selected\";\r\n                }\r\n                await Order.placeOrder(this.order);\r\n                this.showNotif(true, \"Placed new Order.\");\r\n                this.returnToPageIndex(\"/orders\");\r\n            } catch (err) {\r\n                this.showNotif(false, \"Could not place the order. \");\r\n            } finally {\r\n                this.loading = false;\r\n            }\r\n        }\r\n    }\r\n};\r\n</script>\r\n","import mod from \"-!../../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/@quasar/app/lib/webpack/loader.transform-quasar-imports.js!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Add.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Add.vue?vue&type=template&id=251d6cf6&scoped=true&\"\nimport script from \"./Add.vue?vue&type=script&lang=js&\"\nexport * from \"./Add.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Add.vue?vue&type=style&index=0&id=251d6cf6&lang=scss&scoped=true&\"\nimport style1 from \"./Add.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"251d6cf6\",\n  null\n  \n)\n\nexport default component.exports\nimport QPage from 'quasar/src/components/page/QPage.js';\nimport QIcon from 'quasar/src/components/icon/QIcon.js';\nimport QForm from 'quasar/src/components/form/QForm.js';\nimport QList from 'quasar/src/components/item/QList.js';\nimport QItem from 'quasar/src/components/item/QItem.js';\nimport QInput from 'quasar/src/components/input/QInput.js';\nimport QPopupProxy from 'quasar/src/components/popup-proxy/QPopupProxy.js';\nimport QDate from 'quasar/src/components/date/QDate.js';\nimport QTime from 'quasar/src/components/time/QTime.js';\nimport QSelect from 'quasar/src/components/select/QSelect.js';\nimport QItemSection from 'quasar/src/components/item/QItemSection.js';\nimport QAvatar from 'quasar/src/components/avatar/QAvatar.js';\nimport QBadge from 'quasar/src/components/badge/QBadge.js';\nimport QItemLabel from 'quasar/src/components/item/QItemLabel.js';\nimport QBtn from 'quasar/src/components/btn/QBtn.js';\nimport QTooltip from 'quasar/src/components/tooltip/QTooltip.js';\nimport QSeparator from 'quasar/src/components/separator/QSeparator.js';\nimport QSpinnerGears from 'quasar/src/components/spinner/QSpinnerGears.js';\nimport QField from 'quasar/src/components/field/QField.js';import ClosePopup from 'quasar/src/directives/ClosePopup.js';\nimport qInstall from \"../../../node_modules/@quasar/app/lib/webpack/runtime.auto-import.js\";\nqInstall(component, 'components', {QPage,QIcon,QForm,QList,QItem,QInput,QPopupProxy,QDate,QTime,QSelect,QItemSection,QAvatar,QBadge,QItemLabel,QBtn,QTooltip,QSeparator,QSpinnerGears,QField});qInstall(component, 'directives', {ClosePopup});\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-2-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-2-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-2-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-2-3!../../node_modules/@quasar/app/lib/webpack/loader.quasar-scss-variables.js!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductPicker.vue?vue&type=style&index=0&id=91e94df2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-2-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-2-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-2-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-2-3!../../node_modules/@quasar/app/lib/webpack/loader.quasar-scss-variables.js!../../node_modules/@quasar/app/lib/webpack/loader.auto-import-client.js?kebab!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductPicker.vue?vue&type=style&index=0&id=91e94df2&lang=scss&scoped=true&\""],"sourceRoot":""}