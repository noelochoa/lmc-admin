(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"713b":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-layout",{ref:"page",attrs:{view:"hHh lpR fFf"}},[a("div",{staticClass:"blur-bg"}),a("q-header",{staticClass:"text-white navheader",class:{scrolled:e.scrolled}},[a("q-toolbar",[a("q-btn",{staticClass:"q-mr-sm",attrs:{dense:"",flat:"",round:"",icon:"person_add",to:"/users/add"}},[a("q-tooltip",{attrs:{anchor:"bottom right",self:"top middle",offset:[10,10]}},[e._v("Add account")])],1),a("q-input",{ref:"quickSearch",staticClass:"quick-search",attrs:{debounce:"350",placeholder:"Quick search",dense:"",color:"white"},on:{input:e.search,blur:function(t){e.searchFocused=!1}},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"search",color:"white"}})]},proxy:!0},{key:"append",fn:function(){return[a("transition",{attrs:{name:"fade"}},[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:""!=e.searchText,expression:"searchText != ''"}],staticClass:"cursor-pointer",attrs:{color:"white",name:"close"},on:{click:function(t){e.searchText=""}}})],1)]},proxy:!0}]),model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),a("q-toolbar-title",{staticClass:"text-subtitle1"},[e._v("\n                Welcome,\n                "),a("b",{staticClass:"alias"},[e._v(e._s(e.name))])]),a("transition",{attrs:{name:"fade"}},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.showNavBtn,expression:"showNavBtn"}],staticClass:"nav-toggle-btn",attrs:{dense:"",flat:"",round:"",icon:"menu",side:"right"},on:{click:function(t){e.drawer=!e.drawer}}})],1),a("q-btn",{staticClass:"settings-toggle-btn q-ml-xs",attrs:{dense:"",flat:"",round:"",icon:"settings",side:"right"}},[a("q-menu",{attrs:{square:"",offset:[10,11],dark:""}},[a("div",{staticClass:"row no-wrap q-pa-sm"},[a("div",{staticClass:"column"},[a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"flex-center adjust-content-left",attrs:{clickable:"",tag:"a",to:"/users/edit"}},[e._v("Edit Name")]),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"flex-center",attrs:{clickable:"",tag:"a",to:"/users/changepw"}},[e._v("Change Password")])],1),a("q-separator",{staticClass:"q-mx-lg",attrs:{vertical:"",inset:"",color:"white"}}),a("div",{staticClass:"column items-center"},[a("div",{staticClass:"text-subtitle1 q-mt-sm q-mb-sm alias"},[e._v("\n                                Account\n                            ")]),a("q-btn",{attrs:{color:"primary",label:"Logout",size:"md"},on:{click:e.logoutUser}})],1)],1)])],1)],1),a("SearchResults",e._b({on:{close:function(t){e.searchFocused=!1}}},"SearchResults",{showSearch:e.showSearch,searchText:e.searchText,resReady:e.resReady,searchResults:e.searchResults},!1))],1),a("q-drawer",{staticClass:"bg-gray-alpha",class:{"sm-layout":e.showNavBtn},attrs:{"show-if-above":"",width:240,breakpoint:767},on:{"on-layout":e.drawerLayoutChange},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("q-list",{staticClass:"nav-list"},[a("q-item-label",{staticClass:"text-grey-4",attrs:{header:""}},[e._v("\n                Navigation\n            ")]),e._l(e.navigationlinks,(function(t){return a("Navigation",e._b({key:t.title},"Navigation",t,!1))}))],2)],1),a("q-page-container",[a("router-view")],1)],1)},n=[],r=(a("fb6a"),a("498a"),a("c973")),i=a.n(r),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:"",tag:"a",to:e.link}},[e.icon?a("q-item-section",{attrs:{avatar:""}},[a("q-icon",{attrs:{name:e.icon}})],1):e._e(),a("q-item-section",[a("q-item-label",[e._v(e._s(e.title))])],1)],1)},l=[],c={name:"Navigation",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1},link:{type:String,default:"#"},icon:{type:String,default:""}}},u=c,d=a("2877"),m=a("66e5"),h=a("4074"),p=a("0016"),v=a("0170"),f=a("714f"),w=a("eebe"),g=a.n(w),b=Object(d["a"])(u,o,l,!1,null,null,null),q=b.exports;g()(b,"components",{QItem:m["a"],QItemSection:h["a"],QIcon:p["a"],QItemLabel:v["a"]}),g()(b,"directives",{Ripple:f["a"]});var y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("q-menu",{attrs:{"no-parent-event":"",value:e.showSearch,offset:[-40,-6],square:"",dark:"","no-focus":"","max-height":"480px","content-class":"bg-none no-box-shadow"},on:{hide:e.emitClose}},[a("div",{staticClass:"row menu-arrow bg-grey-8"},[e._v("\n        Â \n    ")]),e.resReady?0==e.filteredResults.length?a("div",{staticClass:"row no-wrap bg-grey-8"},[a("div",{staticClass:"block q-pa-md"},[e._v("\n            No results found.\n        ")])]):a("div",{staticClass:"row no-wrap bg-grey-8"},[a("q-list",e._l(e.filteredResults,(function(t,s){return a("q-list",{key:"key-"+s},[a("q-item",{staticClass:"q-pt-xs",attrs:{dense:"","active-class":"text-white"}},[a("q-item-section",[a("q-item-label",{staticClass:"result-value"},[e._v("\n                            "+e._s(t.category)+"\n                        ")])],1),a("q-item-section",{attrs:{side:""}},[a("q-btn",{staticClass:"text-primary",attrs:{size:"sm",flat:"",dense:"",to:t.path}},[e._v("\n                            see all\n                        ")])],1)],1),e._l(t.items,(function(t,s){return a("q-item",{key:"item-"+s,staticClass:"bg-grey-10 text-white result-item",attrs:{to:t.link}},[a("q-item-section",[a("q-item-label",{staticClass:"text-caption result-value q-mt-xs",domProps:{innerHTML:e._s(e.markText(t.title))}}),t.caption?a("q-item-label",{staticClass:"text-caption result-value capitalize q-mb-xs"},[a("i",{domProps:{innerHTML:e._s(e.markText(t.caption))}})]):e._e()],1)],1)}))],2)})),1)],1):a("div",{staticClass:"row no-wrap bg-grey-8"},[a("div",{staticClass:"block q-pa-md"},[e._v("\n            Searching... "),a("q-spinner",{attrs:{color:"white",size:"1em"}})],1)])])},x=[],k=(a("5319"),{name:"ConfirmDialog",props:{searchText:{type:String,required:!0,default:""},showSearch:{type:Boolean,required:!0,default:!1},resReady:{type:Boolean,required:!0,default:!1},searchResults:{type:Array,required:!0,default(){}}},computed:{filteredResults(){return this.searchResults.filter((e=>e.items&&e.items.length>0))}},methods:{emitClose(){this.$emit("update:searchFocused",!1)},markText(e){return e&&this.searchText?e.replace(new RegExp(`(${this.searchText})`,"i"),"<span class='highlighted'>$1</span>"):e}}}),C=k,_=(a("a75d"),a("4e73")),T=a("0d59"),Q=a("1c1c"),R=a("9c40"),S=Object(d["a"])(C,y,x,!1,null,"42eeede4",null),N=S.exports;g()(S,"components",{QMenu:_["a"],QSpinner:T["a"],QList:Q["a"],QItem:m["a"],QItemSection:h["a"],QItemLabel:v["a"],QBtn:R["a"]});let L=null;var B={name:"MainLayout",components:{Navigation:q,SearchResults:N},computed:{name(){return this.$store.state.auth.name},showSearch(){return this.searchFocused&&""!==this.searchText.trim()}},beforeCreate(){L=this.$RepositoryFactory.get("search")},mounted(){this.handleScroll(),window.addEventListener("scroll",this.handleScroll)},destroyed(){window.removeEventListener("scroll",this.handleScroll)},meta:{title:"Home",titleTemplate:e=>e+" | Bake Free Admin Portal",meta:{description:{name:"description",content:"Content Management System for Bake Free"},keywords:{name:"keywords",content:"cms bake free admin portal"},equiv:{"http-equiv":"Content-Type",content:"text/html; charset=UTF-8"}}},data(){return{searchText:"",resReady:!1,searchFocused:!1,eventTimer:null,scrolled:!1,drawer:!1,showNavBtn:!1,searchResults:[],navigationlinks:[{title:"Dashboard",icon:"dashboard",link:"/dashboard"},{title:"Customers",icon:"account_circle",link:"/accounts"},{title:"Announcements",icon:"announcement",link:"/announcements"},{title:"Product Categories",icon:"category",link:"/categories"},{title:"Products",icon:"cake",link:"/products"},{title:"Discounts",icon:"money_off",link:"/discounts"},{title:"Comments",icon:"comment",link:"/comments"},{title:"Orders",icon:"store",link:"/orders"},{title:"Business Holidays",icon:"date_range",link:"/holidays"}]}},methods:{handleScroll(e){this.eventTimer&&window.clearTimeout(this.eventTimer),this.eventTimer=window.setTimeout((()=>{this.eventTimer=null,this.scrolled=window.scrollY>=50}),100)},drawerLayoutChange(e){this.showNavBtn=!e},search(e){var t=this;return i()((function*(){if(t.searchFocused=!0,t.resReady=!1,t.searchText&&""!=t.searchText.trim())try{const e=yield L.findItems(t.searchText);t.searchResults=e.slice(),t.resReady=!0}catch(e){}}))()},logoutUser(){var e=this;return i()((function*(){try{yield e.$store.dispatch("auth/signout")}catch(t){}finally{e.$router.push("/login").catch((e=>{}))}}))()}}},I=B,F=(a("89d3"),a("4d5a")),$=a("e359"),E=a("65c6"),P=a("05c0"),H=a("27f9"),M=a("6ac5"),A=a("eb85"),j=a("9404"),z=a("09e3"),D=Object(d["a"])(I,s,n,!1,null,null,null);t["default"]=D.exports;g()(D,"components",{QLayout:F["a"],QHeader:$["a"],QToolbar:E["a"],QBtn:R["a"],QTooltip:P["a"],QInput:H["a"],QIcon:p["a"],QToolbarTitle:M["a"],QMenu:_["a"],QItem:m["a"],QSeparator:A["a"],QDrawer:j["a"],QList:Q["a"],QItemLabel:v["a"],QPageContainer:z["a"]}),g()(D,"directives",{Ripple:f["a"]})},"89d3":function(e,t,a){"use strict";var s=a("e87e"),n=a.n(s);n.a},a75d:function(e,t,a){"use strict";var s=a("eeb4"),n=a.n(s);n.a},e87e:function(e,t,a){},eeb4:function(e,t,a){}}]);