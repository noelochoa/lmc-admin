{
  "entry": "server-bundle.js",
  "files": {
    "js/0.2471df5b.js": "exports.ids=[0],exports.modules={\"2a48\":function(e,t){e.exports={}},\"5f48\":function(e,t){e.exports={}},\"713b\":function(e,t,a){\"use strict\";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"q-layout\",{ref:\"page\",attrs:{view:\"hHh lpR fFf\"}},[a(\"div\",{staticClass:\"blur-bg\"}),a(\"q-header\",{staticClass:\"text-white navheader\",class:{scrolled:e.scrolled}},[a(\"q-toolbar\",[a(\"q-btn\",{staticClass:\"q-mr-sm\",attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"person_add\",to:\"/users/add\"}},[a(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[e._v(\"Add account\")])],1),a(\"q-input\",{ref:\"quickSearch\",staticClass:\"quick-search\",attrs:{debounce:\"350\",placeholder:\"Quick search\",dense:\"\",color:\"white\"},on:{input:e.search,blur:function(t){e.searchFocused=!1}},scopedSlots:e._u([{key:\"prepend\",fn:function(){return[a(\"q-icon\",{attrs:{name:\"search\",color:\"white\"}})]},proxy:!0},{key:\"append\",fn:function(){return[a(\"transition\",{attrs:{name:\"fade\"}},[a(\"q-icon\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"\"!=e.searchText,expression:\"searchText != ''\"}],staticClass:\"cursor-pointer\",attrs:{color:\"white\",name:\"close\"},on:{click:function(t){e.searchText=\"\"}}})],1)]},proxy:!0}]),model:{value:e.searchText,callback:function(t){e.searchText=t},expression:\"searchText\"}}),a(\"q-toolbar-title\",{staticClass:\"text-subtitle1\"},[e._v(\"\\n                Welcome,\\n                \"),a(\"b\",{staticClass:\"alias\"},[e._v(e._s(e.name))])]),a(\"transition\",{attrs:{name:\"fade\"}},[a(\"q-btn\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.showNavBtn,expression:\"showNavBtn\"}],staticClass:\"nav-toggle-btn\",attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"menu\",side:\"right\"},on:{click:function(t){e.drawer=!e.drawer}}})],1),a(\"q-btn\",{staticClass:\"settings-toggle-btn q-ml-xs\",attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"settings\",side:\"right\"}},[a(\"q-menu\",{attrs:{square:\"\",offset:[10,11],dark:\"\"}},[a(\"div\",{staticClass:\"row no-wrap q-pa-sm\"},[a(\"div\",{staticClass:\"column\"},[a(\"q-item\",{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"flex-center adjust-content-left\",attrs:{clickable:\"\",tag:\"a\",to:\"/users/edit\"}},[e._v(\"Edit Name\")]),a(\"q-item\",{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],staticClass:\"flex-center\",attrs:{clickable:\"\",tag:\"a\",to:\"/users/changepw\"}},[e._v(\"Change Password\")])],1),a(\"q-separator\",{staticClass:\"q-mx-lg\",attrs:{vertical:\"\",inset:\"\",color:\"white\"}}),a(\"div\",{staticClass:\"column items-center\"},[a(\"div\",{staticClass:\"text-subtitle1 q-mt-sm q-mb-sm alias\"},[e._v(\"\\n                                Account\\n                            \")]),a(\"q-btn\",{attrs:{color:\"primary\",label:\"Logout\",size:\"md\"},on:{click:e.logoutUser}})],1)],1)])],1)],1),a(\"SearchResults\",e._b({on:{close:function(t){e.searchFocused=!1}}},\"SearchResults\",{showSearch:e.showSearch,searchText:e.searchText,resReady:e.resReady,searchResults:e.searchResults},!1))],1),a(\"q-drawer\",{staticClass:\"bg-gray-alpha\",class:{\"sm-layout\":e.showNavBtn},attrs:{\"show-if-above\":\"\",width:240,breakpoint:767},on:{\"on-layout\":e.drawerLayoutChange},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:\"drawer\"}},[a(\"q-list\",{staticClass:\"nav-list\"},[a(\"q-item-label\",{staticClass:\"text-grey-4\",attrs:{header:\"\"}},[e._v(\"\\n                Navigation\\n            \")]),e._l(e.navigationlinks,(function(t){return a(\"Navigation\",e._b({key:t.title},\"Navigation\",t,!1))}))],2)],1),a(\"q-page-container\",[a(\"router-view\")],1)],1)},n=[],r=(a(\"6579\"),a(\"3d03\"),a(\"c973\")),i=a.n(r),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"q-item\",{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],attrs:{clickable:\"\",tag:\"a\",to:e.link}},[e.icon?a(\"q-item-section\",{attrs:{avatar:\"\"}},[a(\"q-icon\",{attrs:{name:e.icon}})],1):e._e(),a(\"q-item-section\",[a(\"q-item-label\",[e._v(e._s(e.title))])],1)],1)},c=[],l={name:\"Navigation\",props:{title:{type:String,required:!0},active:{type:Boolean,default:!1},link:{type:String,default:\"#\"},icon:{type:String,default:\"\"}}},u=l,d=a(\"2877\"),m=a(\"7c52\"),h=a(\"eebe\"),p=a.n(h),v=Object(d[\"a\"])(u,o,c,!1,null,null,\"d2018a94\"),f=v.exports;p()(v,\"components\",{QItem:m[\"QItem\"],QItemSection:m[\"QItemSection\"],QIcon:m[\"QIcon\"],QItemLabel:m[\"QItemLabel\"]}),p()(v,\"directives\",{Ripple:m[\"Ripple\"]});var w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"q-menu\",{attrs:{\"no-parent-event\":\"\",value:e.showSearch,offset:[-40,-6],square:\"\",dark:\"\",\"no-focus\":\"\",\"max-height\":\"480px\",\"content-class\":\"bg-none no-box-shadow\"},on:{hide:e.emitClose}},[a(\"div\",{staticClass:\"row menu-arrow bg-grey-8\"},[e._v(\"\\n        Â \\n    \")]),e.resReady?0==e.filteredResults.length?a(\"div\",{staticClass:\"row no-wrap bg-grey-8\"},[a(\"div\",{staticClass:\"block q-pa-md\"},[e._v(\"\\n            No results found.\\n        \")])]):a(\"div\",{staticClass:\"row no-wrap bg-grey-8\"},[a(\"q-list\",e._l(e.filteredResults,(function(t,s){return a(\"q-list\",{key:\"key-\"+s},[a(\"q-item\",{staticClass:\"q-pt-xs\",attrs:{dense:\"\",\"active-class\":\"text-white\"}},[a(\"q-item-section\",[a(\"q-item-label\",{staticClass:\"result-value\"},[e._v(\"\\n                            \"+e._s(t.category)+\"\\n                        \")])],1),a(\"q-item-section\",{attrs:{side:\"\"}},[a(\"q-btn\",{staticClass:\"text-primary\",attrs:{size:\"sm\",flat:\"\",dense:\"\",to:t.path}},[e._v(\"\\n                            see all\\n                        \")])],1)],1),e._l(t.items,(function(t,s){return a(\"q-item\",{key:\"item-\"+s,staticClass:\"bg-grey-10 text-white result-item\",attrs:{to:t.link}},[a(\"q-item-section\",[a(\"q-item-label\",{staticClass:\"text-caption result-value q-mt-xs\",domProps:{innerHTML:e._s(e.markText(t.title))}}),t.caption?a(\"q-item-label\",{staticClass:\"text-caption result-value capitalize q-mb-xs\"},[a(\"i\",{domProps:{innerHTML:e._s(e.markText(t.caption))}})]):e._e()],1)],1)}))],2)})),1)],1):a(\"div\",{staticClass:\"row no-wrap bg-grey-8\"},[a(\"div\",{staticClass:\"block q-pa-md\"},[e._v(\"\\n            Searching... \"),a(\"q-spinner\",{attrs:{color:\"white\",size:\"1em\"}})],1)])])},g=[],b=(a(\"bfab\"),{name:\"ConfirmDialog\",props:{searchText:{type:String,required:!0,default:\"\"},showSearch:{type:Boolean,required:!0,default:!1},resReady:{type:Boolean,required:!0,default:!1},searchResults:{type:Array,required:!0,default(){}}},computed:{filteredResults(){return this.searchResults.filter((e=>e.items&&e.items.length>0))}},methods:{emitClose(){this.$emit(\"update:searchFocused\",!1)},markText(e){return e&&this.searchText?e.replace(new RegExp(`(${this.searchText})`,\"i\"),\"<span class='highlighted'>$1</span>\"):e}}}),q=b;function x(e){var t=a(\"a75d\");t.__inject__&&t.__inject__(e)}var y=Object(d[\"a\"])(q,w,g,!1,x,\"42eeede4\",\"335f907c\"),Q=y.exports;p()(y,\"components\",{QMenu:m[\"QMenu\"],QSpinner:m[\"QSpinner\"],QList:m[\"QList\"],QItem:m[\"QItem\"],QItemSection:m[\"QItemSection\"],QItemLabel:m[\"QItemLabel\"],QBtn:m[\"QBtn\"]});let _=null;var C={name:\"MainLayout\",components:{Navigation:f,SearchResults:Q},computed:{name(){return this.$store.state.auth.name},showSearch(){return this.searchFocused&&\"\"!==this.searchText.trim()}},beforeCreate(){_=this.$RepositoryFactory.get(\"search\")},mounted(){this.handleScroll(),window.addEventListener(\"scroll\",this.handleScroll)},destroyed(){window.removeEventListener(\"scroll\",this.handleScroll)},meta:{title:\"Home\",titleTemplate:e=>e+\" | LMC Admin Portal\",meta:{description:{name:\"description\",content:\"Content Management System for LMC\"},keywords:{name:\"keywords\",content:\"cms lmc admin portal\"},equiv:{\"http-equiv\":\"Content-Type\",content:\"text/html; charset=UTF-8\"}}},data(){return{searchText:\"\",resReady:!1,searchFocused:!1,eventTimer:null,scrolled:!1,drawer:!1,showNavBtn:!1,searchResults:[],navigationlinks:[{title:\"Dashboard\",icon:\"dashboard\",link:\"/dashboard\"},{title:\"Customers\",icon:\"account_circle\",link:\"/accounts\"},{title:\"Announcements\",icon:\"announcement\",link:\"/announcements\"},{title:\"Product Categories\",icon:\"category\",link:\"/categories\"},{title:\"Products\",icon:\"cake\",link:\"/products\"},{title:\"Discounts\",icon:\"money_off\",link:\"/discounts\"},{title:\"Comments\",icon:\"comment\",link:\"/comments\"},{title:\"Orders\",icon:\"store\",link:\"/orders\"},{title:\"Business Holidays\",icon:\"date_range\",link:\"/holidays\"}]}},methods:{handleScroll(e){this.eventTimer&&window.clearTimeout(this.eventTimer),this.eventTimer=window.setTimeout((()=>{this.eventTimer=null,this.scrolled=window.scrollY>=50}),100)},drawerLayoutChange(e){this.showNavBtn=!e},search(e){var t=this;return i()((function*(){if(t.searchFocused=!0,t.resReady=!1,t.searchText&&\"\"!=t.searchText.trim())try{const e=yield _.findItems(t.searchText);t.searchResults=e.slice(),t.resReady=!0}catch(e){}}))()},logoutUser(){var e=this;return i()((function*(){try{yield e.$store.dispatch(\"auth/signout\")}catch(t){}finally{e.$router.push(\"/login\").catch((e=>{}))}}))()}}},k=C;function T(e){var t=a(\"89d3\");t.__inject__&&t.__inject__(e)}var S=Object(d[\"a\"])(k,s,n,!1,T,null,\"56e3a14a\");t[\"default\"]=S.exports;p()(S,\"components\",{QLayout:m[\"QLayout\"],QHeader:m[\"QHeader\"],QToolbar:m[\"QToolbar\"],QBtn:m[\"QBtn\"],QTooltip:m[\"QTooltip\"],QInput:m[\"QInput\"],QIcon:m[\"QIcon\"],QToolbarTitle:m[\"QToolbarTitle\"],QMenu:m[\"QMenu\"],QItem:m[\"QItem\"],QSeparator:m[\"QSeparator\"],QDrawer:m[\"QDrawer\"],QList:m[\"QList\"],QItemLabel:m[\"QItemLabel\"],QPageContainer:m[\"QPageContainer\"]}),p()(S,\"directives\",{Ripple:m[\"Ripple\"]})},\"89d3\":function(e,t,a){\"use strict\";a.r(t);var s=a(\"5f48\"),n=a.n(s);for(var r in s)[\"default\"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(r);t[\"default\"]=n.a},a75d:function(e,t,a){\"use strict\";a.r(t);var s=a(\"2a48\"),n=a.n(s);for(var r in s)[\"default\"].indexOf(r)<0&&function(e){a.d(t,e,(function(){return s[e]}))}(r);t[\"default\"]=n.a},eebe:function(e,t){e.exports=function(e,t,a){var s;if(\"function\"===typeof e.exports?(s=e.exports.extendOptions,s[t]=e.exports.options[t]):s=e.options,void 0===s[t])s[t]=a;else{var n=s[t];for(var r in a)void 0===n[r]&&(n[r]=a[r])}}}};",
    "js/1.7b05f178.js": "exports.ids=[1],exports.modules={\"392b\":function(t,e,a){\"use strict\";a(\"932c\"),a(\"bfab\");var r,s,n={data(){return{prevRoute:null}},beforeRouteEnter(t,e,a){a((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,a){return t.replace(new RegExp(e,\"g\"),a)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},i=n,o=a(\"2877\"),c=Object(o[\"a\"])(i,r,s,!1,null,null,\"18d4dfef\");e[\"a\"]=c.exports},\"3d6f\":function(t,e,a){\"use strict\";a.r(e);var r=a(\"d989\"),s=a.n(r);for(var n in r)[\"default\"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e[\"default\"]=s.a},\"5a10\":function(t,e){t.exports={}},\"8b24\":function(t,e,a){\"use strict\";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[a(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[a(\"div\",{staticClass:\"heading-caption\"},[a(\"h6\",[t._v(\"Dashboard\")]),a(\"br\"),a(\"p\",[t._v(\"Here are some of the recent activities in your shop.\")])]),a(\"div\",{staticClass:\"heading-stat-1 text-caption\"},[t._v(\"\\n            Accounts\\n            \"),a(\"br\"),t.customers.loading?a(\"p\",{staticClass:\"text-subtitle2\"},[a(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):t.customers.hasError?a(\"p\",{staticClass:\"text-subtitle2\"},[t._v(\"\\n                Error retrieving data.\\n            \")]):a(\"p\",{staticClass:\"text-subtitle2\"},[t._v(\"\\n                \"+t._s(t.customers.data.regular)+\" Customers \"),a(\"br\"),t._v(\"\\n                \"+t._s(t.customers.data.reseller)+\" Resellers\\n            \")])]),a(\"div\",{staticClass:\"heading-stat-2 text-caption\"},[t._v(\"\\n            Products\\n            \"),t.products.loading?a(\"p\",{staticClass:\"text-subtitle2\"},[a(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):t.products.hasError?a(\"p\",{staticClass:\"text-subtitle2\"},[t._v(\"\\n                Error retrieving data.\\n            \")]):a(\"p\",{staticClass:\"text-subtitle2\"},[t._v(\"\\n                \"+t._s(t.products.data.active)+\" Active /\\n                \"+t._s(t.products.data.total)+\" Total\\n            \")])]),a(\"div\",{staticClass:\"heading-stat-3 text-caption\"},[t._v(\"\\n            Orders for this Month\\n            \"),t.orders.loading?a(\"p\",{staticClass:\"text-subtitle2\"},[a(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):t.orders.hasError?a(\"p\",{staticClass:\"text-subtitle2\"},[t._v(\"\\n                Error retrieving data.\\n            \")]):a(\"p\",{staticClass:\"text-subtitle2\"},[t._v(\"\\n                \"+t._s(t.orders.data.accepted)+\" Accepted \"),a(\"br\"),t._v(\"\\n                \"+t._s(t.orders.data.placed)+\" Placed\\n            \")])])]),a(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[a(\"div\",{staticClass:\"content-1\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Resellers for Approval\\n            \")],1),a(\"div\",[t.pending.loading?a(\"p\",{staticClass:\"flex flex-center\"},[a(\"q-spinner\",{staticClass:\"q-mt-sm\",attrs:{color:\"white\",size:\"2em\"}})],1):t.pending.hasError?a(\"p\",{staticClass:\"flex flex-center q-mt-md\"},[t._v(\"\\n                    Error retrieving data.\\n                \")]):t.pending.data.length<1?a(\"p\",{staticClass:\"text-center q-mt-md\"},[t._v(\"\\n                    No pending accounts\\n                \")]):a(\"q-list\",{attrs:{separator:\"\"}},t._l(t.pending.data,(function(e){return a(\"Accounts\",t._b({key:e.id},\"Accounts\",e,!1))})),1)],1),!t.pending.loading&&t.pending.data.length>0?a(\"div\",[a(\"q-item\",{staticClass:\"text-center flex flex-center\",attrs:{to:\"/accounts\",dense:\"\"}},[t._v(\"\\n                    see all\\n                \")])],1):t._e()]),a(\"div\",{staticClass:\"content-2\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"cake\"}}),t._v(\"\\n                Products Statistics\\n            \")],1),a(\"div\",[t.products.loading?a(\"p\",{staticClass:\"flex flex-center\"},[a(\"q-spinner\",{staticClass:\"q-mt-sm\",attrs:{color:\"white\",size:\"2em\"}})],1):t.products.hasError?a(\"p\",{staticClass:\"flex flex-center q-mt-md\"},[t._v(\"\\n                    Error retrieving data.\\n                \")]):a(\"q-list\",{attrs:{separator:\"\"}},t._l(t.productStats,(function(e){return a(\"Statistic\",t._b({key:e.label},\"Statistic\",e,!1))})),1)],1),t.products.loading||t.products.hasError?t._e():a(\"div\",[a(\"q-item\",{staticClass:\"text-center flex flex-center\",attrs:{to:\"/products\",dense:\"\"}},[t._v(\"\\n                    see all\\n                \")])],1)]),a(\"div\",{staticClass:\"content-3\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"fireplace\"}}),t._v(\"Orders Statistics\\n            \")],1),a(\"div\",[t.orders.loading?a(\"p\",{staticClass:\"flex flex-center\"},[a(\"q-spinner\",{staticClass:\"q-mt-sm\",attrs:{color:\"white\",size:\"2em\"}})],1):t.orders.hasError?a(\"p\",{staticClass:\"flex flex-center q-mt-md\"},[t._v(\"\\n                    Error retrieving data.\\n                \")]):a(\"q-list\",{attrs:{separator:\"\"}},t._l(t.orderStats,(function(e){return a(\"Statistic\",t._b({key:e.label},\"Statistic\",e,!1))})),1)],1),t.orders.loading||t.orders.hasError?t._e():a(\"div\",[a(\"q-item\",{staticClass:\"text-center flex flex-center\",attrs:{to:\"/orders\",dense:\"\"}},[t._v(\"\\n                    see all\\n                \")])],1)]),a(\"div\",{staticClass:\"content-4\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"comment\"}}),t._v(\"Recent\\n                Comments\\n            \")],1),a(\"div\",[t.recent.loading?a(\"p\",{staticClass:\"flex flex-center\"},[a(\"q-spinner\",{staticClass:\"q-mt-sm\",attrs:{color:\"white\",size:\"2em\"}})],1):t.recent.hasError?a(\"p\",{staticClass:\"flex flex-center q-mt-md\"},[t._v(\"\\n                    Error retrieving data.\\n                \")]):t.recent.data.length<1?a(\"p\",{staticClass:\"text-center q-mt-md\"},[t._v(\"\\n                    No recent comments\\n                \")]):a(\"q-list\",{attrs:{separator:\"\"}},t._l(t.recent.data,(function(e){return a(\"Comments\",t._b({key:e.id},\"Comments\",e,!1))})),1)],1),!t.recent.loading&&t.recent.data.length>0?a(\"div\",[a(\"q-item\",{staticClass:\"text-center flex flex-center\",attrs:{to:\"/comments\",dense:\"\"}},[t._v(\"\\n                    see all\\n                \")])],1):t._e()]),a(\"div\",{staticClass:\"content-5\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"calendar_today\"}}),t._v(\"Business Holidays\\n            \")],1),a(\"div\",{staticClass:\"bg-gray-alpha\"},[a(\"q-item\",{staticClass:\"q-px-lg q-pt-lg no-select\",attrs:{dense:\"\"}},[a(\"q-item-section\",[a(\"q-item-label\",[t._v(t._s(t.today.month))])],1),a(\"q-item-section\",{attrs:{side:\"\"}},[a(\"q-item-label\",{staticClass:\"text-primary\"},[t._v(t._s(t.today.year))])],1)],1),a(\"q-date\",{staticClass:\"date\",attrs:{value:t.today.yyyymmdd,events:t.holidaysEvt,mask:\"YYYY-MM-DD\",\"event-color\":\"orange\",flat:\"\",minimal:\"\",readonly:\"\"}})],1),a(\"div\",[a(\"q-item\",{staticClass:\"text-center flex flex-center\",attrs:{to:\"/holidays\",dense:\"\"}},[t._v(\"\\n                    see all\\n                \")])],1)])])])},s=[],n=(a(\"8495\"),a(\"f96d\"),a(\"1ce0\"),a(\"c973\")),i=a.n(n),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-item\",{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],attrs:{clickable:\"\",to:\"/accounts/edit/\"+t.id}},[a(\"q-item-section\",{attrs:{side:\"\"}},[a(\"q-avatar\",{attrs:{size:\"32px\",color:\"primary\"}},[t._v(\"\\n            \"+t._s(t.name_avatar)+\"\\n            \")])],1),a(\"q-item-section\",[a(\"q-item-label\",[t._v(t._s(t.name))]),t.joined_format.length>0?a(\"q-item-label\",{staticClass:\"text-primary font-small\",attrs:{caption:\"\"}},[t._v(t._s(t.joined_format))]):t._e()],1),a(\"q-item-section\",{staticClass:\"text-white\",attrs:{side:\"\",caption:\"\"}},[t._v(\"Review\")])],1)},c=[],l=(a(\"6579\"),{name:\"Accounts\",props:{id:{type:String,required:!0},name:{type:String,required:!0},joined:{type:String,default:new Date}},computed:{name_avatar(){return this.name?this.name.slice(0,1).toUpperCase():\"\"},joined_format(){if(!this.joined)return\"\";const t={weekday:\"short\",month:\"short\",day:\"numeric\"},e=new Date(this.joined);return\"joined \"+e.toLocaleDateString(\"en-US\",t)}}}),d=l,m=a(\"2877\"),u=a(\"7c52\"),p=a(\"eebe\"),f=a.n(p);function v(t){var e=a(\"bb48\");e.__inject__&&e.__inject__(t)}var h=Object(m[\"a\"])(d,o,c,!1,v,\"3066268f\",\"35642e08\"),g=h.exports;f()(h,\"components\",{QItem:u[\"QItem\"],QItemSection:u[\"QItemSection\"],QAvatar:u[\"QAvatar\"],QBadge:u[\"QBadge\"],QItemLabel:u[\"QItemLabel\"]}),f()(h,\"directives\",{Ripple:u[\"Ripple\"]});var _=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-item\",{attrs:{to:t.link,clickable:!!t.link}},[a(\"q-item-section\",[a(\"q-item-label\",[t._v(t._s(t.label))])],1),a(\"q-item-section\",{attrs:{side:\"\"}},[a(\"h6\",{staticClass:\"text-primary\"},[t._v(t._s(t.value))])])],1)},x=[],y={name:\"Statistic\",props:{label:{type:String,required:!0},value:{type:Number,required:!0},link:{type:String,default:\"\"}}},b=y;function q(t){}var C=Object(m[\"a\"])(b,_,x,!1,q,\"09fe70df\",\"60b4329e\"),S=C.exports;f()(C,\"components\",{QItem:u[\"QItem\"],QItemSection:u[\"QItemSection\"],QItemLabel:u[\"QItemLabel\"]});var D=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-item\",{directives:[{name:\"ripple\",rawName:\"v-ripple\"}],attrs:{clickable:\"\",to:\"/comments/reply/\"+t.id}},[a(\"q-item-section\",[a(\"q-item-label\",{staticClass:\"comment\"},[t._v(\"\\n            \"+t._s(t.author_name)+\" posted:\\n        \")]),a(\"q-item-label\",{staticClass:\"comment text-primary\",attrs:{caption:\"\"}},[t._v(\"\\n            \"+t._s(t.comment)+\"\\n        \")])],1),a(\"q-item-section\",{attrs:{side:\"\",top:\"\"}},[a(\"q-item-label\",{staticClass:\"text-white\",attrs:{caption:\"\"}},[t._v(\"\\n            \"+t._s(t.posted_format)+\"\\n        \")])],1)],1)},w=[],Q={name:\"Comments\",props:{id:{type:String,required:!0},author:{type:Object,required:!0},comment:{type:String,required:!0},created:{type:String,default:new Date}},computed:{author_name(){return this.author.name||\"Unknown Author\"},posted_format(){if(!this.created)return\"\";const t={weekday:\"short\",month:\"short\",day:\"numeric\"},e=new Date(this.created);return e.toLocaleDateString(\"en-US\",t)}}},E=Q;function k(t){var e=a(\"3d6f\");e.__inject__&&e.__inject__(t)}var I=Object(m[\"a\"])(E,D,w,!1,k,\"fc102acc\",\"23c29916\"),O=I.exports;f()(I,\"components\",{QItem:u[\"QItem\"],QItemSection:u[\"QItemSection\"],QItemLabel:u[\"QItemLabel\"]}),f()(I,\"directives\",{Ripple:u[\"Ripple\"]});var j=a(\"392b\");let M=null;var R={name:\"DashboardIndex\",components:{Accounts:g,Statistic:S,Comments:O},mixins:[j[\"a\"]],beforeCreate(){M=this.$RepositoryFactory.get(\"statistics\")},created(){0},computed:{holidaysEvt(){const t=new Set;return this.holidays.data.map((e=>{const a=this.findMaxDt(e.start,this.startDayOfMonth),r=this.findMinDt(e.end,this.lastDayOfMonth);for(let s=a;s.getTime()<=r.getTime();s.setDate(s.getDate()+1))t.add(this.toQDateFormat(s))})),[...t]}},data(){return{customers:{loading:!0,hasError:!1,data:{}},products:{loading:!0,hasError:!1,data:{}},orders:{loading:!0,hasError:!1,data:{}},pending:{loading:!0,hasError:!1,data:[]},recent:{loading:!0,hasError:!1,data:[]},holidays:{loading:!0,hasError:!1,data:[]},productStats:[{label:\"Featured Products\",value:0,key:\"featured\"},{label:\"Active Products\",value:0,key:\"active\"},{label:\"Total Products\",value:0,key:\"total\"}],orderStats:[{label:\"Orders Placed\",value:0,link:\"/orders?s=placed\",key:\"placed\"},{label:\"Orders Accepted\",value:0,link:\"/orders?s=accepted\",key:\"accepted\"},{label:\"Orders being Prepared\",value:0,link:\"/orders?s=preparing\",key:\"preparing\"},{label:\"Orders Fulfilled\",value:0,link:\"/orders?s=fulfilled\",key:\"fulfilled\"}]}},methods:{getStats(){var t=this;return i()((function*(){M.getCustomerStats().then((e=>{t.customers.data=e})).catch((e=>{t.customers.hasError=!0})).finally((()=>{t.customers.loading=!1})),M.getProductStats().then((e=>{t.products.data=e,t.productStats.map((e=>(t.products.data.hasOwnProperty(e.key)&&(e.value=t.products.data[e.key]),e)))})).catch((e=>{t.products.hasError=!0})).finally((()=>{t.products.loading=!1})),M.getOrderStats().then((e=>{t.orders.data=e,t.orderStats.map((e=>(t.orders.data.hasOwnProperty(e.key)&&(e.value=t.orders.data[e.key]),e)))})).catch((e=>{t.orders.hasError=!0})).finally((()=>{t.orders.loading=!1})),M.getPendingResellers().then((e=>{t.pending.data=e})).catch((e=>{t.pending.hasError=!0})).finally((()=>{t.pending.loading=!1})),M.getRecentComments().then((e=>{t.recent.data=e})).catch((e=>{t.recent.hasError=!0})).finally((()=>{t.recent.loading=!1})),M.getBusinessHolidays().then((e=>{t.holidays.data=e})).catch((e=>{t.holidays.hasError=!0})).finally((()=>{t.holidays.loading=!1}))}))()}}},A=R;function L(t){var e=a(\"c7bf\");e.__inject__&&e.__inject__(t)}var P=Object(m[\"a\"])(A,r,s,!1,L,\"7ea7c09a\",\"4e285f96\");e[\"default\"]=P.exports;f()(P,\"components\",{QPage:u[\"QPage\"],QSpinner:u[\"QSpinner\"],QIcon:u[\"QIcon\"],QList:u[\"QList\"],QItem:u[\"QItem\"],QItemSection:u[\"QItemSection\"],QItemLabel:u[\"QItemLabel\"],QDate:u[\"QDate\"]})},bb48:function(t,e,a){\"use strict\";a.r(e);var r=a(\"5a10\"),s=a.n(r);for(var n in r)[\"default\"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e[\"default\"]=s.a},c7bf:function(t,e,a){\"use strict\";a.r(e);var r=a(\"d35b\"),s=a.n(r);for(var n in r)[\"default\"].indexOf(n)<0&&function(t){a.d(e,t,(function(){return r[t]}))}(n);e[\"default\"]=s.a},d35b:function(t,e){t.exports={}},d989:function(t,e){t.exports={}},eebe:function(t,e){t.exports=function(t,e,a){var r;if(\"function\"===typeof t.exports?(r=t.exports.extendOptions,r[e]=t.exports.options[e]):r=t.options,void 0===r[e])r[e]=a;else{var s=r[e];for(var n in a)void 0===s[n]&&(s[n]=a[n])}}}};",
    "js/10.a6b77705.js": "exports.ids=[10],exports.modules={\"392b\":function(t,e,a){\"use strict\";a(\"932c\"),a(\"bfab\");var n,o,i={data(){return{prevRoute:null}},beforeRouteEnter(t,e,a){a((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,a){return t.replace(new RegExp(e,\"g\"),a)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},s=i,r=a(\"2877\"),l=Object(r[\"a\"])(s,n,o,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},\"4c51\":function(t,e,a){\"use strict\";a.r(e);var n=a(\"a69e\"),o=a.n(n);for(var i in n)[\"default\"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e[\"default\"]=o.a},9013:function(t,e,a){\"use strict\";a.r(e);var n=a(\"b5ae\"),o=a.n(n);for(var i in n)[\"default\"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e[\"default\"]=o.a},\"96ec\":function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-dialog\",{attrs:{value:t.showDlg,square:\"\"},on:{hide:t.emitClose}},[a(\"q-card\",{attrs:{dark:\"\"}},[a(\"q-card-section\",{staticClass:\"row items-center\"},[t._t(\"avatar\"),a(\"span\",{staticClass:\"q-ml-sm\"},[t._t(\"message\")],2)],2),a(\"q-card-actions\",{attrs:{align:\"right\"}},[t._t(\"actions\")],2)],1)],1)},o=[],i={name:\"ConfirmDialog\",props:{showDlg:{type:Boolean,required:!0,default:!1}},methods:{emitClose(){this.$emit(\"update:showDlg\",!1)}}},s=i,r=a(\"2877\"),l=a(\"7c52\"),d=a(\"eebe\"),c=a.n(d),u=Object(r[\"a\"])(s,n,o,!1,null,null,\"1b680276\");e[\"a\"]=u.exports;c()(u,\"components\",{QDialog:l[\"QDialog\"],QCard:l[\"QCard\"],QCardSection:l[\"QCardSection\"],QCardActions:l[\"QCardActions\"]})},a69e:function(t,e){t.exports={}},ad07:function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[a(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[a(\"div\",{staticClass:\"heading-caption\"},[a(\"h6\",[t._v(\"Business Holidays\")]),a(\"br\"),a(\"p\",[t._v(\"\\n                The following business holidays are unselectable delivery or\\n                pickup dates when ordering.\\n            \")])]),a(\"div\",{staticClass:\"heading-stat-1 text-caption\"},[t._v(\"\\n            Today\\n            \"),a(\"br\"),a(\"p\",{staticClass:\"text-subtitle2\"},[t._v(\"\\n                \"+t._s(t.today.human)+\"\\n            \")])])]),a(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[a(\"div\",{staticClass:\"content-1\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"calendar_today\"}}),t._v(\"Business Holidays\\n                \"),a(\"q-btn\",{staticClass:\"ml-auto q-mx-md\",attrs:{flat:\"\",dense:\"\",rounded:\"\",icon:\"add\",to:\"/holidays/add\"}},[a(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Add new\\n                    \")])],1)],1),a(\"div\",{staticClass:\"bg-gray-alpha relative-position\"},[a(\"q-date\",{staticClass:\"date\",attrs:{\"no-unset\":\"\",mask:\"YYYY-MM-DD\",events:t.holidayList,options:t.holidayList,\"event-color\":\"orange\",\"emit-immediately\":\"\",flat:\"\",minimal:\"\"},on:{input:t.getHolidaysList},model:{value:t.date,callback:function(e){t.date=e},expression:\"date\"}}),a(\"q-inner-loading\",{attrs:{showing:t.loading}},[a(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1)],1)]),a(\"div\",{staticClass:\"content-2\"},[a(\"Holidays\",t._b({scopedSlots:t._u([{key:\"actions\",fn:function(e){var n=e.item;return[a(\"q-btn\",{attrs:{dense:\"\",flat:\"\",rounded:\"\",icon:\"edit\",to:\"/holidays/edit/\"+n.id}},[a(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Edit\\n                        \")])],1),a(\"q-btn\",{attrs:{dense:\"\",flat:\"\",rounded:\"\",icon:\"delete\"},on:{click:function(e){return t.confirmDel(n.id)}}},[a(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Delete\\n                        \")])],1)]}}])},\"Holidays\",{date:t.date,data:t.data},!1)),a(\"ConfirmDialog\",{attrs:{showDlg:t.showDlg},on:{\"update:showDlg\":function(e){t.showDlg=e},\"update:show-dlg\":function(e){t.showDlg=e}},scopedSlots:t._u([{key:\"avatar\",fn:function(){return[a(\"q-avatar\",{attrs:{icon:\"delete_forever\",color:\"red-5\",\"text-color\":\"white\"}})]},proxy:!0},{key:\"message\",fn:function(){return[t._v(\"\\n                    Continue on removing this holiday entry?\"),a(\"br\"),t._v(\"\\n                    Warning: This action is permanent.\\n                \")]},proxy:!0},{key:\"actions\",fn:function(){return[a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Cancel\"}}),a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Remove\",color:\"red-5\"},on:{click:t.onRemove}})]},proxy:!0}])})],1)])])},o=[],i=(a(\"6579\"),a(\"7c81\"),a(\"1ce0\"),a(\"c973\")),s=a.n(i),r=a(\"96ec\"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-list\",{staticClass:\"bg-none relative-position\"},[a(\"transition-group\",{attrs:{name:\"slide\",tag:\"div\"}},t._l(t.data,(function(e){return a(\"div\",{key:e.id,staticClass:\"holiday-item-container bg-gray-alpha-2 no-scroll q-pa-md q-mb-xs\"},[a(\"div\",{staticClass:\"text-subtitle2 q-mb-md holiday-item\"},[a(\"div\",{staticClass:\"reason\"},[t._v(\"\\n                    \"+t._s(e.reason)+\"\\n                \")]),a(\"div\",[t._t(\"actions\",null,{item:e})],2)]),a(\"q-item\",{staticClass:\"detail-field\",attrs:{dense:\"\"}},[a(\"span\",{staticClass:\"field-label\"},[t._v(\" Start\")]),a(\"span\",{staticClass:\"text-primary field-value\"},[t._v(\"\\n                    \"+t._s(t.humanReadableDt(e.start))+\"\\n                \")])]),a(\"q-item\",{staticClass:\"detail-field\",attrs:{dense:\"\"}},[a(\"span\",{staticClass:\"field-label\"},[t._v(\" End\")]),a(\"span\",{staticClass:\"text-primary field-value\"},[t._v(\"\\n                    \"+t._s(t.humanReadableDt(e.end))+\"\\n                \")])])],1)})),0)],1)},d=[],c=a(\"392b\"),u={name:\"Holidays\",mixins:[c[\"a\"]],props:{date:{type:String,required:!0},data:{type:Array,required:!0,default(){}}},methods:{humanReadableDt(t){return this.toHumanReadableDt(t)}}},f=u,h=a(\"2877\"),m=a(\"7c52\"),p=a(\"eebe\"),g=a.n(p);function y(t){var e=a(\"9013\");e.__inject__&&e.__inject__(t)}var v=Object(h[\"a\"])(f,l,d,!1,y,\"6ea5a111\",\"14549a86\"),D=v.exports;g()(v,\"components\",{QList:m[\"QList\"],QItem:m[\"QItem\"]});let _=null;var b={name:\"HolidayIndex\",components:{ConfirmDialog:r[\"a\"],Holidays:D},mixins:[c[\"a\"]],meta(){return{title:\"Business Holidays\"}},beforeCreate(){_=this.$RepositoryFactory.get(\"holidays\")},created(){var t=this;return s()((function*(){t.date=t.today.yyyymmdd,t.startOfMonth=t.startDayOfMonth,t.endOfMonth=t.lastDayOfMonth}))()},computed:{holidayList(){const t=new Set;return this.holidayItems.map((e=>{const a=this.findMaxDt(e.start,this.startOfMonth),n=this.findMinDt(e.end,this.endOfMonth);for(let o=a;o.getTime()<=n.getTime();o.setDate(o.getDate()+1))t.add(this.toQDateFormat(o))})),[...t]}},data(){return{date:\"\",startOfMonth:\"\",endOfMonth:\"\",data:[],holidayItems:[],loading:!0,showDlg:!1,toDelID:-1}},methods:{selectInclusive(t){const e=new Date(t).setHours(0,0,0,0);return this.holidayItems.filter((function(t){const a=new Date(t.start).setHours(0,0,0,0),n=new Date(t.end).setHours(0,0,0,0);return!(e<a||e>n)}))},getHolidaysList(t,e,a){var n=this;return s()((function*(){if(\"month\"==e||\"year\"==e){const e=new Date(t);n.startOfMonth=new Date(e.getFullYear(),e.getMonth(),1),n.endOfMonth=new Date(e.getFullYear(),e.getMonth()+1,0),yield n.getHolidays(a)}n.data.splice(0,n.data.length,...n.selectInclusive(t))}))()},getHolidays(t){var e=this;return s()((function*(){e.loading=!0;try{const a=yield _.getBusinessHolidays(t);e.holidayItems=a.slice()}catch(a){e.showNotif(!1,\"Could not retrieve holiday entries for selected month. \")}finally{e.loading=!1}}))()},onRemove(){var t=this;return s()((function*(){if(-1!==t.toDelID)try{yield _.deleteHoliday(t.toDelID);t.showNotif(!0,\"Successfully removed holiday entry.\"),t.$delete(t.data,t.data.findIndex((e=>e.id==t.toDelID))),t.$delete(t.holidayItems,t.holidayItems.findIndex((e=>e.id==t.toDelID))),t.toDelID=-1}catch(e){t.showNotif(!1,\"Could not delete item. \")}}))()},confirmDel(t){this.toDelID=t,this.showDlg=!0}}},w=b;function x(t){var e=a(\"4c51\");e.__inject__&&e.__inject__(t)}var C=Object(h[\"a\"])(w,n,o,!1,x,\"c548244e\",\"dc300206\");e[\"default\"]=C.exports;g()(C,\"components\",{QPage:m[\"QPage\"],QIcon:m[\"QIcon\"],QBtn:m[\"QBtn\"],QTooltip:m[\"QTooltip\"],QDate:m[\"QDate\"],QInnerLoading:m[\"QInnerLoading\"],QSpinner:m[\"QSpinner\"],QAvatar:m[\"QAvatar\"]}),g()(C,\"directives\",{ClosePopup:m[\"ClosePopup\"]})},b5ae:function(t,e){t.exports={}},eebe:function(t,e){t.exports=function(t,e,a){var n;if(\"function\"===typeof t.exports?(n=t.exports.extendOptions,n[e]=t.exports.options[e]):n=t.options,void 0===n[e])n[e]=a;else{var o=n[e];for(var i in a)void 0===o[i]&&(o[i]=a[i])}}}};",
    "js/11.13e884d3.js": "exports.ids=[11],exports.modules={\"392b\":function(t,e,o){\"use strict\";o(\"932c\"),o(\"bfab\");var a,r,n={data(){return{prevRoute:null}},beforeRouteEnter(t,e,o){o((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,o){return t.replace(new RegExp(e,\"g\"),o)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},s=n,i=o(\"2877\"),l=Object(i[\"a\"])(s,a,r,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},5366:function(t,e,o){\"use strict\";o.r(e);var a=o(\"86f3\"),r=o.n(a);for(var n in a)[\"default\"].indexOf(n)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(n);e[\"default\"]=r.a},\"86f3\":function(t,e){t.exports={}},9277:function(t,e,o){\"use strict\";o.r(e);var a=o(\"a315\"),r=o.n(a);for(var n in a)[\"default\"].indexOf(n)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(n);e[\"default\"]=r.a},\"96ec\":function(t,e,o){\"use strict\";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"q-dialog\",{attrs:{value:t.showDlg,square:\"\"},on:{hide:t.emitClose}},[o(\"q-card\",{attrs:{dark:\"\"}},[o(\"q-card-section\",{staticClass:\"row items-center\"},[t._t(\"avatar\"),o(\"span\",{staticClass:\"q-ml-sm\"},[t._t(\"message\")],2)],2),o(\"q-card-actions\",{attrs:{align:\"right\"}},[t._t(\"actions\")],2)],1)],1)},r=[],n={name:\"ConfirmDialog\",props:{showDlg:{type:Boolean,required:!0,default:!1}},methods:{emitClose(){this.$emit(\"update:showDlg\",!1)}}},s=n,i=o(\"2877\"),l=o(\"7c52\"),c=o(\"eebe\"),u=o.n(c),d=Object(i[\"a\"])(s,a,r,!1,null,null,\"1b680276\");e[\"a\"]=d.exports;u()(d,\"components\",{QDialog:l[\"QDialog\"],QCard:l[\"QCard\"],QCardSection:l[\"QCardSection\"],QCardActions:l[\"QCardActions\"]})},a315:function(t,e){t.exports={}},e981:function(t,e,o){\"use strict\";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[o(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[o(\"div\",{staticClass:\"heading-caption\"},[o(\"h6\",[t._v(\"Products\")]),o(\"br\"),o(\"p\",[t._v(\"The following is a list of products in the webstore.\")])])]),o(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[o(\"div\",{staticClass:\"content-1\"},[o(\"q-btn\",{staticClass:\"q-mr-sm\",attrs:{flat:\"\",round:\"\",icon:\"post_add\",to:\"/products/add/1\"}},[o(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Add Product\")])],1),o(\"q-select\",{staticClass:\"filter-select\",attrs:{options:t.filter,disable:t.loading,dark:\"\",dense:\"\",outlined:\"\",\"options-dense\":\"\"},on:{input:t.filterChanged},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[o(\"q-icon\",{attrs:{name:\"category\"}})]},proxy:!0}]),model:{value:t.category,callback:function(e){t.category=e},expression:\"category\"}}),o(\"q-btn\",{staticClass:\"q-ml-sm\",attrs:{flat:\"\",round:\"\",icon:\"add\",to:\"/categories/add\"}},[o(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Add Category\")])],1)],1),o(\"div\",{staticClass:\"content-2\"},[o(\"q-input\",{staticClass:\"filter-search-box\",attrs:{type:\"search\",placeholder:\"Search product\",debounce:\"500\",dark:\"\",dense:\"\",outlined:\"\"},on:{input:t.searchInput},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[o(\"q-icon\",{attrs:{name:\"search\"}})]},proxy:!0},{key:\"append\",fn:function(){return[o(\"transition\",{attrs:{name:\"fade\"}},[o(\"q-icon\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"\"!=t.search,expression:\"search != ''\"}],staticClass:\"cursor-pointer\",attrs:{name:\"close\"},on:{click:t.searchClear}})],1)]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),o(\"div\",{staticClass:\"content-3\"},[o(\"q-table\",{ref:\"prodsTbl\",staticClass:\"products-table\",attrs:{grid:\"\",\"grid-header\":\"\",title:\"Store Products\",\"row-key\":\"id\",data:t.data,columns:t.columns,\"rows-per-page-options\":[0],pagination:t.pagination,selected:t.selected,selection:\"multiple\",filter:t.search,loading:t.loading},on:{\"update:pagination\":[function(e){t.pagination=e},t.onChgPage],\"update:selected\":function(e){t.selected=e},request:t.onRequest},scopedSlots:t._u([{key:\"top-right\",fn:function(){return[o(\"q-btn\",{staticClass:\"q-px-xs\",attrs:{dense:\"\",flat:\"\",size:\"sm\",icon:\"arrow_drop_down\",label:\"Bulk action\"}},[o(\"q-menu\",{attrs:{\"content-class\":\"bg-grey-10\",\"auto-close\":\"\"}},[o(\"q-list\",{attrs:{dark:\"\"}},[o(\"q-item\",{staticClass:\"text-caption\",attrs:{dense:\"\",clickable:\"\"},on:{click:function(e){return t.confirmBulkAction(!0)}}},[o(\"q-item-section\",[t._v(\"\\n                                        Reactivate selected\\n                                    \")])],1),o(\"q-item\",{staticClass:\"text-caption\",attrs:{dense:\"\",clickable:\"\"},on:{click:function(e){return t.confirmBulkAction(!1)}}},[o(\"q-item-section\",[t._v(\"\\n                                        Archive selected\\n                                    \")])],1)],1)],1)],1)]},proxy:!0},{key:\"header-small\",fn:function(){return[o(\"q-btn\",{staticClass:\"q-px-xs\",attrs:{dense:\"\",flat:\"\",size:\"sm\",icon:\"arrow_drop_down\",label:\"Bulk actions\"}},[o(\"q-menu\",{attrs:{\"content-class\":\"bg-grey-10\",\"auto-close\":\"\"}},[o(\"q-list\",{attrs:{dark:\"\"}},[o(\"q-item\",{staticClass:\"text-caption\",attrs:{dense:\"\",clickable:\"\"}},[o(\"q-item-section\",[t._v(\"\\n                                        Show selected\\n                                    \")])],1),o(\"q-item\",{staticClass:\"text-caption\",attrs:{dense:\"\",clickable:\"\"}},[o(\"q-item-section\",[t._v(\"\\n                                        Hide selected\\n                                    \")])],1)],1)],1)],1)]},proxy:!0},{key:\"item\",fn:function(e){return[o(\"div\",{staticClass:\"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-4\"},[o(\"q-card\",{staticClass:\"bg-gray-alpha-2\"},[o(\"q-img\",{staticClass:\"product-img\",attrs:{src:e.row.images&&e.row.images[0]?t.resolveAssetsUrl(e.row.images[0].image):\"https://dummyimage.com/640x480/454345/fafafa.png&text=No+Img\",basic:\"\"}},[o(\"div\",{staticClass:\"absolute-top\"},[o(\"q-checkbox\",{staticClass:\"q-mr-sm\",attrs:{dense:\"\",color:\"grey-8\"},model:{value:e.selected,callback:function(o){t.$set(e,\"selected\",o)},expression:\"props.selected\"}}),t._v(t._s(e.row.name)+\"\\n                                \")],1)]),o(\"q-separator\"),o(\"q-list\",{attrs:{dense:\"\"}},t._l(e.cols.filter((function(t){return\"name\"!==t.name})),(function(e){return o(\"q-item\",{key:e.name},[o(\"q-item-section\",[o(\"q-item-label\",[t._v(t._s(e.label))])],1),o(\"q-item-section\",{attrs:{side:\"\"}},[o(\"q-item-label\",{staticClass:\"text-primary\"},[t._v(t._s(e.value))])],1)],1)})),1),o(\"q-separator\"),o(\"q-card-actions\",{attrs:{align:\"right\"}},[o(\"q-btn\",{attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"build\",to:\"/products/edit/\"+e.row.id}},[o(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Configure\\n                                    \")])],1),o(\"q-btn\",{attrs:{dense:\"\",flat:\"\",round:\"\",icon:e.row.isFeatured?\"star\":\"star_outline\",to:\"/products/feature/\"+e.row.id}},[o(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Feature product config\\n                                    \")])],1),o(\"q-btn\",{attrs:{dense:\"\",flat:\"\",round:\"\",icon:e.row.toggleFlg?\"visibility\":\"visibility_off\"},on:{mouseenter:function(t){e.row.toggleFlg=!e.row.toggleFlg},mouseleave:function(t){e.row.toggleFlg=!e.row.toggleFlg},click:function(o){return t.confirmAction(e.row.id,!e.row.isActive)}}},[o(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"\\n                                        \"+t._s(e.row.isActive?\"Archive this product\":\"Reactivate product\")+\"\\n                                    \")])],1)],1)],1)],1)]}}])}),o(\"ConfirmDialog\",{attrs:{showDlg:t.showDlg},on:{\"update:showDlg\":function(e){t.showDlg=e},\"update:show-dlg\":function(e){t.showDlg=e}},scopedSlots:t._u([{key:\"avatar\",fn:function(){return[o(\"q-avatar\",{attrs:{icon:\"report_problem\",color:\"red-5\",\"text-color\":\"white\"}})]},proxy:!0},t.targetVal?{key:\"message\",fn:function(){return[t._v(\"\\n                    This action will \"),o(\"u\",[t._v(\"REACTIVATE\")]),t._v(\" the product. \"),o(\"br\"),t._v(\"\\n                    Product will be visible again on the webstore.\\n                \")]},proxy:!0}:{key:\"message\",fn:function(){return[t._v(\"\\n                    This action will \"),o(\"u\",[t._v(\"ARCHIVE\")]),t._v(\" the product. \"),o(\"br\"),t._v(\"\\n                    Product will be hidden in the webstore.\\n                \")]},proxy:!0},{key:\"actions\",fn:function(){return[o(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Cancel\"}}),o(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Proceed\",color:\"red-5\"},on:{click:t.onProceed}})]},proxy:!0}],null,!0)}),o(\"ConfirmDialog\",{attrs:{showDlg:t.showDlgBulk},on:{\"update:showDlg\":function(e){t.showDlgBulk=e},\"update:show-dlg\":function(e){t.showDlgBulk=e}},scopedSlots:t._u([{key:\"avatar\",fn:function(){return[o(\"q-avatar\",{attrs:{icon:\"report_problem\",color:\"red-5\",\"text-color\":\"white\"}})]},proxy:!0},t.targetValBulk?{key:\"message\",fn:function(){return[t._v(\"\\n                    This action will \"),o(\"u\",[t._v(\"REACTIVATE\")]),t._v(\" the selected\\n                    products. \"),o(\"br\"),t._v(\"\\n                    Products will be visible again on the webstore.\\n                \")]},proxy:!0}:{key:\"message\",fn:function(){return[t._v(\"\\n                    This action will \"),o(\"u\",[t._v(\"ARCHIVE\")]),t._v(\" the selected products.\\n                    \"),o(\"br\"),t._v(\"\\n                    Products will be hidden in the webstore.\\n                \")]},proxy:!0},{key:\"actions\",fn:function(){return[o(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Cancel\"}}),o(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Proceed\",color:\"red-5\"},on:{click:t.onProceedAll}})]},proxy:!0}],null,!0)})],1)])])},r=[],n=(o(\"6579\"),o(\"7c81\"),o(\"bfab\"),o(\"1ce0\"),o(\"c973\")),s=o.n(n),i=o(\"ded3\"),l=o.n(i),c=o(\"96ec\"),u=o(\"392b\");let d=null,g=null;var p={name:\"ProductIndex\",components:{ConfirmDialog:c[\"a\"]},mixins:[u[\"a\"]],meta(){return{title:\"Products\"}},beforeCreate(){g=this.$RepositoryFactory.get(\"categories\"),d=this.$RepositoryFactory.get(\"products\")},created(){this.$route.query.type&&(this.category=this.$route.query.type),this.$route.query.s&&(this.search=this.$route.query.s),this.$route.query.p&&!isNaN(this.$route.query.p)&&(this.pagination.page=Number.parseInt(this.$route.query.p))},mounted(){this.onRequest({pagination:this.pagination,filter:void 0})},data(){return{productsList:[],selected:[],search:\"\",category:\"All\",filter:[\"All\"],loading:!0,showDlg:!1,showDlgBulk:!1,toToggleID:-1,targetVal:!1,targetValBulk:!1,pagination:{sortBy:\"created\",descending:!0,page:1,rowsPerPage:9},columns:[{name:\"name\",field:\"name\",label:\"Name\",align:\"left\",required:!0,sortable:!0},{name:\"created\",field:\"created\",align:\"left\",label:\"Created\",sortable:!0},{name:\"category\",field:\"category\",align:\"left\",label:\"Category\",sortable:!0},{name:\"basePrice\",field:\"basePrice\",align:\"left\",label:\"Base price\",sortable:!0}],data:[],original:[]}},methods:{filterChanged(t){const e=this.$route.query.type;!this.filter.includes(t)||e&&t.match(new RegExp(e,\"i\"))||(this.$router.replace({query:{type:t}}).catch((t=>{})),this.search=\"\"),this.$refs[\"prodsTbl\"].requestServerInteraction({pagination:l()(l()({},this.pagination),{},{page:1})})},searchClear(t){let e=Object.assign({},this.$route.query);delete e.s,this.$router.replace({query:e}).catch((t=>{})),this.search=\"\"},searchInput(t){let e=Object.assign({},this.$route.query,{s:t});t||delete e.s,this.$router.replace({query:e}).catch((t=>{}))},onChgPage(t){let e=Object.assign({},this.$route.query,{p:t.page});t||delete e.p,this.$router.replace({query:e}).catch((t=>{}))},fetchCategories(){var t=this;return s()((function*(){try{const e=yield g.getCategoriesSelection();t.filter=[...t.filter,...e.slice()];const o=new RegExp(t.$route.query.type,\"i\"),a=t.filter.find((t=>t.match(o)));t.category=a||\"\"}catch(e){t.showNotif(!1,\"Could not retrieve product categories.\")}}))()},onRequest(t){var e=this;return s()((function*(){e.loading=!0;try{const o=yield d.getProducts(e.category);e.original=o.products,e.data=e.original.slice(),e.pagination.page=t.pagination.page}catch(o){e.showNotif(!1,\"Could not retrieve products.\")}finally{e.loading=!1}}))()},confirmAction(t,e){this.targetVal=e,this.showDlg=!0,this.toToggleID=t},confirmBulkAction(t){this.targetValBulk=t,this.showDlgBulk=!0},onProceed(){var t=this;return s()((function*(){if(-1!==t.toToggleID)try{yield d.toggleActiveProduct(t.toToggleID,t.targetVal);t.showNotif(!0,t.targetVal?\"Product has been reactivated.\":\"Product has been archived.\"),t.data.forEach((e=>{e.id===t.toToggleID&&(e.isActive=t.targetVal,e.toggleFlg=t.targetVal)})),t.toToggleID=-1,t.targetVal=!1}catch(e){t.showNotif(!1,\"Could not update this item. \")}}))()},onProceedAll(){var t=this;return s()((function*(){if(t.selected&&t.selected.length>0)try{const e=t.selected.map((t=>t.id));yield d.toggleAll(e,t.targetValBulk);t.showNotif(!0,t.targetValBulk?\"Products have been reactivated.\":\"Products have been archived.\"),t.data.forEach((o=>{e.includes(o.id)&&(o.isActive=t.targetValBulk,o.toggleFlg=t.targetValBulk)})),t.selected.splice(0,t.selected.length),t.targetValBulk=!1}catch(e){t.showNotif(!1,\"Could not update items. \"+e)}}))()}}},h=p,f=o(\"2877\"),m=o(\"7c52\"),v=o(\"eebe\"),b=o.n(v);function y(t){var e=o(\"9277\");e.__inject__&&e.__inject__(t);var a=o(\"5366\");a.__inject__&&a.__inject__(t)}var w=Object(f[\"a\"])(h,a,r,!1,y,\"c408557e\",\"42296606\");e[\"default\"]=w.exports;b()(w,\"components\",{QPage:m[\"QPage\"],QBtn:m[\"QBtn\"],QTooltip:m[\"QTooltip\"],QSelect:m[\"QSelect\"],QIcon:m[\"QIcon\"],QItem:m[\"QItem\"],QInput:m[\"QInput\"],QTable:m[\"QTable\"],QMenu:m[\"QMenu\"],QList:m[\"QList\"],QItemSection:m[\"QItemSection\"],QCard:m[\"QCard\"],QImg:m[\"QImg\"],QCheckbox:m[\"QCheckbox\"],QSeparator:m[\"QSeparator\"],QItemLabel:m[\"QItemLabel\"],QCardActions:m[\"QCardActions\"],QAvatar:m[\"QAvatar\"]}),b()(w,\"directives\",{ClosePopup:m[\"ClosePopup\"]})},eebe:function(t,e){t.exports=function(t,e,o){var a;if(\"function\"===typeof t.exports?(a=t.exports.extendOptions,a[e]=t.exports.options[e]):a=t.options,void 0===a[e])a[e]=o;else{var r=a[e];for(var n in o)void 0===r[n]&&(r[n]=o[n])}}}};",
    "js/12.c407cd06.js": "exports.ids=[12],exports.modules={\"2e04\":function(t,e,a){\"use strict\";a.r(e);var i=a(\"70bf\"),n=a.n(i);for(var o in i)[\"default\"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e[\"default\"]=n.a},\"32c7\":function(t,e){t.exports={}},\"392b\":function(t,e,a){\"use strict\";a(\"932c\"),a(\"bfab\");var i,n,o={data(){return{prevRoute:null}},beforeRouteEnter(t,e,a){a((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,a){return t.replace(new RegExp(e,\"g\"),a)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},s=o,r=a(\"2877\"),l=Object(r[\"a\"])(s,i,n,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},\"5b3a\":function(t,e,a){\"use strict\";a.r(e);var i=a(\"32c7\"),n=a.n(i);for(var o in i)[\"default\"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(o);e[\"default\"]=n.a},\"70bf\":function(t,e){t.exports={}},\"7d22\":function(t,e,a){\"use strict\";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[a(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[a(\"div\",{staticClass:\"heading-caption\"},[a(\"h6\",[t._v(\"Review Account\")]),a(\"br\"),a(\"p\",[t._v(\"\\n                You may check and configure the customer's account details.\\n            \")])])]),a(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[a(\"div\",{staticClass:\"content-1\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Profile Info\\n            \")],1),a(\"div\",[a(\"q-form\",{attrs:{disabled:t.profile.hasError||t.profile.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[t.profile.loading?a(\"q-item\",{staticClass:\"q-mt-sm\"},[a(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):a(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"First Name\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},function(t){return null!==t&&t.length<=256}]},model:{value:t.profile.data.fname,callback:function(e){t.$set(t.profile.data,\"fname\",e)},expression:\"profile.data.fname\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Last Name\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},function(t){return null!==t&&t.length<=256}]},model:{value:t.profile.data.lname,callback:function(e){t.$set(t.profile.data,\"lname\",e)},expression:\"profile.data.lname\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Status\")]),a(\"q-toggle\",{attrs:{\"checked-icon\":\"check\",color:\"green-4\",\"unchecked-icon\":\"clear\",label:t.profile.data.active?\"Active\":\"Inactive\"},model:{value:t.profile.data.active,callback:function(e){t.$set(t.profile.data,\"active\",e)},expression:\"profile.data.active\"}})],1),a(\"q-item\",{staticClass:\"detail-field capitalize\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Account Type\")]),t._v(\"\\n                            \"+t._s(t.profile.data.type)+\"\\n                        \")]),a(\"q-item\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"reseller\"===t.profile.data.type,expression:\"profile.data.type === 'reseller'\"}],staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Approval Status\")]),a(\"q-toggle\",{attrs:{\"checked-icon\":\"check\",color:\"green-4\",\"unchecked-icon\":\"clear\",label:t.profile.data.approved?\"Approved\":\"For Approval\"},model:{value:t.profile.data.approved,callback:function(e){t.$set(t.profile.data,\"approved\",e)},expression:\"profile.data.approved\"}})],1)],1),a(\"q-separator\"),a(\"div\",{staticClass:\"q-pa-md\"},[a(\"q-btn\",{attrs:{label:\"Save\",type:\"submit\",color:\"primary\",loading:t.loading_p,disable:t.loading_p},scopedSlots:t._u([{key:\"loading\",fn:function(){return[a(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),a(\"div\",{staticClass:\"content-2\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"local_shipping\"}}),t._v(\"Contact Info and Delivery Address\\n            \")],1),a(\"div\",[a(\"q-form\",{attrs:{disabled:t.profile.hasError||t.profile.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmitContact(e)}}},[t.profile.loading?a(\"q-item\",{staticClass:\"q-mt-sm\"},[a(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):a(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Email\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"email\",dense:\"\",outlined:\"\",dark:\"\",readonly:\"\",\"hide-bottom-space\":\"\"},model:{value:t.profile.data.email,callback:function(e){t.$set(t.profile.data,\"email\",e)},expression:\"profile.data.email\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Address\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",\"lazy-rules\":\"\",rules:[function(t){return!t||(null!==t&&t.length)<=512}]},model:{value:t.profile.data.address,callback:function(e){t.$set(t.profile.data,\"address\",e)},expression:\"profile.data.address\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Phone\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"tel\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Ex. (+63) 000-000-0000\",mask:\"(+##) ###-###-####\",\"lazy-rules\":\"\",rules:[t._isValidPhoneNum]},on:{input:t.syncVerifiedStatus},model:{value:t.profile.data.phone,callback:function(e){t.$set(t.profile.data,\"phone\",e)},expression:\"profile.data.phone\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Phone Verified\")]),a(\"q-toggle\",{attrs:{\"checked-icon\":\"check\",color:\"green-4\",\"unchecked-icon\":\"clear\",label:t.profile.data.smsVerified?\"Confirmed\":\"Unconfirmed\"},model:{value:t.profile.data.smsVerified,callback:function(e){t.$set(t.profile.data,\"smsVerified\",e)},expression:\"profile.data.smsVerified\"}})],1)],1),a(\"q-separator\"),a(\"div\",{staticClass:\"q-pa-md\"},[a(\"q-btn\",{attrs:{label:\"Save\",type:\"submit\",color:\"primary\",loading:t.loading_c,disable:t.loading_c},scopedSlots:t._u([{key:\"loading\",fn:function(){return[a(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)])])])},n=[],o=(a(\"bfab\"),a(\"c973\")),s=a.n(o),r=a(\"392b\");let l=null;var c={name:\"AccountsEdit\",mixins:[r[\"a\"]],watch:{$route(t,e){t.path!==e.path&&this.getAccount()}},meta(){return{title:\"Review Account\",meta:{robots:{name:\"robots\",content:\"noindex\"}}}},beforeCreate(){l=this.$RepositoryFactory.get(\"accounts\")},created(){0},computed:{resolvedPhone(){const t=this.profile.data.phone;return t&&\"\"!==t?t.replace(new RegExp(/[-()]/g),\"\"):t}},data(){return{loading_p:!1,loading_c:!1,profile:{loading:!0,hasError:!1,data:{active:!1,fname:\"\",lname:\"\",type:\"\",approved:!1,address:\"\",email:\"\",phone:\"\",smsVerified:!1}}}},methods:{_isValidEmail(t){const e=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\\.){1,8}[a-zA-Z]{2,63}$/;return e.test(t)||\"Invalid email format\"},_isValidPhoneNum(t){if(!t)return!0;const e=/^\\+\\d{1,3}\\s\\d{1,14}(\\s\\d{1,13})?/;return e.test(this.resolvedPhone)||\"Invalid mobile phone format\"},syncVerifiedStatus(t){t||(this.profile.data.smsVerified=!1)},getAccount(){var t=this;return s()((function*(){try{const e=yield l.getAccount(t.$route.params.id);t.profile.data=e}catch(e){t.showNotif(!1,\"Could not retrieve profile details. \"),t.profile.hasError=!0}finally{t.profile.loading=!1}}))()},onSubmit:function(){var t=s()((function*(t){this.loading_p=!0;try{yield l.editAccount(this.$route.params.id,this.profile.data),this.showNotif(!0,\"Successfully updated account info.\"),this.loading_p=!1,this.returnToPageIndex(\"/accounts\")}catch(e){this.showNotif(!1,\"Could not update the account info. \"),this.loading_p=!1}}));return function(e){return t.apply(this,arguments)}}(),onSubmitContact:function(){var t=s()((function*(t){this.loading_c=!0;try{yield l.editAccountContact(this.$route.params.id,this.profile.data),this.showNotif(!0,\"Successfully updated contact info.\"),this.loading_c=!1,this.returnToPageIndex(\"/accounts\")}catch(e){this.showNotif(!1,\"Could not update the contact info. \"),this.loading_c=!1}}));return function(e){return t.apply(this,arguments)}}()}},d=c,u=a(\"2877\"),p=a(\"7c52\"),f=a(\"eebe\"),m=a.n(f);function h(t){var e=a(\"2e04\");e.__inject__&&e.__inject__(t);var i=a(\"5b3a\");i.__inject__&&i.__inject__(t)}var g=Object(u[\"a\"])(d,i,n,!1,h,\"f0fc66be\",\"7e4bac44\");e[\"default\"]=g.exports;m()(g,\"components\",{QPage:p[\"QPage\"],QIcon:p[\"QIcon\"],QForm:p[\"QForm\"],QItem:p[\"QItem\"],QSpinner:p[\"QSpinner\"],QList:p[\"QList\"],QInput:p[\"QInput\"],QToggle:p[\"QToggle\"],QSeparator:p[\"QSeparator\"],QBtn:p[\"QBtn\"],QSpinnerGears:p[\"QSpinnerGears\"],QField:p[\"QField\"]})},eebe:function(t,e){t.exports=function(t,e,a){var i;if(\"function\"===typeof t.exports?(i=t.exports.extendOptions,i[e]=t.exports.options[e]):i=t.options,void 0===i[e])i[e]=a;else{var n=i[e];for(var o in a)void 0===n[o]&&(n[o]=a[o])}}}};",
    "js/13.e825e33d.js": "exports.ids=[13],exports.modules={\"392b\":function(e,t,n){\"use strict\";n(\"932c\"),n(\"bfab\");var a,r,o={data(){return{prevRoute:null}},beforeRouteEnter(e,t,n){n((e=>{e.prevRoute=t}))},computed:{today(){const e=new Date,t={month:e.toLocaleDateString(\"en-US\",{month:\"long\"}),year:e.getFullYear(),dayOfMonth:e.getDate(),dayOfWeek:e.getDay(),human:e.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:e.toISOString(),yyyymmdd:e.getFullYear()+\"-\"+(e.getMonth()+1).toString().padStart(2,0)+\"-\"+e.getDate().toString().padStart(2,\"0\")};return t},startDayOfMonth(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)},lastDayOfMonth(){const e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0)}},methods:{replaceAll:function(e,t,n){return e.replace(new RegExp(t,\"g\"),n)},resolveAssetsUrl:function(e){return\"https://localhost:3000/\"+e},showNotif:function(e,t){this.$q.notify({color:e?\"green-4\":\"negative\",textColor:\"white\",icon:e?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:t})},returnToPageIndex:function(e){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(e).catch((e=>{}))},findMaxDt:function(e,t){return new Date(Math.max(new Date(e),new Date(t)))},findMinDt:function(e,t){return new Date(Math.min(new Date(e),new Date(t)))},toQDateFormat:function(e){return e?e.getFullYear()+\"/\"+(e.getMonth()+1).toString().padStart(2,0)+\"/\"+e.getDate().toString().padStart(2,0):e},toHumanReadableDt:function(e){const t=new Date(e);return t?t.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+t.getHours().toString().padStart(2,0)+\":\"+t.getMinutes().toString().padStart(2,0):e}}},i=o,s=n(\"2877\"),c=Object(s[\"a\"])(i,a,r,!1,null,null,\"18d4dfef\");t[\"a\"]=c.exports},\"3ac1\":function(e,t,n){\"use strict\";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[n(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[n(\"div\",{staticClass:\"heading-caption\"},[n(\"h6\",[e._v(\"Customer Accounts\")]),n(\"br\"),n(\"p\",[e._v(\"Here are the registered members of your store.\")])])]),n(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[n(\"div\",{staticClass:\"content-1\"},[n(\"q-select\",{staticClass:\"filter-select\",attrs:{options:e.filter,dark:\"\",dense:\"\",outlined:\"\",\"options-dense\":\"\"},on:{input:e.filterChanged},scopedSlots:e._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{attrs:{name:\"person_outline\"}})]},proxy:!0}]),model:{value:e.customerFilter,callback:function(t){e.customerFilter=t},expression:\"customerFilter\"}})],1),n(\"div\",{staticClass:\"content-2\"},[n(\"q-input\",{attrs:{type:\"search\",debounce:\"500\",placeholder:\"Search Name\",dark:\"\",dense:\"\",outlined:\"\"},on:{input:e.searchInput},scopedSlots:e._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{attrs:{name:\"search\"}})]},proxy:!0},{key:\"append\",fn:function(){return[n(\"transition\",{attrs:{name:\"fade\"}},[n(\"q-icon\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"\"!=e.search,expression:\"search != ''\"}],staticClass:\"cursor-pointer\",attrs:{name:\"close\"},on:{click:e.searchClear}})],1)]},proxy:!0}]),model:{value:e.search,callback:function(t){e.search=t},expression:\"search\"}})],1),n(\"div\",{staticClass:\"content-3\"},[n(\"q-table\",{ref:\"accntsTbl\",staticClass:\"customer-table\",attrs:{square:\"\",\"row-key\":\"id\",data:e.data,columns:e.columns,pagination:e.pagination,\"rows-per-page-options\":[0],loading:e.loading,filter:e.search},on:{\"update:pagination\":[function(t){e.pagination=t},e.onChgPage],request:e.onRequest},scopedSlots:e._u([{key:\"body\",fn:function(t){return[n(\"q-tr\",{attrs:{props:t}},[n(\"q-td\",{key:\"name\",attrs:{props:t}},[e._v(\"\\n                            \"+e._s(t.row.name)+\"\\n                        \")]),n(\"q-td\",{key:\"type\",staticClass:\"capitalize\",attrs:{props:t}},[e._v(\"\\n                            \"+e._s(t.row.type)+\"\\n                        \")]),n(\"q-td\",{key:\"joined\",attrs:{props:t}},[e._v(\"\\n                            \"+e._s(t.row.joined)+\"\\n                        \")]),n(\"q-td\",{key:\"login\",attrs:{props:t}},[e._v(\"\\n                            \"+e._s(t.row.login)+\"\\n                        \")]),n(\"q-td\",{key:\"active\",attrs:{props:t}},[n(\"q-btn-toggle\",{staticClass:\"no-pointer-events\",attrs:{size:\"sm\",readonly:\"\",\"toggle-color\":t.row.active?\"green-4\":\"red-4\",options:[{label:\"Active\",value:!0},{label:\"Inactive\",value:!1}]},model:{value:t.row.active,callback:function(n){e.$set(t.row,\"active\",n)},expression:\"props.row.active\"}})],1),n(\"q-td\",[n(\"q-btn\",{staticClass:\"q-mr-sm\",attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"build\",to:\"/accounts/edit/\"+t.row.id}},[n(\"q-tooltip\",{attrs:{anchor:\"center right\",self:\"center left\",offset:[10,10]}},[e._v(\"Configure\")])],1)],1)],1)]}}])})],1)])])},r=[],o=(n(\"6579\"),n(\"bfab\"),n(\"c973\")),i=n.n(o),s=n(\"ded3\"),c=n.n(s),l=n(\"392b\");let u=null;var p={name:\"AccountsIndex\",mixins:[l[\"a\"]],meta(){return{title:\"Customer Accounts\",meta:{robots:{name:\"robots\",content:\"noindex\"}}}},beforeCreate(){u=this.$RepositoryFactory.get(\"accounts\")},created(){if(this.$route.query.type){const e=new RegExp(this.$route.query.type,\"i\");this.filter.forEach((t=>{t.match(e)&&(this.customerFilter=t)}))}this.$route.query.s&&(this.search=this.$route.query.s),this.$route.query.p&&!isNaN(this.$route.query.p)&&(this.pagination.page=Number.parseInt(this.$route.query.p))},mounted(){this.onRequest({pagination:this.pagination,filter:void 0})},data(){return{customerList:[],search:\"\",searchReq:null,customerFilter:\"All\",filter:[\"All\",\"Regular\",\"Reseller\",\"Partner\"],loading:!1,pagination:{sortBy:\"joined\",descending:!0,page:1,rowsPerPage:9},columns:[{name:\"name\",field:\"name\",label:\"Name\",align:\"left\",required:!0,sortable:!0},{name:\"type\",field:\"type\",align:\"left\",label:\"Type\",sortable:!0},{name:\"joined\",field:\"joined\",align:\"left\",label:\"Joined\",sortable:!0},{name:\"login\",field:\"login\",align:\"left\",label:\"Last Login\",sortable:!0},{name:\"active\",field:\"active\",align:\"center\",label:\"Status\",sortable:!0},{name:\"action\",align:\"left\",label:\"Action\"}],data:[],original:[]}},methods:{filterChanged(e){const t=this.$route.query.type;!this.filter.includes(e)&&t&&e.match(new RegExp(t,\"i\"))||(this.$router.replace({query:{type:e}}).catch((e=>{})),this.search=\"\"),this.$refs[\"accntsTbl\"].requestServerInteraction({pagination:c()(c()({},this.pagination),{},{page:1})})},searchClear(e){let t=Object.assign({},this.$route.query);delete t.s,this.$router.replace({query:t}).catch((e=>{})),this.search=\"\"},searchInput(e){let t=Object.assign({},this.$route.query,{s:e});e||delete t.s,this.$router.replace({query:t}).catch((e=>{}))},onChgPage(e){let t=Object.assign({},this.$route.query,{p:e.page});e||delete t.p,this.$router.replace({query:t}).catch((e=>{}))},onRequest(e){var t=this;return i()((function*(){t.loading=!0;try{const n=yield u.getAllAccounts(t.customerFilter);t.original=n,t.data=t.original.slice(),t.pagination.page=e.pagination.page}catch(n){t.showNotif(!1,\"Could not retrieve account details. \")}finally{t.loading=!1}}))()}}},d=p,g=n(\"2877\"),h=n(\"7c52\"),f=n(\"eebe\"),m=n.n(f);function y(e){var t=n(\"7bc5\");t.__inject__&&t.__inject__(e);var a=n(\"6250\");a.__inject__&&a.__inject__(e)}var v=Object(g[\"a\"])(d,a,r,!1,y,\"9d408dee\",\"e63cd3f0\");t[\"default\"]=v.exports;m()(v,\"components\",{QPage:h[\"QPage\"],QSelect:h[\"QSelect\"],QIcon:h[\"QIcon\"],QInput:h[\"QInput\"],QTable:h[\"QTable\"],QTr:h[\"QTr\"],QTd:h[\"QTd\"],QBtnToggle:h[\"QBtnToggle\"],QBtn:h[\"QBtn\"],QTooltip:h[\"QTooltip\"]})},4450:function(e,t){e.exports={}},\"4e7c\":function(e,t){e.exports={}},6250:function(e,t,n){\"use strict\";n.r(t);var a=n(\"4450\"),r=n.n(a);for(var o in a)[\"default\"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t[\"default\"]=r.a},\"7bc5\":function(e,t,n){\"use strict\";n.r(t);var a=n(\"4e7c\"),r=n.n(a);for(var o in a)[\"default\"].indexOf(o)<0&&function(e){n.d(t,e,(function(){return a[e]}))}(o);t[\"default\"]=r.a},eebe:function(e,t){e.exports=function(e,t,n){var a;if(\"function\"===typeof e.exports?(a=e.exports.extendOptions,a[t]=e.exports.options[t]):a=e.options,void 0===a[t])a[t]=n;else{var r=a[t];for(var o in n)void 0===r[o]&&(r[o]=n[o])}}}};",
    "js/14.b317c5f5.js": "exports.ids=[14],exports.modules={2898:function(t,e){t.exports={}},\"392b\":function(t,e,n){\"use strict\";n(\"932c\"),n(\"bfab\");var a,o,s={data(){return{prevRoute:null}},beforeRouteEnter(t,e,n){n((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,n){return t.replace(new RegExp(e,\"g\"),n)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},i=s,r=n(\"2877\"),c=Object(r[\"a\"])(i,a,o,!1,null,null,\"18d4dfef\");e[\"a\"]=c.exports},4976:function(t,e,n){\"use strict\";n.r(e);var a=n(\"978e\"),o=n.n(a);for(var s in a)[\"default\"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e[\"default\"]=o.a},\"6f16\":function(t,e,n){\"use strict\";n.r(e);var a=n(\"2898\"),o=n.n(a);for(var s in a)[\"default\"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e[\"default\"]=o.a},7858:function(t,e,n){\"use strict\";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[n(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[n(\"div\",{staticClass:\"heading-caption\"},[n(\"h6\",[t._v(\"Add Announcement\")]),n(\"br\"),n(\"p\",[t._v(\"\\n                Fill out the form to post an announcement in the webstore.\\n            \")])])]),n(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[n(\"div\",{staticClass:\"content-1\"},[n(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[n(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Announcement Info\\n            \")],1),n(\"div\",[n(\"q-form\",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[n(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Starts from\")]),n(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[n(\"q-popup-proxy\",{ref:\"qDateProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyS.hide()}},model:{value:t.announcement.start,callback:function(e){t.$set(t.announcement,\"start\",e)},expression:\"announcement.start\"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[n(\"q-popup-proxy\",{ref:\"qTimeProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyS.hide()}},model:{value:t.announcement.start,callback:function(e){t.$set(t.announcement,\"start\",e)},expression:\"announcement.start\"}})],1)],1)]},proxy:!0}]),model:{value:t.announcement.start,callback:function(e){t.$set(t.announcement,\"start\",e)},expression:\"announcement.start\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Ends at\")]),n(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime,t._isValidEndDt]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[n(\"q-popup-proxy\",{ref:\"qDateProxyE\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyE.hide()}},model:{value:t.announcement.end,callback:function(e){t.$set(t.announcement,\"end\",e)},expression:\"announcement.end\"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[n(\"q-popup-proxy\",{ref:\"qTimeProxyE\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyE.hide()}},model:{value:t.announcement.end,callback:function(e){t.$set(t.announcement,\"end\",e)},expression:\"announcement.end\"}})],1)],1)]},proxy:!0}]),model:{value:t.announcement.end,callback:function(e){t.$set(t.announcement,\"end\",e)},expression:\"announcement.end\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Text\")]),n(\"q-editor\",{ref:\"qTxtEditor\",staticClass:\"field-value qtext-editor\",class:{\"has-error\":t.contentEmpty},attrs:{placeholder:\"Announcement text\",flat:\"\",\"content-class\":\"text-black bg-grey-3\",\"toolbar-text-color\":\"black\",\"toolbar-toggle-color\":\"yellow-8\",toolbar:[[\"bold\",\"italic\",\"underline\"],[\"undo\",\"redo\"]]},on:{input:function(e){t.hasTyped=!0}},model:{value:t.announcement.message,callback:function(e){t.$set(t.announcement,\"message\",e)},expression:\"announcement.message\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Link\")]),n(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Optional URL\",\"lazy-rules\":\"\",rules:[t._isValidLink]},model:{value:t.announcement.targetLink,callback:function(e){t.$set(t.announcement,\"targetLink\",e)},expression:\"announcement.targetLink\"}})],1)],1),n(\"q-separator\"),n(\"div\",{staticClass:\"q-pa-md\"},[n(\"q-btn\",{attrs:{label:\"Create\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading||!t.hasTyped},scopedSlots:t._u([{key:\"loading\",fn:function(){return[n(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),n(\"div\",{staticClass:\"content-2\"})])])},o=[],s=(n(\"bfab\"),n(\"3d03\"),n(\"c973\")),i=n.n(s),r=n(\"392b\");let c=null;var l={name:\"AnnouncementAdd\",mixins:[r[\"a\"]],meta(){return{title:\"Add Announcement\"}},beforeCreate(){c=this.$RepositoryFactory.get(\"announcements\")},created(){this.announcement.start=this.today.yyyymmdd+\" 00:00\",this.announcement.end=this.today.yyyymmdd+\" 23:59\"},mounted(){this.$refs.qTxtEditor.focus()},computed:{contentEmpty(){return this.hasTyped&&this._isContentEmpty(this.announcement.message)}},data(){return{loading:!1,hasTyped:!1,announcement:{message:\"\",targetLink:\"\",start:\"\",end:\"\"}}},methods:{_isValidDatetime(t){const e=/^\\d{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01]) (0?[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9])$/g;return e.test(t)||\"Invalid date & time format\"},_isValidEndDt(t){const e=new Date(t),n=new Date(this.announcement.start);return e.getTime()>n.getTime()||\"End date needs to be greater\"},_isValidLink(t){if(!t||\"\"==t)return!0;const e=/[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/;return e.test(t)||\"Invalid URL format\"},_isContentEmpty(t){return t=this.replaceAll(t,\"&nbsp;\",\"\"),t=this.replaceAll(t,\" \",\"\"),t=t.replace(/(<([^>]+)>)/gi,\"\").trim(),0==t.length},onSubmit:function(){var t=i()((function*(t){if(this.loading=!0,this._isContentEmpty(this.announcement.message))this.$refs.qTxtEditor.focus(),this.loading=!1;else try{yield c.addAnnouncement(this.announcement),this.showNotif(!0,\"Successfully added new announcement. \"),this.returnToPageIndex(\"/announcements\")}catch(e){this.showNotif(!1,\"Could not create the announcement. \")}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},u=l,d=n(\"2877\"),m=n(\"7c52\"),p=n(\"eebe\"),f=n.n(p);function h(t){var e=n(\"4976\");e.__inject__&&e.__inject__(t);var a=n(\"6f16\");a.__inject__&&a.__inject__(t)}var g=Object(d[\"a\"])(u,a,o,!1,h,\"1a78c447\",\"7773c615\");e[\"default\"]=g.exports;f()(g,\"components\",{QPage:m[\"QPage\"],QIcon:m[\"QIcon\"],QForm:m[\"QForm\"],QList:m[\"QList\"],QItem:m[\"QItem\"],QInput:m[\"QInput\"],QPopupProxy:m[\"QPopupProxy\"],QDate:m[\"QDate\"],QTime:m[\"QTime\"],QEditor:m[\"QEditor\"],QSeparator:m[\"QSeparator\"],QBtn:m[\"QBtn\"],QSpinnerGears:m[\"QSpinnerGears\"],QField:m[\"QField\"]})},\"978e\":function(t,e){t.exports={}},eebe:function(t,e){t.exports=function(t,e,n){var a;if(\"function\"===typeof t.exports?(a=t.exports.extendOptions,a[e]=t.exports.options[e]):a=t.options,void 0===a[e])a[e]=n;else{var o=a[e];for(var s in n)void 0===o[s]&&(o[s]=n[s])}}}};",
    "js/15.a1a69088.js": "exports.ids=[15],exports.modules={\"15f3\":function(t,e,n){\"use strict\";n.r(e);var a=n(\"bae3\"),o=n.n(a);for(var i in a)[\"default\"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e[\"default\"]=o.a},\"307c\":function(t,e,n){\"use strict\";n.r(e);var a=n(\"8f77\"),o=n.n(a);for(var i in a)[\"default\"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e[\"default\"]=o.a},\"392b\":function(t,e,n){\"use strict\";n(\"932c\"),n(\"bfab\");var a,o,i={data(){return{prevRoute:null}},beforeRouteEnter(t,e,n){n((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,n){return t.replace(new RegExp(e,\"g\"),n)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},r=i,s=n(\"2877\"),c=Object(s[\"a\"])(r,a,o,!1,null,null,\"18d4dfef\");e[\"a\"]=c.exports},\"8f77\":function(t,e){t.exports={}},b732:function(t,e,n){\"use strict\";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[n(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[n(\"div\",{staticClass:\"heading-caption\"},[n(\"h6\",[t._v(\"Edit Announcement\")]),n(\"br\"),n(\"p\",[t._v(\"You may edit the details of this announcement.\")])])]),n(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[n(\"div\",{staticClass:\"content-1\"},[n(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[n(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Announcement Info\\n            \")],1),n(\"div\",[n(\"q-form\",{attrs:{disabled:t.announcement.hasError||t.announcement.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[t.announcement.loading?n(\"q-item\",{staticClass:\"q-mt-sm\"},[n(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):n(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Starts from\")]),n(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[n(\"q-popup-proxy\",{ref:\"qDateProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyS.hide()}},model:{value:t.announcement.data.start,callback:function(e){t.$set(t.announcement.data,\"start\",e)},expression:\"\\n                                                    announcement.data.start\\n                                                \"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[n(\"q-popup-proxy\",{ref:\"qTimeProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyS.hide()}},model:{value:t.announcement.data.start,callback:function(e){t.$set(t.announcement.data,\"start\",e)},expression:\"\\n                                                    announcement.data.start\\n                                                \"}})],1)],1)]},proxy:!0}]),model:{value:t.announcement.data.start,callback:function(e){t.$set(t.announcement.data,\"start\",e)},expression:\"announcement.data.start\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Ends at\")]),n(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime,t._isValidEndDt]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[n(\"q-popup-proxy\",{ref:\"qDateProxyE\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyE.hide()}},model:{value:t.announcement.data.end,callback:function(e){t.$set(t.announcement.data,\"end\",e)},expression:\"\\n                                                    announcement.data.end\\n                                                \"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[n(\"q-popup-proxy\",{ref:\"qTimeProxyE\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyE.hide()}},model:{value:t.announcement.data.end,callback:function(e){t.$set(t.announcement.data,\"end\",e)},expression:\"\\n                                                    announcement.data.end\\n                                                \"}})],1)],1)]},proxy:!0}]),model:{value:t.announcement.data.end,callback:function(e){t.$set(t.announcement.data,\"end\",e)},expression:\"announcement.data.end\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Text\")]),n(\"q-editor\",{ref:\"qTxtEditor\",staticClass:\"field-value qtext-editor\",class:{\"has-error\":t.contentEmpty},attrs:{placeholder:\"Announcement text\",flat:\"\",\"content-class\":\"text-black bg-grey-3\",\"toolbar-text-color\":\"black\",\"toolbar-toggle-color\":\"yellow-8\",toolbar:[[\"bold\",\"italic\",\"underline\"],[\"undo\",\"redo\"]]},on:{input:function(e){t.hasTyped=!0}},model:{value:t.announcement.data.message,callback:function(e){t.$set(t.announcement.data,\"message\",e)},expression:\"announcement.data.message\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Link\")]),n(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Optional URL\",\"lazy-rules\":\"\",rules:[t._isValidLink]},model:{value:t.announcement.data.targetLink,callback:function(e){t.$set(t.announcement.data,\"targetLink\",e)},expression:\"announcement.data.targetLink\"}})],1)],1),n(\"q-separator\"),n(\"div\",{staticClass:\"q-pa-md\"},[n(\"q-btn\",{attrs:{label:\"Save\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading},scopedSlots:t._u([{key:\"loading\",fn:function(){return[n(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),n(\"div\",{staticClass:\"content-2\"})])])},o=[],i=(n(\"bfab\"),n(\"3d03\"),n(\"c973\")),r=n.n(i),s=n(\"392b\");let c=null;var l={name:\"AnnouncementEdit\",mixins:[s[\"a\"]],meta(){return{title:\"Edit Announcement\"}},mounted(){},beforeCreate(){c=this.$RepositoryFactory.get(\"announcements\")},created(){0},computed:{contentEmpty(){return this.hasTyped&&this._isContentEmpty(this.announcement.data.message)}},data(){return{loading:!1,hasTyped:!1,announcement:{loading:!0,hasError:!1,data:{message:\"\",targetLink:\"\",start:\"\",end:\"\"}}}},methods:{_isValidDatetime(t){const e=/^\\d{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01]) (0?[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9])$/g;return e.test(t)||\"Invalid date & time format\"},_isValidEndDt(t){const e=new Date(t),n=new Date(this.announcement.data.start);return e.getTime()>n.getTime()||\"End date needs to be greater\"},_isValidLink(t){if(!t||\"\"==t)return!0;const e=/[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)/;return e.test(t)||\"Invalid URL format\"},_isContentEmpty(t){return!t||(t=this.replaceAll(t,\"&nbsp;\",\"\"),t=this.replaceAll(t,\" \",\"\"),t=t.replace(/(<([^>]+)>)/gi,\"\").trim(),0==t.length)},getAnnouncement(){var t=this;return r()((function*(){try{const e=yield c.getAnnouncement(t.$route.params.id);t.announcement.data=e}catch(e){t.showNotif(!1,\"Could not retrieve announcement details. \"),t.announcement.hasError=!0}finally{t.announcement.loading=!1}}))()},onSubmit:function(){var t=r()((function*(t){if(this.loading=!0,this._isContentEmpty(this.announcement.data.message))this.$refs.qTxtEditor.focus(),this.loading=!1;else try{yield c.editAnnouncement(this.$route.params.id,this.announcement.data),this.showNotif(!0,\"Successfully edited the announcement. \"),this.returnToPageIndex(\"/announcements\")}catch(e){this.showNotif(!1,\"Could not edit the announcement. \")}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},u=l,d=n(\"2877\"),m=n(\"7c52\"),p=n(\"eebe\"),f=n.n(p);function h(t){var e=n(\"307c\");e.__inject__&&e.__inject__(t);var a=n(\"15f3\");a.__inject__&&a.__inject__(t)}var g=Object(d[\"a\"])(u,a,o,!1,h,\"319c48b2\",\"22cba3c6\");e[\"default\"]=g.exports;f()(g,\"components\",{QPage:m[\"QPage\"],QIcon:m[\"QIcon\"],QForm:m[\"QForm\"],QItem:m[\"QItem\"],QSpinner:m[\"QSpinner\"],QList:m[\"QList\"],QInput:m[\"QInput\"],QPopupProxy:m[\"QPopupProxy\"],QDate:m[\"QDate\"],QTime:m[\"QTime\"],QEditor:m[\"QEditor\"],QSeparator:m[\"QSeparator\"],QBtn:m[\"QBtn\"],QSpinnerGears:m[\"QSpinnerGears\"],QField:m[\"QField\"]})},bae3:function(t,e){t.exports={}},eebe:function(t,e){t.exports=function(t,e,n){var a;if(\"function\"===typeof t.exports?(a=t.exports.extendOptions,a[e]=t.exports.options[e]):a=t.options,void 0===a[e])a[e]=n;else{var o=a[e];for(var i in n)void 0===o[i]&&(o[i]=n[i])}}}};",
    "js/16.84895c84.js": "exports.ids=[16],exports.modules={3076:function(t,e,a){\"use strict\";a.r(e);var n=a(\"789a\"),r=a.n(n);for(var o in n)[\"default\"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e[\"default\"]=r.a},\"392b\":function(t,e,a){\"use strict\";a(\"932c\"),a(\"bfab\");var n,r,o={data(){return{prevRoute:null}},beforeRouteEnter(t,e,a){a((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,a){return t.replace(new RegExp(e,\"g\"),a)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},i=o,s=a(\"2877\"),l=Object(s[\"a\"])(i,n,r,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},\"789a\":function(t,e){t.exports={}},\"9b36\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[a(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[a(\"div\",{staticClass:\"heading-caption\"},[a(\"h6\",[t._v(\"Add Category\")]),a(\"br\"),a(\"p\",[t._v(\"\\n                Fill out the form to create a new category in the webstore.\\n            \")])])]),a(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[a(\"div\",{staticClass:\"content-1\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"New Category Info\\n            \")],1),a(\"div\",[a(\"q-form\",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[a(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Category Name\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required. \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:t.category.name,callback:function(e){t.$set(t.category,\"name\",e)},expression:\"category.name\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Difficulty Scale\")]),a(\"q-slider\",{staticClass:\"field-value q-mx-xs\",attrs:{min:1,max:3,\"label-value\":[\"Easy\",\"Medium\",\"Hard\"][t.category.difficulty-1],label:\"\",color:\"green-4\"},model:{value:t.category.difficulty,callback:function(e){t.$set(t.category,\"difficulty\",e)},expression:\"category.difficulty\"}})],1)],1),a(\"q-separator\"),a(\"div\",{staticClass:\"q-pa-md\"},[a(\"q-btn\",{attrs:{label:\"Create\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading},scopedSlots:t._u([{key:\"loading\",fn:function(){return[a(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),a(\"div\",{staticClass:\"content-2\"})])])},r=[],o=a(\"c973\"),i=a.n(o),s=a(\"392b\");let l=null;var c={name:\"CategoryAdd\",mixins:[s[\"a\"]],meta(){return{title:\"Add Category\"}},beforeCreate(){l=this.$RepositoryFactory.get(\"categories\")},data(){return{loading:!1,category:{name:\"\",difficulty:1}}},methods:{onSubmit:function(){var t=i()((function*(t){this.loading=!0;try{yield l.addCategory(this.category),this.showNotif(!0,\"Created new product category.\"),this.returnToPageIndex(\"/categories\")}catch(e){this.showNotif(!1,\"Could not create product category. \")}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},u=c,d=a(\"2877\"),f=a(\"7c52\"),g=a(\"eebe\"),p=a.n(g);function m(t){var e=a(\"e00e\");e.__inject__&&e.__inject__(t);var n=a(\"3076\");n.__inject__&&n.__inject__(t)}var y=Object(d[\"a\"])(u,n,r,!1,m,\"8ce29020\",\"02dfa5e6\");e[\"default\"]=y.exports;p()(y,\"components\",{QPage:f[\"QPage\"],QIcon:f[\"QIcon\"],QForm:f[\"QForm\"],QList:f[\"QList\"],QItem:f[\"QItem\"],QInput:f[\"QInput\"],QSlider:f[\"QSlider\"],QSeparator:f[\"QSeparator\"],QBtn:f[\"QBtn\"],QSpinnerGears:f[\"QSpinnerGears\"],QField:f[\"QField\"]})},a77a:function(t,e){t.exports={}},e00e:function(t,e,a){\"use strict\";a.r(e);var n=a(\"a77a\"),r=a.n(n);for(var o in n)[\"default\"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e[\"default\"]=r.a},eebe:function(t,e){t.exports=function(t,e,a){var n;if(\"function\"===typeof t.exports?(n=t.exports.extendOptions,n[e]=t.exports.options[e]):n=t.options,void 0===n[e])n[e]=a;else{var r=n[e];for(var o in a)void 0===r[o]&&(r[o]=a[o])}}}};",
    "js/17.9d0fd561.js": "exports.ids=[17],exports.modules={\"392b\":function(t,e,a){\"use strict\";a(\"932c\"),a(\"bfab\");var n,r,o={data(){return{prevRoute:null}},beforeRouteEnter(t,e,a){a((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,a){return t.replace(new RegExp(e,\"g\"),a)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},i=o,s=a(\"2877\"),l=Object(s[\"a\"])(i,n,r,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},\"561f\":function(t,e){t.exports={}},\"6c38\":function(t,e){t.exports={}},\"79d2\":function(t,e,a){\"use strict\";a.r(e);var n=a(\"6c38\"),r=a.n(n);for(var o in n)[\"default\"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e[\"default\"]=r.a},d02c:function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[a(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[a(\"div\",{staticClass:\"heading-caption\"},[a(\"h6\",[t._v(\"Edit Category\")]),a(\"br\"),a(\"p\",[t._v(\"You may edit the details of this category.\")])])]),a(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[a(\"div\",{staticClass:\"content-1\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Category Info\\n            \")],1),a(\"div\",[a(\"q-form\",{attrs:{disabled:t.category.hasError||t.category.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[t.category.loading?a(\"q-item\",{staticClass:\"q-mt-sm\"},[a(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):a(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Category Name\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required. \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:t.category.data.name,callback:function(e){t.$set(t.category.data,\"name\",e)},expression:\"category.data.name\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Difficulty Scale\")]),a(\"q-slider\",{staticClass:\"field-value q-mx-xs\",attrs:{min:1,max:3,\"label-value\":[\"Easy\",\"Medium\",\"Hard\"][t.category.data.difficulty-1],label:\"\",color:\"green-4\"},model:{value:t.category.data.difficulty,callback:function(e){t.$set(t.category.data,\"difficulty\",e)},expression:\"category.data.difficulty\"}})],1)],1),a(\"q-separator\"),a(\"div\",{staticClass:\"q-pa-md\"},[a(\"q-btn\",{attrs:{label:\"Save\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading},scopedSlots:t._u([{key:\"loading\",fn:function(){return[a(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),a(\"div\",{staticClass:\"content-2\"})])])},r=[],o=a(\"c973\"),i=a.n(o),s=a(\"392b\");let l=null;var c={name:\"CategoryEdit\",mixins:[s[\"a\"]],meta(){return{title:\"Edit Category\"}},beforeCreate(){l=this.$RepositoryFactory.get(\"categories\")},created(){0},data(){return{loading:!1,category:{loading:!0,hasError:!1,data:{name:\"\"}}}},methods:{getCategory(){var t=this;return i()((function*(){try{const e=yield l.getCategory(t.$route.params.id);t.category.data=e}catch(e){t.showNotif(!1,\"Could not retrieve category details. \"),t.category.hasError=!0}finally{t.category.loading=!1}}))()},onSubmit:function(){var t=i()((function*(t){this.loading=!0;try{yield l.editCategory(this.$route.params.id,this.category.data),this.showNotif(!0,\"Successfully updated category name.\"),this.returnToPageIndex(\"/categories\")}catch(e){this.showNotif(!1,\"Could not edit category info. \")}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},d=c,u=a(\"2877\"),f=a(\"7c52\"),g=a(\"eebe\"),p=a.n(g);function y(t){var e=a(\"eb0d\");e.__inject__&&e.__inject__(t);var n=a(\"79d2\");n.__inject__&&n.__inject__(t)}var m=Object(u[\"a\"])(d,n,r,!1,y,\"52032f34\",\"7f3c1bce\");e[\"default\"]=m.exports;p()(m,\"components\",{QPage:f[\"QPage\"],QIcon:f[\"QIcon\"],QForm:f[\"QForm\"],QItem:f[\"QItem\"],QSpinner:f[\"QSpinner\"],QList:f[\"QList\"],QInput:f[\"QInput\"],QSlider:f[\"QSlider\"],QSeparator:f[\"QSeparator\"],QBtn:f[\"QBtn\"],QSpinnerGears:f[\"QSpinnerGears\"],QField:f[\"QField\"]})},eb0d:function(t,e,a){\"use strict\";a.r(e);var n=a(\"561f\"),r=a.n(n);for(var o in n)[\"default\"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e[\"default\"]=r.a},eebe:function(t,e){t.exports=function(t,e,a){var n;if(\"function\"===typeof t.exports?(n=t.exports.extendOptions,n[e]=t.exports.options[e]):n=t.options,void 0===n[e])n[e]=a;else{var r=n[e];for(var o in a)void 0===r[o]&&(r[o]=a[o])}}}};",
    "js/18.36d42151.js": "exports.ids=[18],exports.modules={2089:function(t,e,a){\"use strict\";a.r(e);var n=a(\"da1a\"),o=a.n(n);for(var i in n)[\"default\"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e[\"default\"]=o.a},\"255f\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[a(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[a(\"div\",{staticClass:\"heading-caption\"},[a(\"h6\",[t._v(\"Reply to Comment\")]),a(\"br\"),a(\"p\",[t._v(\"Fill out the form to reply to this comment.\")])])]),a(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[a(\"div\",{staticClass:\"content-1\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Comment Details\\n            \")],1),t.comment.loading?a(\"q-item\",{staticClass:\"q-mt-sm\"},[a(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):a(\"div\",[a(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Content\")]),a(\"span\",{staticClass:\"field-value\"},[t._v(\"\\n                            \"+t._s(t.comment.data.text)+\"\\n                        \")])]),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Posted\")]),a(\"span\",{staticClass:\"field-value\"},[t._v(\"\\n                            \"+t._s(t.comment.data.posted)+\"\\n                        \")])]),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Author\")]),a(\"span\",{staticClass:\"field-value\"},[t._v(\"\\n                            \"+t._s(t.comment.data.author)+\"\\n                        \")])]),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Product\")]),a(\"span\",{staticClass:\"field-value\"},[t._v(\"\\n                            \"+t._s(t.comment.data.product)+\"\\n                        \")])])],1)],1)],1),a(\"div\",{staticClass:\"content-2\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Reply\\n            \")],1),a(\"div\",[a(\"q-form\",{attrs:{disabled:t.comment.hasError||t.comment.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[t.comment.loading?a(\"q-item\",{staticClass:\"q-mt-sm\"},[a(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):a(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Reply as\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required. \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},on:{input:function(e){t.hasTyped=!0}},model:{value:t.comment.data.replyAuthor,callback:function(e){t.$set(t.comment.data,\"replyAuthor\",e)},expression:\"comment.data.replyAuthor\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Content\")]),a(\"q-editor\",{ref:\"qTxtEditor\",staticClass:\"field-value qtext-editor\",class:{\"has-error\":t.contentEmpty},attrs:{flat:\"\",\"content-class\":\"text-black bg-grey-3\",\"toolbar-text-color\":\"black\",\"toolbar-toggle-color\":\"yellow-8\",toolbar:[[\"bold\",\"italic\"],[\"undo\",\"redo\"]]},on:{input:function(e){t.hasTyped=!0}},model:{value:t.comment.data.reply,callback:function(e){t.$set(t.comment.data,\"reply\",e)},expression:\"comment.data.reply\"}})],1)],1),a(\"q-separator\"),a(\"div\",{staticClass:\"q-pa-md\"},[a(\"q-btn\",{attrs:{label:\"Reply\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading||!t.hasTyped},scopedSlots:t._u([{key:\"loading\",fn:function(){return[a(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)])])])},o=[],i=(a(\"bfab\"),a(\"3d03\"),a(\"c973\")),s=a.n(i),r=a(\"392b\");let l=null;var c={name:\"ReplyComment\",mixins:[r[\"a\"]],meta(){return{title:\"Reply\"}},beforeCreate(){l=this.$RepositoryFactory.get(\"comments\")},created(){0},mounted(){},computed:{contentEmpty(){return this.hasTyped&&this._isContentEmpty(this.comment.data.reply)}},data(){return{loading:!1,hasTyped:!1,comment:{loading:!0,hasError:!1,data:{text:\"\",author:\"\",product:\"\",posted:\"\",replyAuthor:\"\",reply:\"\"}}}},methods:{_isContentEmpty(t){return t=this.replaceAll(t,\"&nbsp;\",\"\"),t=this.replaceAll(t,\" \",\"\"),t=t.replace(/(<([^>]+)>)/gi,\"\").trim(),0==t.length},getComment(){var t=this;return s()((function*(){try{const e=yield l.getComment(t.$route.params.id);e.replyAuthor=e.replyAuthor?e.replyAuthor:t.$store.state.auth.name,t.comment.data=e}catch(e){t.showNotif(!1,\"Could not retrieve comment details. \"),t.comment.hasError=!0}finally{t.comment.loading=!1}}))()},onSubmit:function(){var t=s()((function*(t){if(this.loading=!0,this._isContentEmpty(this.comment.data.reply))this.$refs.qTxtEditor.focus(),this.loading=!1;else try{yield l.replyToComment(this.$route.params.id,this.comment.data),this.showNotif(!0,\"Successfully posted reply to comment.\"),this.returnToPageIndex(\"/comments\")}catch(e){this.showNotif(!1,\"Could not post reply. \")}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},d=c,u=a(\"2877\"),m=a(\"7c52\"),p=a(\"eebe\"),f=a.n(p);function h(t){var e=a(\"2089\");e.__inject__&&e.__inject__(t);var n=a(\"5674\");n.__inject__&&n.__inject__(t)}var g=Object(u[\"a\"])(d,n,o,!1,h,\"6db0a4f2\",\"1b39c6a4\");e[\"default\"]=g.exports;f()(g,\"components\",{QPage:m[\"QPage\"],QIcon:m[\"QIcon\"],QItem:m[\"QItem\"],QSpinner:m[\"QSpinner\"],QList:m[\"QList\"],QForm:m[\"QForm\"],QInput:m[\"QInput\"],QEditor:m[\"QEditor\"],QSeparator:m[\"QSeparator\"],QBtn:m[\"QBtn\"],QSpinnerGears:m[\"QSpinnerGears\"],QField:m[\"QField\"]})},\"392b\":function(t,e,a){\"use strict\";a(\"932c\"),a(\"bfab\");var n,o,i={data(){return{prevRoute:null}},beforeRouteEnter(t,e,a){a((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,a){return t.replace(new RegExp(e,\"g\"),a)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},s=i,r=a(\"2877\"),l=Object(r[\"a\"])(s,n,o,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},\"491a\":function(t,e){t.exports={}},5674:function(t,e,a){\"use strict\";a.r(e);var n=a(\"491a\"),o=a.n(n);for(var i in n)[\"default\"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e[\"default\"]=o.a},da1a:function(t,e){t.exports={}},eebe:function(t,e){t.exports=function(t,e,a){var n;if(\"function\"===typeof t.exports?(n=t.exports.extendOptions,n[e]=t.exports.options[e]):n=t.options,void 0===n[e])n[e]=a;else{var o=n[e];for(var i in a)void 0===o[i]&&(o[i]=a[i])}}}};",
    "js/19.11d6c7d3.js": "exports.ids=[19],exports.modules={\"17c1\":function(t,e){t.exports={}},\"392b\":function(t,e,n){\"use strict\";n(\"932c\"),n(\"bfab\");var s,i,o={data(){return{prevRoute:null}},beforeRouteEnter(t,e,n){n((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,n){return t.replace(new RegExp(e,\"g\"),n)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},a=o,r=n(\"2877\"),c=Object(r[\"a\"])(a,s,i,!1,null,null,\"18d4dfef\");e[\"a\"]=c.exports},\"791f\":function(t,e,n){\"use strict\";n.r(e);var s=n(\"17c1\"),i=n.n(s);for(var o in s)[\"default\"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(o);e[\"default\"]=i.a},b49c:function(t,e,n){\"use strict\";n.r(e);var s=n(\"d427\"),i=n.n(s);for(var o in s)[\"default\"].indexOf(o)<0&&function(t){n.d(e,t,(function(){return s[t]}))}(o);e[\"default\"]=i.a},bda4:function(t,e,n){\"use strict\";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[n(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[n(\"div\",{staticClass:\"heading-caption\"},[n(\"h6\",[t._v(\"Add Discount Rule\")]),n(\"br\"),n(\"p\",[t._v(\"Fill the form to add a new product discount entry.\")])])]),n(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[n(\"div\",{staticClass:\"content-1\"},[n(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[n(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Discount Details\\n            \")],1),n(\"div\",[n(\"q-form\",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[n(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Starts from\")]),n(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[n(\"q-popup-proxy\",{ref:\"qDateProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyS.hide()}},model:{value:t.discount.start,callback:function(e){t.$set(t.discount,\"start\",e)},expression:\"discount.start\"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[n(\"q-popup-proxy\",{ref:\"qTimeProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyS.hide()}},model:{value:t.discount.start,callback:function(e){t.$set(t.discount,\"start\",e)},expression:\"discount.start\"}})],1)],1)]},proxy:!0}]),model:{value:t.discount.start,callback:function(e){t.$set(t.discount,\"start\",e)},expression:\"discount.start\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Ends at\")]),n(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime,t._isValidEndDt]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[n(\"q-popup-proxy\",{ref:\"qDateProxyE\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyE.hide()}},model:{value:t.discount.end,callback:function(e){t.$set(t.discount,\"end\",e)},expression:\"discount.end\"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[n(\"q-popup-proxy\",{ref:\"qTimeProxyE\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyE.hide()}},model:{value:t.discount.end,callback:function(e){t.$set(t.discount,\"end\",e)},expression:\"discount.end\"}})],1)],1)]},proxy:!0}]),model:{value:t.discount.end,callback:function(e){t.$set(t.discount,\"end\",e)},expression:\"discount.end\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Target Customer\")]),n(\"q-select\",{staticClass:\"field-value\",attrs:{options:t.targets,dark:\"\",dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",\"options-dense\":\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},function(e){return t.targets.includes(e)}]},on:{input:function(e){t.hasSelect=!0}},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{attrs:{name:\"person_outline\"}})]},proxy:!0}]),model:{value:t.discount.target,callback:function(e){t.$set(t.discount,\"target\",e)},expression:\"discount.target\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Discount (%)\")]),n(\"q-slider\",{staticClass:\"field-value q-mx-xs\",attrs:{min:1,max:99,label:\"\",color:\"green-4\"},model:{value:t.discount.value,callback:function(e){t.$set(t.discount,\"value\",e)},expression:\"discount.value\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Apply to\")]),n(\"q-select\",{staticClass:\"field-value products-select\",attrs:{options:t.options,label:\"Products\",\"hide-dropdown-icon\":\"\",\"hide-bottom-space\":\"\",dark:\"\",outlined:\"\",multiple:\"\",\"use-chips\":\"\",\"use-input\":\"\",\"emit-value\":\"\",\"map-options\":\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&t.length>0}]},on:{filter:t.filterFn},scopedSlots:t._u([{key:\"no-option\",fn:function(){return[n(\"q-item\",[n(\"q-item-section\",{staticClass:\"text-italic text-grey\"},[t._v(\"\\n                                            No products found.\\n                                        \")])],1)]},proxy:!0}]),model:{value:t.discount.products,callback:function(e){t.$set(t.discount,\"products\",e)},expression:\"discount.products\"}})],1)],1),n(\"q-separator\"),n(\"div\",{staticClass:\"q-pa-md\"},[n(\"q-btn\",{attrs:{label:\"Create\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading||!t.hasSelect},scopedSlots:t._u([{key:\"loading\",fn:function(){return[n(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),n(\"div\",{staticClass:\"content-2\"})])])},i=[],o=(n(\"6bb1\"),n(\"3d03\"),n(\"c973\")),a=n.n(o),r=n(\"392b\");let c=null,l=null;var u={name:\"DiscountAdd\",mixins:[r[\"a\"]],meta(){return{title:\"Add Discount Rule\"}},beforeCreate(){c=this.$RepositoryFactory.get(\"discounts\"),l=this.$RepositoryFactory.get(\"products\")},created(){this.discount.start=this.today.yyyymmdd+\" 00:00\",this.discount.end=this.today.yyyymmdd+\" 23:59\"},data(){return{loading:!1,hasSelect:!0,targets:[\"All\",\"Regular\",\"Reseller\",\"Partner\"],options:null,productsList:[],discount:{value:10,target:\"All\",products:null,start:\"\",end:\"\"}}},methods:{_isValidDatetime(t){const e=/^\\d{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01]) (0?[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9])$/g;return e.test(t)||\"Invalid date & time format\"},_isValidEndDt(t){const e=new Date(t),n=new Date(this.discount.start);return e.getTime()>n.getTime()||\"End date needs to be greater\"},filterFn(t,e,n){t&&\"\"!=t.trim()?e((()=>{const e=t.toLowerCase();this.options=this.productsList.filter((t=>t.label.toLowerCase().indexOf(e)>-1))})):n()},getProducts(){var t=this;return a()((function*(){l.getProductSelection().then((e=>{t.productsList=e})).catch((e=>{t.productsList=[]}))}))()},onSubmit:function(){var t=a()((function*(t){this.loading=!0;try{yield c.addDiscount(this.discount),this.showNotif(!0,\"Added new discount entry.\"),this.returnToPageIndex(\"/discounts\")}catch(e){this.showNotif(!1,\"Could not create discount entry. \")}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},d=u,p=n(\"2877\"),f=n(\"7c52\"),m=n(\"eebe\"),h=n.n(m);function g(t){var e=n(\"791f\");e.__inject__&&e.__inject__(t);var s=n(\"b49c\");s.__inject__&&s.__inject__(t)}var y=Object(p[\"a\"])(d,s,i,!1,g,\"1597f7bf\",\"39397d5b\");e[\"default\"]=y.exports;h()(y,\"components\",{QPage:f[\"QPage\"],QIcon:f[\"QIcon\"],QForm:f[\"QForm\"],QList:f[\"QList\"],QItem:f[\"QItem\"],QInput:f[\"QInput\"],QPopupProxy:f[\"QPopupProxy\"],QDate:f[\"QDate\"],QTime:f[\"QTime\"],QSelect:f[\"QSelect\"],QSlider:f[\"QSlider\"],QItemSection:f[\"QItemSection\"],QSeparator:f[\"QSeparator\"],QBtn:f[\"QBtn\"],QSpinnerGears:f[\"QSpinnerGears\"],QField:f[\"QField\"],QChip:f[\"QChip\"]})},d427:function(t,e){t.exports={}},eebe:function(t,e){t.exports=function(t,e,n){var s;if(\"function\"===typeof t.exports?(s=t.exports.extendOptions,s[e]=t.exports.options[e]):s=t.options,void 0===s[e])s[e]=n;else{var i=s[e];for(var o in n)void 0===i[o]&&(i[o]=n[o])}}}};",
    "js/20.b71df490.js": "exports.ids=[20],exports.modules={\"130f\":function(t,e,n){\"use strict\";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[n(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[n(\"div\",{staticClass:\"heading-caption\"},[n(\"h6\",[t._v(\"Edit Discount Rule\")]),n(\"br\"),n(\"p\",[t._v(\"You may edit the following product discount entry.\")])])]),n(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[n(\"div\",{staticClass:\"content-1\"},[n(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[n(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Discount Details\\n            \")],1),n(\"div\",[n(\"q-form\",{attrs:{disabled:t.discount.hasError||t.discount.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[t.discount.loading?n(\"q-item\",{staticClass:\"q-mt-sm\"},[n(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):n(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Starts from\")]),n(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[n(\"q-popup-proxy\",{ref:\"qDateProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyS.hide()}},model:{value:t.discount.data.start,callback:function(e){t.$set(t.discount.data,\"start\",e)},expression:\"\\n                                                    discount.data.start\\n                                                \"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[n(\"q-popup-proxy\",{ref:\"qTimeProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyS.hide()}},model:{value:t.discount.data.start,callback:function(e){t.$set(t.discount.data,\"start\",e)},expression:\"\\n                                                    discount.data.start\\n                                                \"}})],1)],1)]},proxy:!0}]),model:{value:t.discount.data.start,callback:function(e){t.$set(t.discount.data,\"start\",e)},expression:\"discount.data.start\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Ends at\")]),n(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime,t._isValidEndDt]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[n(\"q-popup-proxy\",{ref:\"qDateProxyE\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyE.hide()}},model:{value:t.discount.data.end,callback:function(e){t.$set(t.discount.data,\"end\",e)},expression:\"discount.data.end\"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[n(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[n(\"q-popup-proxy\",{ref:\"qTimeProxyE\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[n(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyE.hide()}},model:{value:t.discount.data.end,callback:function(e){t.$set(t.discount.data,\"end\",e)},expression:\"discount.data.end\"}})],1)],1)]},proxy:!0}]),model:{value:t.discount.data.end,callback:function(e){t.$set(t.discount.data,\"end\",e)},expression:\"discount.data.end\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Target Customer\")]),n(\"q-select\",{staticClass:\"field-value\",attrs:{options:t.targets,dark:\"\",dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",\"options-dense\":\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},function(e){return t.targets.includes(e)}]},on:{input:function(e){t.hasSelect=!0}},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{attrs:{name:\"person_outline\"}})]},proxy:!0}]),model:{value:t.discount.data.target,callback:function(e){t.$set(t.discount.data,\"target\",e)},expression:\"discount.data.target\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Discount (%)\")]),n(\"q-slider\",{staticClass:\"field-value q-mx-xs\",attrs:{min:1,max:99,label:\"\",color:\"green-4\"},model:{value:t.discount.data.value,callback:function(e){t.$set(t.discount.data,\"value\",e)},expression:\"discount.data.value\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Apply to\")]),n(\"q-select\",{staticClass:\"products-select field-value\",attrs:{options:t.options,label:\"Products\",\"hide-dropdown-icon\":\"\",\"hide-bottom-space\":\"\",dark:\"\",dense:\"\",outlined:\"\",multiple:\"\",\"use-chips\":\"\",\"use-input\":\"\",\"emit-value\":\"\",\"map-options\":\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&t.length>0}]},on:{filter:t.filterFn},scopedSlots:t._u([{key:\"no-option\",fn:function(){return[n(\"q-item\",[n(\"q-item-section\",{staticClass:\"text-italic text-grey\"},[t._v(\"\\n                                            No products found.\\n                                        \")])],1)]},proxy:!0}]),model:{value:t.discount.data.products,callback:function(e){t.$set(t.discount.data,\"products\",e)},expression:\"discount.data.products\"}})],1)],1),n(\"q-separator\"),n(\"div\",{staticClass:\"q-pa-md\"},[n(\"q-btn\",{attrs:{label:\"Save\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading||!t.hasSelect},scopedSlots:t._u([{key:\"loading\",fn:function(){return[n(\"q-spinner-gears\")]},proxy:!0}])}),t._v(\"\\n                        \"+t._s(t.discount.products)+\"\\n                    \")],1)],1)],1)]),n(\"div\",{staticClass:\"content-2\"})])])},s=[],i=(n(\"6bb1\"),n(\"6579\"),n(\"3d03\"),n(\"c973\")),o=n.n(i),r=n(\"392b\");let c=null,u=null;var d={name:\"DiscountEdit\",mixins:[r[\"a\"]],meta(){return{title:\"Edit Discount Rule\"}},created(){0},beforeCreate(){c=this.$RepositoryFactory.get(\"discounts\"),u=this.$RepositoryFactory.get(\"products\")},data(){return{loading:!1,hasSelect:!0,targets:[\"All\",\"Regular\",\"Reseller\",\"Partner\"],options:null,productsList:[],discount:{loading:!0,hasError:!1,data:{value:0,name:\"\",products:[],start:\"\",end:\"\"}}}},methods:{_isValidDatetime(t){const e=/^\\d{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01]) (0?[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9])$/g;return e.test(t)||\"Invalid date & time format\"},_isValidEndDt(t){const e=new Date(t),n=new Date(this.discount.data.start);return e.getTime()>n.getTime()||\"End date needs to be greater\"},filterFn(t,e,n){t&&\"\"!=t.trim()?e((()=>{const e=t.toLowerCase();this.options=this.productsList.filter((t=>t.label.toLowerCase().indexOf(e)>-1))})):n()},getProducts(){var t=this;return o()((function*(){u.getProductSelection().then((e=>{t.productsList=e,t.options=t.productsList.slice()})).catch((e=>{t.productsList=[],t.options=[]}))}))()},getDiscount(){var t=this;return o()((function*(){try{const e=yield c.getDiscount(t.$route.params.id);t.discount.data=e}catch(e){t.showNotif(!1,\"Could not retrieve discount details. \"),t.discount.hasError=!0}finally{t.discount.loading=!1}}))()},onSubmit:function(){var t=o()((function*(t){this.loading=!0;try{yield c.editDiscount(this.$route.params.id,this.discount.data),this.showNotif(!0,\"Successfully updated discount info.\"),this.returnToPageIndex(\"/discounts\")}catch(e){this.showNotif(!1,\"Could not edit discount info. \")}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},l=d,p=n(\"2877\"),f=n(\"7c52\"),m=n(\"eebe\"),h=n.n(m);function g(t){var e=n(\"d64a\");e.__inject__&&e.__inject__(t);var a=n(\"3809\");a.__inject__&&a.__inject__(t)}var v=Object(p[\"a\"])(l,a,s,!1,g,\"0210cc06\",\"cc865580\");e[\"default\"]=v.exports;h()(v,\"components\",{QPage:f[\"QPage\"],QIcon:f[\"QIcon\"],QForm:f[\"QForm\"],QItem:f[\"QItem\"],QSpinner:f[\"QSpinner\"],QList:f[\"QList\"],QInput:f[\"QInput\"],QPopupProxy:f[\"QPopupProxy\"],QDate:f[\"QDate\"],QTime:f[\"QTime\"],QSelect:f[\"QSelect\"],QSlider:f[\"QSlider\"],QItemSection:f[\"QItemSection\"],QSeparator:f[\"QSeparator\"],QBtn:f[\"QBtn\"],QSpinnerGears:f[\"QSpinnerGears\"],QChip:f[\"QChip\"],QField:f[\"QField\"]})},3809:function(t,e,n){\"use strict\";n.r(e);var a=n(\"71ff\"),s=n.n(a);for(var i in a)[\"default\"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e[\"default\"]=s.a},\"392b\":function(t,e,n){\"use strict\";n(\"932c\"),n(\"bfab\");var a,s,i={data(){return{prevRoute:null}},beforeRouteEnter(t,e,n){n((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,n){return t.replace(new RegExp(e,\"g\"),n)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},o=i,r=n(\"2877\"),c=Object(r[\"a\"])(o,a,s,!1,null,null,\"18d4dfef\");e[\"a\"]=c.exports},\"5daf\":function(t,e){t.exports={}},\"71ff\":function(t,e){t.exports={}},d64a:function(t,e,n){\"use strict\";n.r(e);var a=n(\"5daf\"),s=n.n(a);for(var i in a)[\"default\"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e[\"default\"]=s.a},eebe:function(t,e){t.exports=function(t,e,n){var a;if(\"function\"===typeof t.exports?(a=t.exports.extendOptions,a[e]=t.exports.options[e]):a=t.options,void 0===a[e])a[e]=n;else{var s=a[e];for(var i in n)void 0===s[i]&&(s[i]=n[i])}}}};",
    "js/21.e5330b3e.js": "exports.ids=[21],exports.modules={\"392b\":function(t,e,a){\"use strict\";a(\"932c\"),a(\"bfab\");var n,i,o={data(){return{prevRoute:null}},beforeRouteEnter(t,e,a){a((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,a){return t.replace(new RegExp(e,\"g\"),a)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},r=o,s=a(\"2877\"),l=Object(s[\"a\"])(r,n,i,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},6838:function(t,e,a){\"use strict\";a.r(e);var n=a(\"ba9c\"),i=a.n(n);for(var o in n)[\"default\"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e[\"default\"]=i.a},\"8db9\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[a(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[a(\"div\",{staticClass:\"heading-caption\"},[a(\"h6\",[t._v(\"Add Business Holiday\")]),a(\"br\"),a(\"p\",[t._v(\"Fill the form to add a new business holiday entry.\")])])]),a(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[a(\"div\",{staticClass:\"content-1\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Business Holiday Info\\n            \")],1),a(\"div\",[a(\"q-form\",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[a(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Starts from\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[a(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[a(\"q-popup-proxy\",{ref:\"qDateProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[a(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyS.hide()}},model:{value:t.holiday.start,callback:function(e){t.$set(t.holiday,\"start\",e)},expression:\"holiday.start\"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[a(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[a(\"q-popup-proxy\",{ref:\"qTimeProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[a(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyS.hide()}},model:{value:t.holiday.start,callback:function(e){t.$set(t.holiday,\"start\",e)},expression:\"holiday.start\"}})],1)],1)]},proxy:!0}]),model:{value:t.holiday.start,callback:function(e){t.$set(t.holiday,\"start\",e)},expression:\"holiday.start\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Ends at\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime,t._isValidEndDt]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[a(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[a(\"q-popup-proxy\",{ref:\"qDateProxyE\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[a(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyE.hide()}},model:{value:t.holiday.end,callback:function(e){t.$set(t.holiday,\"end\",e)},expression:\"holiday.end\"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[a(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[a(\"q-popup-proxy\",{ref:\"qTimeProxyE\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[a(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyE.hide()}},model:{value:t.holiday.end,callback:function(e){t.$set(t.holiday,\"end\",e)},expression:\"holiday.end\"}})],1)],1)]},proxy:!0}]),model:{value:t.holiday.end,callback:function(e){t.$set(t.holiday,\"end\",e)},expression:\"holiday.end\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Reason\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Business Holiday, Emergency, etc.\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},on:{input:function(e){t.hasTyped=!0}},model:{value:t.holiday.reason,callback:function(e){t.$set(t.holiday,\"reason\",e)},expression:\"holiday.reason\"}})],1)],1),a(\"q-separator\"),a(\"div\",{staticClass:\"q-pa-md\"},[a(\"q-btn\",{attrs:{label:\"Create\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading||!t.hasTyped},scopedSlots:t._u([{key:\"loading\",fn:function(){return[a(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),a(\"div\",{staticClass:\"content-2\"})])])},i=[],o=a(\"c973\"),r=a.n(o),s=a(\"392b\");let l=null;var d={name:\"BusinessHolidayAdd\",mixins:[s[\"a\"]],meta(){return{title:\"Add Business Holiday\"}},beforeCreate(){l=this.$RepositoryFactory.get(\"holidays\")},created(){this.holiday.start=this.today.yyyymmdd+\" 00:00\",this.holiday.end=this.today.yyyymmdd+\" 23:59\"},data(){return{loading:!1,hasTyped:!1,holiday:{reason:\"\",start:\"\",end:\"\"}}},methods:{_isValidDatetime(t){const e=/^\\d{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01]) (0?[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9])$/g;return e.test(t)||\"Invalid date & time format\"},_isValidEndDt(t){const e=new Date(t),a=new Date(this.holiday.start);return e.getTime()>a.getTime()||\"End date needs to be greater\"},onSubmit:function(){var t=r()((function*(t){this.loading=!0;try{yield l.addHoliday(this.holiday),this.showNotif(!0,\"Added new holiday entry.\"),this.returnToPageIndex(\"/holidays\")}catch(e){this.showNotif(!1,\"Could not create holiday entry. \")}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},u=d,c=a(\"2877\"),p=a(\"7c52\"),f=a(\"eebe\"),h=a.n(f);function y(t){var e=a(\"9b69\");e.__inject__&&e.__inject__(t);var n=a(\"6838\");n.__inject__&&n.__inject__(t)}var m=Object(c[\"a\"])(u,n,i,!1,y,\"526e2d32\",\"11b7d80c\");e[\"default\"]=m.exports;h()(m,\"components\",{QPage:p[\"QPage\"],QIcon:p[\"QIcon\"],QForm:p[\"QForm\"],QList:p[\"QList\"],QItem:p[\"QItem\"],QInput:p[\"QInput\"],QPopupProxy:p[\"QPopupProxy\"],QDate:p[\"QDate\"],QTime:p[\"QTime\"],QSeparator:p[\"QSeparator\"],QBtn:p[\"QBtn\"],QSpinnerGears:p[\"QSpinnerGears\"],QField:p[\"QField\"]})},\"9b69\":function(t,e,a){\"use strict\";a.r(e);var n=a(\"d09e\"),i=a.n(n);for(var o in n)[\"default\"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e[\"default\"]=i.a},ba9c:function(t,e){t.exports={}},d09e:function(t,e){t.exports={}},eebe:function(t,e){t.exports=function(t,e,a){var n;if(\"function\"===typeof t.exports?(n=t.exports.extendOptions,n[e]=t.exports.options[e]):n=t.options,void 0===n[e])n[e]=a;else{var i=n[e];for(var o in a)void 0===i[o]&&(i[o]=a[o])}}}};",
    "js/22.a297a886.js": "exports.ids=[22],exports.modules={\"04f7\":function(t,e,a){\"use strict\";a.r(e);var n=a(\"1b0f\"),i=a.n(n);for(var o in n)[\"default\"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e[\"default\"]=i.a},\"1b0f\":function(t,e){t.exports={}},\"1d1b\":function(t,e,a){\"use strict\";a.r(e);var n=a(\"b824\"),i=a.n(n);for(var o in n)[\"default\"].indexOf(o)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e[\"default\"]=i.a},\"392b\":function(t,e,a){\"use strict\";a(\"932c\"),a(\"bfab\");var n,i,o={data(){return{prevRoute:null}},beforeRouteEnter(t,e,a){a((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,a){return t.replace(new RegExp(e,\"g\"),a)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},s=o,r=a(\"2877\"),l=Object(r[\"a\"])(s,n,i,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},\"94d0\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[a(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[a(\"div\",{staticClass:\"heading-caption\"},[a(\"h6\",[t._v(\"Edit Business Holiday Details\")]),a(\"br\"),a(\"p\",[t._v(\"You may edit the details of this business holiday.\")])])]),a(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[a(\"div\",{staticClass:\"content-1\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Business Holiday Info\\n            \")],1),a(\"div\",[a(\"q-form\",{attrs:{disabled:t.holiday.hasError||t.holiday.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[t.holiday.loading?a(\"q-item\",{staticClass:\"q-mt-sm\"},[a(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):a(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Starts from\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[a(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[a(\"q-popup-proxy\",{ref:\"qDateProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[a(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyS.hide()}},model:{value:t.holiday.data.start,callback:function(e){t.$set(t.holiday.data,\"start\",e)},expression:\"holiday.data.start\"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[a(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[a(\"q-popup-proxy\",{ref:\"qTimeProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[a(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyS.hide()}},model:{value:t.holiday.data.start,callback:function(e){t.$set(t.holiday.data,\"start\",e)},expression:\"holiday.data.start\"}})],1)],1)]},proxy:!0}]),model:{value:t.holiday.data.start,callback:function(e){t.$set(t.holiday.data,\"start\",e)},expression:\"holiday.data.start\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Ends at\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime,t._isValidEndDt]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[a(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[a(\"q-popup-proxy\",{ref:\"qDateProxyE\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[a(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyE.hide()}},model:{value:t.holiday.data.end,callback:function(e){t.$set(t.holiday.data,\"end\",e)},expression:\"holiday.data.end\"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[a(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[a(\"q-popup-proxy\",{ref:\"qTimeProxyE\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[a(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyE.hide()}},model:{value:t.holiday.data.end,callback:function(e){t.$set(t.holiday.data,\"end\",e)},expression:\"holiday.data.end\"}})],1)],1)]},proxy:!0}]),model:{value:t.holiday.data.end,callback:function(e){t.$set(t.holiday.data,\"end\",e)},expression:\"holiday.data.end\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Reason\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Business Holiday, Emergency, etc.\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:t.holiday.data.reason,callback:function(e){t.$set(t.holiday.data,\"reason\",e)},expression:\"holiday.data.reason\"}})],1)],1),a(\"q-separator\"),a(\"div\",{staticClass:\"q-pa-md\"},[a(\"q-btn\",{attrs:{label:\"Save\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading},scopedSlots:t._u([{key:\"loading\",fn:function(){return[a(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),a(\"div\",{staticClass:\"content-2\"})])])},i=[],o=a(\"c973\"),s=a.n(o),r=a(\"392b\");let l=null;var d={name:\"BusinessHolidayEdit\",mixins:[r[\"a\"]],meta(){return{title:\"Edit Business Holiday\"}},beforeCreate(){l=this.$RepositoryFactory.get(\"holidays\")},created(){0},data(){return{loading:!1,hasTyped:!1,holiday:{loading:!0,hasError:!1,data:{reason:\"\",start:\"\",end:\"\"}}}},methods:{_isValidDatetime(t){const e=/^\\d{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01]) (0?[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9])$/g;return e.test(t)||\"Invalid date & time format\"},_isValidEndDt(t){const e=new Date(t),a=new Date(this.holiday.data.start);return e.getTime()>a.getTime()||\"End date needs to be greater\"},getHolidayInfo(){var t=this;return s()((function*(){try{const e=yield l.getBusinessHoliday(t.$route.params.id);t.holiday.data=e}catch(e){t.showNotif(!1,\"Could not retrieve holiday details. \"),t.holiday.hasError=!0}finally{t.holiday.loading=!1}}))()},onSubmit:function(){var t=s()((function*(t){this.loading=!0;try{yield l.editHoliday(this.$route.params.id,this.holiday.data),this.showNotif(!0,\"Successfully updated holiday info.\"),this.returnToPageIndex(\"/holidays\")}catch(e){this.showNotif(!1,\"Could not edit holiday info. \")}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},u=d,c=a(\"2877\"),p=a(\"7c52\"),f=a(\"eebe\"),h=a.n(f);function m(t){var e=a(\"1d1b\");e.__inject__&&e.__inject__(t);var n=a(\"04f7\");n.__inject__&&n.__inject__(t)}var y=Object(c[\"a\"])(u,n,i,!1,m,\"01005a3c\",\"5dec5ea2\");e[\"default\"]=y.exports;h()(y,\"components\",{QPage:p[\"QPage\"],QIcon:p[\"QIcon\"],QForm:p[\"QForm\"],QItem:p[\"QItem\"],QSpinner:p[\"QSpinner\"],QList:p[\"QList\"],QInput:p[\"QInput\"],QPopupProxy:p[\"QPopupProxy\"],QDate:p[\"QDate\"],QTime:p[\"QTime\"],QSeparator:p[\"QSeparator\"],QBtn:p[\"QBtn\"],QSpinnerGears:p[\"QSpinnerGears\"],QField:p[\"QField\"]})},b824:function(t,e){t.exports={}},eebe:function(t,e){t.exports=function(t,e,a){var n;if(\"function\"===typeof t.exports?(n=t.exports.extendOptions,n[e]=t.exports.options[e]):n=t.options,void 0===n[e])n[e]=a;else{var i=n[e];for(var o in a)void 0===i[o]&&(i[o]=a[o])}}}};",
    "js/23.1f26ca17.js": "exports.ids=[23],exports.modules={\"0a25\":function(t,e,i){\"use strict\";i.r(e);var o=i(\"e07d\"),n=i.n(o);for(var s in o)[\"default\"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(s);e[\"default\"]=n.a},\"256e\":function(t,e,i){\"use strict\";i.r(e);var o=i(\"654d\"),n=i.n(o);for(var s in o)[\"default\"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(s);e[\"default\"]=n.a},\"277a\":function(t,e,i){\"use strict\";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[i(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[i(\"div\",{staticClass:\"heading-caption\"},[i(\"h6\",[t._v(\"Add Product\")]),i(\"br\"),i(\"p\",[t._v(\"\\n                Fill out the form to create a new product in the webstore.\\n            \")])])]),i(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[i(\"div\",{staticClass:\"content-1\"},[i(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[i(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"cake\"}}),t._v(\"Product\\n                Info\\n            \")],1),i(\"div\",[i(\"q-stepper\",{staticClass:\"bg-none\",attrs:{vertical:\"\",animated:\"\",\"done-color\":\"primary\",\"inactive-color\":\"grey-5\"},model:{value:t.step,callback:function(e){t.step=e},expression:\"step\"}},[i(\"q-step\",{attrs:{name:1,title:\"Basic Information\",icon:\"assignment\",done:t.step>1}},[i(\"p\",[t._v(\"Select category and fill out basic info.\")]),i(\"q-form\",{ref:\"step1Form\",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.saveStep1(e)}}},[i(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Category\\n                                    \")]),i(\"q-select\",{staticClass:\"field-value\",attrs:{options:t.categories,dark:\"\",dense:\"\",outlined:\"\",\"options-dense\":\"\",\"hide-bottom-space\":\"\",\"emit-value\":\"\",\"map-options\":\"\",\"lazy-rules\":\"\",rules:[t._isValidCategory]},model:{value:t.newProduct.category,callback:function(e){t.$set(t.newProduct,\"category\",e)},expression:\"newProduct.category\"}})],1),i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Product Name\\n                                    \")]),i(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required. \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:t.newProduct.name,callback:function(e){t.$set(t.newProduct,\"name\",e)},expression:\"newProduct.name\"}})],1),i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Description\\n                                    \")]),i(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"textarea\",textarea:\"\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required. \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:t.newProduct.description,callback:function(e){t.$set(t.newProduct,\"description\",e)},expression:\"newProduct.description\"}})],1),i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Base price\\n                                    \")]),i(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"number\",min:\"1\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required. \",\"lazy-rules\":\"\",rules:[function(t){return!isNaN(t)}]},model:{value:t.newProduct.basePrice,callback:function(e){t.$set(t.newProduct,\"basePrice\",e)},expression:\"newProduct.basePrice\"}})],1),i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Minimum Order Quantity\\n                                    \")]),i(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"number\",min:\"1\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required. \",\"lazy-rules\":\"\",rules:[function(t){return!isNaN(t)&&t>0}]},model:{value:t.newProduct.minOrderQuantity,callback:function(e){t.$set(t.newProduct,\"minOrderQuantity\",e)},expression:\"\\n                                            newProduct.minOrderQuantity\\n                                        \"}})],1),i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Colors\\n                                    \")]),i(\"q-select\",{staticClass:\"field-value\",attrs:{\"hide-dropdown-icon\":\"\",\"hide-bottom-space\":\"\",dark:\"\",outlined:\"\",multiple:\"\",\"use-chips\":\"\",\"lazy-rules\":\"\",rules:[t._isValidColor]},scopedSlots:t._u([{key:\"append\",fn:function(){return[i(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"colorize\"}},[i(\"q-tooltip\",{attrs:{delay:550,anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"\\n                                                    Select color\\n                                                \")]),i(\"q-popup-proxy\",[i(\"q-color\",{attrs:{flat:\"\",square:\"\",\"no-header\":\"\",\"no-footer\":\"\",\"default-view\":\"palette\",\"format-model\":\"hex\"},on:{input:function(e){return t.newProduct.colors.push(t.selcolor)}},model:{value:t.selcolor,callback:function(e){t.selcolor=e},expression:\"selcolor\"}})],1)],1)]},proxy:!0}]),model:{value:t.newProduct.colors,callback:function(e){t.$set(t.newProduct,\"colors\",e)},expression:\"newProduct.colors\"}})],1),i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Details\\n                                    \")]),i(\"div\",{staticClass:\"field-value\"},[i(\"transition-group\",{attrs:{name:\"fade\",tag:\"div\"}},t._l(t.details,(function(e,o){return i(\"q-list\",{key:\"grp-\"+o,staticClass:\"group-list\"},[i(\"q-item\",[i(\"q-item-section\",{on:{click:function(t){e.edit=!0}}},[e.edit?i(\"q-item-label\",[i(\"q-input\",{attrs:{type:\"text\",dense:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Group title required \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isUniqueDetailGrp]},on:{keydown:function(i){if(!i.type.indexOf(\"key\")&&t._k(i.keyCode,\"enter\",13,i.key,\"Enter\"))return null;i.preventDefault(),e.edit=!1}},model:{value:e.group,callback:function(i){t.$set(e,\"group\",i)},expression:\"\\n                                                                    detail.group\\n                                                                \"}})],1):i(\"q-item-label\",[t._v(\"\\n                                                            \"+t._s(e.group)+\"\\n                                                        \")])],1),i(\"q-item-section\",{attrs:{side:\"\"}},[i(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"add\",color:\"white\"},on:{click:function(e){return t.appendDetailItem(o)}}},[i(\"q-tooltip\",{attrs:{delay:550,anchor:\"bottom right\",self:\"top middle\"}},[t._v(\"\\n                                                                Add new\\n                                                                field\\n                                                            \")])],1)],1)],1),i(\"transition-group\",{attrs:{name:\"fade\",tag:\"div\"}},t._l(e.items,(function(e,n){return i(\"q-item\",{key:\"item-\"+n},[i(\"div\",{staticClass:\"detail-field-keyval\"},[i(\"q-input\",{staticClass:\"detail-list-key\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Label required \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:e.label,callback:function(i){t.$set(e,\"label\",i)},expression:\"\\n                                                                    item.label\\n                                                                \"}}),i(\"q-input\",{staticClass:\"detail-list-value\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Value required \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:e.value,callback:function(i){t.$set(e,\"value\",i)},expression:\"\\n                                                                    item.value\\n                                                                \"}})],1),i(\"q-item-section\",{attrs:{side:\"\"}},[i(\"q-icon\",{staticClass:\"cursor-pointer remove-icon\",attrs:{name:\"remove\",color:\"white\"},on:{click:function(e){return t.removeDetailItem(o,n)}}},[i(\"q-tooltip\",{attrs:{delay:550,anchor:\"bottom right\",self:\"top middle\"}},[t._v(\"\\n                                                                    Remove\\n                                                                    this\\n                                                                    field\\n                                                                \")])],1)],1)],1)})),1),i(\"br\"),i(\"q-separator\")],1)})),1),i(\"q-btn\",{staticClass:\"q-mt-sm\",attrs:{dense:\"\",flat:\"\",\"no-caps\":\"\",icon:\"add\",label:\"Add Detail Group\"},on:{click:t.appendGroup}})],1)])],1),i(\"q-stepper-navigation\",[i(\"q-btn\",{attrs:{color:\"primary\",type:\"submit\",label:\"Continue\",loading:t.loadingStep1,disable:t.loadingStep1}})],1)],1)],1),i(\"q-step\",{attrs:{name:2,title:\"Product Images\",icon:\"add_photo_alternate\",done:t.step>2}},[i(\"p\",[t._v(\"\\n                            Click the + icon or drag the product images\\n                            (.jpg/.png and Max 2MB) for upload.\\n                        \")]),i(\"q-form\",{ref:\"step2Form\"},[i(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Gallery\\n                                    \")]),i(\"div\",{staticClass:\"field-value\"},[i(\"q-uploader\",{ref:\"pimgUploader\",staticClass:\"img-uploader\",attrs:{multiple:\"\",square:\"\",\"hide-upload-btn\":\"\",accept:\"image/jpeg,image/png\",label:\"Image Upload\",filter:t._validImage},on:{added:t.imgsAdded,removed:t.imgsRemoved,failed:t.onImgUploadFailed}})],1)])],1),i(\"q-stepper-navigation\",[i(\"q-btn\",{attrs:{type:\"button\",color:\"primary\",label:t.hasImgs?\"Continue\":\"Skip\",loading:t.loadingStep2,disable:t.loadingStep2},on:{click:t.startUpload},scopedSlots:t._u([{key:\"loading\",fn:function(){return[i(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1),i(\"q-step\",{attrs:{name:3,title:\"Order Customization Options\",icon:\"assignment\",done:t.step>3}},[i(\"p\",[t._v(\"Configure selectable options for orders.\")]),i(\"p\",[t._v(\"\\n                            You may toggle between fixed choices and\\n                            customer customizable list.\\n                        \")]),i(\"q-form\",{ref:\"step3Form\",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.saveStep3(e)}}},[i(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Options\\n                                    \")]),i(\"div\",{staticClass:\"field-value\"},[i(\"transition-group\",{attrs:{name:\"fade\",tag:\"div\"}},t._l(t.options,(function(e,o){return i(\"q-list\",{key:\"optgrp-\"+o,staticClass:\"group-list\"},[i(\"q-item\",[i(\"q-item-section\",{on:{click:function(t){e.edit=!0}}},[e.edit?i(\"q-item-label\",[i(\"q-input\",{attrs:{type:\"text\",dense:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Attribute required \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isUniqueOptionGrp]},on:{keydown:function(i){if(!i.type.indexOf(\"key\")&&t._k(i.keyCode,\"enter\",13,i.key,\"Enter\"))return null;i.preventDefault(),e.edit=!1}},model:{value:e.attribute,callback:function(i){t.$set(e,\"attribute\",i)},expression:\"\\n                                                                    option.attribute\\n                                                                \"}})],1):i(\"q-item-label\",[t._v(\"\\n                                                            \"+t._s(e.attribute)+\"\\n                                                        \")])],1),i(\"q-item-section\",[i(\"q-toggle\",{attrs:{\"unchecked-icon\":\"lock\",color:\"green-4\",label:e.userCustomizable?\"User editable\":\"Fixed options\"},on:{input:function(e){return t.toggleCustomChoice(e,o)}},model:{value:e.userCustomizable,callback:function(i){t.$set(e,\"userCustomizable\",i)},expression:\"\\n                                                                option.userCustomizable\\n                                                            \"}})],1),i(\"q-item-section\",{attrs:{side:\"\"}},[i(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"add\",color:\"white\"},on:{click:function(e){return t.appendOptionItem(o)}}},[i(\"q-tooltip\",{attrs:{delay:550,anchor:\"bottom right\",self:\"top middle\"}},[t._v(\"\\n                                                                Add option\\n                                                            \")])],1)],1)],1),i(\"transition-group\",{attrs:{name:\"fade\",tag:\"div\"}},t._l(t.filteredOptions(e.choices,e.userCustomizable),(function(e,n){return i(\"q-item\",{key:\"selitem-\"+n},[i(\"div\",{staticClass:\"detail-field-keyval\"},[i(\"q-input\",{staticClass:\"option-list-key\",attrs:{readonly:\"Other\"==e.value,type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Option required \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:e.value,callback:function(i){t.$set(e,\"value\",i)},expression:\"\\n                                                                    choice.value\\n                                                                \"}}),i(\"q-input\",{staticClass:\"option-list-price\",attrs:{type:\"number\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Price \",\"lazy-rules\":\"\",rules:[function(t){return\"\"!==t&&!isNaN(t)}]},model:{value:e.price,callback:function(i){t.$set(e,\"price\",i)},expression:\"\\n                                                                    choice.price\\n                                                                \"}})],1),i(\"q-item-section\",{attrs:{side:\"\"}},[i(\"q-icon\",{staticClass:\"cursor-pointer remove-icon\",attrs:{name:\"remove\",color:\"white\"},on:{click:function(i){return t.removeOptionItem(o,n,e.value)}}},[i(\"q-tooltip\",{attrs:{delay:550,anchor:\"bottom right\",self:\"top middle\"}},[t._v(\"\\n                                                                    Remove\\n                                                                    this\\n                                                                    option\\n                                                                \")])],1)],1)],1)})),1),i(\"br\"),i(\"q-separator\")],1)})),1),i(\"q-btn\",{staticClass:\"q-mt-sm\",attrs:{dense:\"\",flat:\"\",\"no-caps\":\"\",icon:\"add\",label:\"Add Customizable Option\"},on:{click:t.appendOptions}})],1)])],1),i(\"q-stepper-navigation\",[i(\"q-btn\",{attrs:{type:\"submit\",color:\"primary\",label:\"Continue\",loading:t.loadingStep3,disable:t.loadingStep3}})],1)],1)],1),i(\"q-step\",{attrs:{name:4,title:\"Publish new product\",icon:\"add_comment\"}},[i(\"q-form\",{ref:\"step4Form\",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.saveStep4(e)}}},[i(\"p\",[t._v(\"\\n                                Great! Your new product is almost ready.\\n                            \")]),i(\"p\",[t._v(\"\\n                                Click Publish to finalize and enable this\\n                                product in the webstore.\\n                            \")]),i(\"q-stepper-navigation\",[i(\"q-btn\",{attrs:{color:\"primary\",label:\"Publish\",type:\"submit\",loading:t.loadingStep4,disable:t.loadingStep4}})],1)],1)],1)],1)],1)]),i(\"div\",{staticClass:\"content-2\"})])])},n=[],s=(i(\"6579\"),i(\"bfab\"),i(\"1ce0\"),i(\"c973\")),a=i.n(s),r=i(\"392b\"),l=i(\"ded3\"),c=i.n(l),u=i(\"5880\");const d=\"addProduct\";var p,m,h={computed:c()({},Object(u[\"mapState\"])(d,[\"product\"])),methods:c()(c()({},Object(u[\"mapActions\"])(d,[\"setProductInfo\",\"setProductImages\",\"setProductOptions\",\"clearState\"])),Object(u[\"mapGetters\"])(d,[\"getProduct\",\"isOngoing\"]))},f=h,g=i(\"2877\"),v=Object(g[\"a\"])(f,p,m,!1,null,null,\"3acd8159\"),b=v.exports;let y=null,C=null;var q={name:\"ProductAdd\",mixins:[r[\"a\"],b],meta(){return{title:\"Add Product\"}},beforeCreate(){C=this.$RepositoryFactory.get(\"categories\"),y=this.$RepositoryFactory.get(\"products\")},created(){this.$route.params.step&&(this.step=isNaN(this.$route.params.step)?1:parseInt(this.$route.params.step))},destroyed(){this.clearState()},mounted(){this.fetchNewProdSess()},computed:{hasImgs(){return this.selimgs&&this.selimgs.length>0}},data(){return{loadingStep1:!1,loadingStep2:!1,loadingStep3:!1,loadingStep4:!1,step:1,selimgs:[],selcolor:\"\",categories:[],colors:[],details:[],options:[],newProduct:{id:0,name:\"\",category:null,basePrice:100,minOrderQuantity:1,description:\"\",colors:[],options:[],details:[],images:[]}}},methods:{_isValidCategory(t){if(!(this.newProduct.category&&this.categories&&this.categories.length>0))return\"Invalid category selected\";const e=this.categories.find((t=>t.value===this.newProduct.category));return!!e||\"Invalid category selected\"},_isUniqueDetailGrp(t){if(this.details&&this.details.length>0){const e=this.details.filter((e=>e.group==t));if(e.length>1)return\"Duplicate detail group title.\"}return!0},_isUniqueOptionGrp(t){if(this.options&&this.options.length>0){const e=this.options.filter((e=>e.attribute==t));if(e.length>1)return\"Duplicate option group title.\"}return!0},_isValidColor(t){if(t&&t.length>0){const e=/^#([0-9A-F]{3}){1,2}$/i;for(let i in t)if(!e.test(t[i]))return\"Invalid hex color selected\"}return!0},_validImage(t){const e=t.filter((t=>t.size<2097152&&[\"image/png\",\"image/jpeg\"].includes(t.type)));return(!e||e.length<1||e.length<t.length)&&this.showNotif(!1,\"Limit image size to 2MB (PNG/JPG).\"),e},fetchCategories(){var t=this;return a()((function*(){try{const e=yield C.getProductCategorySelection();t.categories=e.slice()}catch(e){t.showNotif(!1,\"Could not retrieve product categories.\")}}))()},fetchNewProdSess(){var t=this;return a()((function*(){try{t.isOngoing()&&(t.newProduct=JSON.parse(JSON.stringify(t.getProduct())),t.newProduct.details&&(t.details=[...t.toReactiveDataFormat(t.newProduct.details)]),t.newProduct.options&&(t.options=[...t.toReactiveOptionsDataFormat(t.newProduct.options)]))}catch(e){t.showNotif(!1,\"Could not retrieve product details.\")}}))()},toJSONFormatOptions:function(t){const e=[];return t&&t.length>0&&t.map((t=>{let i=[];for(let e in t.choices)i.push({value:t.choices[e].value,price:t.choices[e].price});t.userCustomizable&&!this.hasCustomChoice(t.choices)?i.unshift({value:\"Other\",price:0}):!t.userCustomizable&&this.hasCustomChoice(t.choices)&&(i=this.filteredOptions(i,!1)),e.push({attribute:t.attribute,choices:i,userCustomizable:t.userCustomizable})})),e},toReactiveOptionsDataFormat:function(t){const e=[];return t&&t.length>0&&t.map((t=>{e.push({attribute:t.attribute,userCustomizable:t.userCustomizable,choices:t.choices,edit:!0})})),e},toJSONFormatDetails:function(t){const e=[];return t&&t.length>0&&t.map((t=>{const i={};t.items&&t.items.length>0&&t.items.map((t=>{i[t.label]=t.value})),t.group&&Object.keys(i).length>0&&e.push({group:t.group,items:i})})),e},toReactiveDataFormat:function(t){const e=[];return t&&t.length>0&&t.map((t=>{const i=[];if(t.items&&Object.keys(t.items).length>0)for(let e in t.items)i.push({label:e,value:t.items[e].toString()});t.group&&i.length>0&&e.push({group:t.group,items:i,edit:!0})})),e},filteredOptions(t,e){return t&&t.length>0&&!e?t.filter((t=>\"Other\"!==t.value)):t},saveStep1:function(t){var e=this;this.loadingStep1=!0,this.$refs.step1Form.validate().then(function(){var t=a()((function*(t){if(t){let t={};e.newProduct.details=[...e.toJSONFormatDetails(e.details)],e.isOngoing()?t=yield y.updateProduct(e.newProduct.id,e.newProduct):(t=yield y.createProduct(e.newProduct),e.newProduct.id=t.id),e.setProductInfo(JSON.parse(JSON.stringify(e.newProduct))),e.loadingStep1=!1,e.step=2,e.$router.replace(\"/products/add/2\").catch((t=>{}))}}));return function(e){return t.apply(this,arguments)}}()).catch((t=>{this.showNotif(!1,\"Could not create product.\"),this.loadingStep1=!1}))},saveStep2:function(t){var e=this;this.loadingStep2=!0,this.$refs.step2Form.validate().then(function(){var i=a()((function*(i){i&&(t&&(e.newProduct.images=t.slice(),e.setProductImages(t)),e.loadingStep2=!1,e.step=3,e.$router.replace(\"/products/add/3\").catch((t=>{})))}));return function(t){return i.apply(this,arguments)}}()).catch((t=>{this.showNotif(!1,\"Error has occurred.\"),this.loadingStep2=!1}))},saveStep3:function(t){var e=this;this.loadingStep3=!0,this.$refs.step3Form.validate().then(function(){var t=a()((function*(t){if(t){if(!e.isOngoing())throw\"Start from step 1.\";const t=[...e.toJSONFormatOptions(e.options)];e.newProduct.options=t.slice();yield y.updateProduct(e.newProduct.id,{options:e.newProduct.options});e.setProductOptions(t),e.loadingStep3=!1,e.step=4,e.$router.replace(\"/products/add/4\").catch((t=>{}))}}));return function(e){return t.apply(this,arguments)}}()).catch((t=>{this.showNotif(!1,\"Error adding customization options.\"),this.loadingStep3=!1}))},saveStep4:function(t){var e=this;this.loadingStep4=!0,this.$refs.step4Form.validate().then(function(){var t=a()((function*(t){if(t){if(!e.isOngoing())throw\"Start from step 1.\";yield y.updateProduct(e.newProduct.id,{isActive:!0});e.loadingStep4=!1,e.returnToPageIndex(\"/products\")}}));return function(e){return t.apply(this,arguments)}}()).catch((t=>{this.showNotif(!1,\"Could not activate product.\"),this.loadingStep4=!1}))},removeGroup:function(t){this.$delete(this.details,t)},removeDetailItem:function(t,e){this.$delete(this.details[t].items,e),0===this.details[t].items.length&&this.removeGroup(t)},appendGroup:function(t){this.details.push({group:\"New Group\",edit:!0,items:[{label:\"\",value:\"\"}]})},appendDetailItem:function(t){!isNaN(t)&&this.details[t]&&this.details[t].items.push({label:\"\",value:\"\"})},removeOptions:function(t){this.$delete(this.options,t)},removeOptionItem:function(t,e,i){this.$delete(this.options[t].choices,e),0===this.options[t].choices.length?this.removeOptions(t):\"Other\"==i&&(this.options[t].userCustomizable=!1)},appendOptions:function(t){this.options.push({attribute:\"New Option\",userCustomizable:!1,edit:!0,choices:[{value:\"\",price:\"\"}]})},appendOptionItem:function(t){!isNaN(t)&&this.options[t]&&this.options[t].choices.push({value:\"\",price:\"\"})},hasCustomChoice(t){return!!(t&&t.length>0)&&t.find((t=>\"Other\"==t.value))},toggleCustomChoice:function(t,e){t?this.options[e]&&!this.hasCustomChoice(this.options[e].choices)&&this.options[e].choices.unshift({value:\"Other\",price:\"\"}):this.options[e]&&this.hasCustomChoice(this.options[e].choices)&&this.options[e].choices.shift()},startUpload(){var t=this;return a()((function*(){try{if(t.loadingStep2=!0,!t.isOngoing())throw\"Start from step 1.\";if(t.hasImgs){let e=new FormData;t.selimgs.forEach((t=>{e.append(\"image\",t)})),e.append(\"imageType\",\"gallery\");const i=yield y.uploadImgs(t.newProduct.id,e);t.selimgs=[],t.saveStep2(i)}else t.saveStep2(!1)}catch(e){t.showNotif(!1,\"Could not upload images.\"),t.loadingStep2=!1}}))()},imgsRemoved(t){this.selimgs=this.selimgs.filter((e=>e!==t[0]))},imgsAdded(t){this.selimgs.push(...t)},onImgUploadFailed:function(t){this.showNotif(!1,\"Failed to add your selected image. \")}}},S=q,w=i(\"7c52\"),P=i(\"eebe\"),_=i.n(P);function O(t){var e=i(\"0a25\");e.__inject__&&e.__inject__(t);var o=i(\"256e\");o.__inject__&&o.__inject__(t)}var k=Object(g[\"a\"])(S,o,n,!1,O,\"fffba1d2\",\"10096d55\");e[\"default\"]=k.exports;_()(k,\"components\",{QPage:w[\"QPage\"],QIcon:w[\"QIcon\"],QStepper:w[\"QStepper\"],QStep:w[\"QStep\"],QForm:w[\"QForm\"],QList:w[\"QList\"],QItem:w[\"QItem\"],QSelect:w[\"QSelect\"],QInput:w[\"QInput\"],QTooltip:w[\"QTooltip\"],QPopupProxy:w[\"QPopupProxy\"],QColor:w[\"QColor\"],QItemSection:w[\"QItemSection\"],QItemLabel:w[\"QItemLabel\"],QSeparator:w[\"QSeparator\"],QBtn:w[\"QBtn\"],QStepperNavigation:w[\"QStepperNavigation\"],QUploader:w[\"QUploader\"],QSpinnerGears:w[\"QSpinnerGears\"],QToggle:w[\"QToggle\"],QField:w[\"QField\"]})},\"392b\":function(t,e,i){\"use strict\";i(\"932c\"),i(\"bfab\");var o,n,s={data(){return{prevRoute:null}},beforeRouteEnter(t,e,i){i((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,i){return t.replace(new RegExp(e,\"g\"),i)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},a=s,r=i(\"2877\"),l=Object(r[\"a\"])(a,o,n,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},\"654d\":function(t,e){t.exports={}},e07d:function(t,e){t.exports={}},eebe:function(t,e){t.exports=function(t,e,i){var o;if(\"function\"===typeof t.exports?(o=t.exports.extendOptions,o[e]=t.exports.options[e]):o=t.options,void 0===o[e])o[e]=i;else{var n=o[e];for(var s in i)void 0===n[s]&&(n[s]=i[s])}}}};",
    "js/24.32cd865b.js": "exports.ids=[24],exports.modules={\"392b\":function(t,e,i){\"use strict\";i(\"932c\"),i(\"bfab\");var o,a,s={data(){return{prevRoute:null}},beforeRouteEnter(t,e,i){i((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,i){return t.replace(new RegExp(e,\"g\"),i)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},n=s,r=i(\"2877\"),l=Object(r[\"a\"])(n,o,a,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},\"4b37\":function(t,e,i){\"use strict\";i.r(e);var o=i(\"b6b2\"),a=i.n(o);for(var s in o)[\"default\"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(s);e[\"default\"]=a.a},\"7aeb\":function(t,e){t.exports={}},\"85f6\":function(t,e,i){\"use strict\";i.r(e);var o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[i(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[i(\"div\",{staticClass:\"heading-caption\"},[i(\"h6\",[t._v(\"Edit Product Information\")]),i(\"br\"),i(\"p\",[t._v(\"\\n                You may edit the selected product details through this form.\\n            \")])])]),i(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[i(\"div\",{staticClass:\"content-1\"},[i(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[i(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"cake\"}}),t._v(\"\\n                Product Info\\n            \")],1),t.loading?i(\"div\",[i(\"q-item\",{staticClass:\"q-my-sm\"},[i(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1)],1):i(\"div\",[i(\"q-stepper\",{staticClass:\"bg-none\",attrs:{vertical:\"\",animated:\"\",\"done-color\":\"primary\",\"inactive-color\":\"grey-5\"},model:{value:t.step,callback:function(e){t.step=e},expression:\"step\"}},[i(\"q-step\",{attrs:{name:1,title:\"Basic Information\",icon:\"assignment\",done:t.step>1}},[i(\"p\",[t._v(\"Select category and fill out basic info.\")]),i(\"q-form\",{ref:\"step1Form\",attrs:{disabled:t.hasError||t.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.saveStep1(e)}}},[i(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Category\\n                                    \")]),i(\"q-select\",{staticClass:\"field-value\",attrs:{options:t.categories,dark:\"\",dense:\"\",outlined:\"\",\"options-dense\":\"\",\"hide-bottom-space\":\"\",\"emit-value\":\"\",\"map-options\":\"\",\"lazy-rules\":\"\",rules:[t._isValidCategory]},model:{value:t.editProduct.category,callback:function(e){t.$set(t.editProduct,\"category\",e)},expression:\"editProduct.category\"}})],1),i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Product Name\\n                                    \")]),i(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required. \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:t.editProduct.name,callback:function(e){t.$set(t.editProduct,\"name\",e)},expression:\"editProduct.name\"}})],1),i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Description\\n                                    \")]),i(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"textarea\",textarea:\"\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required. \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:t.editProduct.description,callback:function(e){t.$set(t.editProduct,\"description\",e)},expression:\"editProduct.description\"}})],1),i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Base price\\n                                    \")]),i(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"number\",min:\"1\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required. \",\"lazy-rules\":\"\",rules:[function(t){return!isNaN(t)}]},model:{value:t.editProduct.basePrice,callback:function(e){t.$set(t.editProduct,\"basePrice\",e)},expression:\"editProduct.basePrice\"}})],1),i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Minimum Order Quantity\\n                                    \")]),i(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"number\",min:\"1\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required. \",\"lazy-rules\":\"\",rules:[function(t){return!isNaN(t)&&t>0}]},model:{value:t.editProduct.minOrderQuantity,callback:function(e){t.$set(t.editProduct,\"minOrderQuantity\",e)},expression:\"\\n                                            editProduct.minOrderQuantity\\n                                        \"}})],1),i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Colors\\n                                    \")]),i(\"q-select\",{staticClass:\"field-value\",attrs:{\"hide-dropdown-icon\":\"\",\"hide-bottom-space\":\"\",dark:\"\",outlined:\"\",multiple:\"\",\"use-chips\":\"\",\"lazy-rules\":\"\",rules:[t._isValidColor]},scopedSlots:t._u([{key:\"append\",fn:function(){return[i(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"colorize\"}},[i(\"q-tooltip\",{attrs:{delay:550,anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"\\n                                                    Select color\\n                                                \")]),i(\"q-popup-proxy\",[i(\"q-color\",{attrs:{flat:\"\",square:\"\",\"no-header\":\"\",\"no-footer\":\"\",\"default-view\":\"palette\",\"format-model\":\"hex\"},on:{input:function(e){return t.editProduct.colors.push(t.selcolor)}},model:{value:t.selcolor,callback:function(e){t.selcolor=e},expression:\"selcolor\"}})],1)],1)]},proxy:!0}]),model:{value:t.editProduct.colors,callback:function(e){t.$set(t.editProduct,\"colors\",e)},expression:\"editProduct.colors\"}})],1),i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Details\\n                                    \")]),i(\"div\",{staticClass:\"field-value\"},[i(\"transition-group\",{attrs:{name:\"fade\",tag:\"div\"}},t._l(t.details,(function(e,o){return i(\"q-list\",{key:\"grp-\"+o,staticClass:\"group-list\"},[i(\"q-item\",[i(\"q-item-section\",{on:{click:function(t){e.edit=!0}}},[e.edit?i(\"q-item-label\",[i(\"q-input\",{attrs:{type:\"text\",dense:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Group title required \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isUniqueDetailGrp]},on:{keydown:function(i){if(!i.type.indexOf(\"key\")&&t._k(i.keyCode,\"enter\",13,i.key,\"Enter\"))return null;i.preventDefault(),e.edit=!1}},model:{value:e.group,callback:function(i){t.$set(e,\"group\",i)},expression:\"\\n                                                                    detail.group\\n                                                                \"}})],1):i(\"q-item-label\",[t._v(\"\\n                                                            \"+t._s(e.group)+\"\\n                                                        \")])],1),i(\"q-item-section\",{attrs:{side:\"\"}},[i(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"add\",color:\"white\"},on:{click:function(e){return t.appendDetailItem(o)}}},[i(\"q-tooltip\",{attrs:{delay:550,anchor:\"bottom right\",self:\"top middle\"}},[t._v(\"\\n                                                                Add new\\n                                                                field\\n                                                            \")])],1)],1)],1),i(\"transition-group\",{attrs:{name:\"fade\",tag:\"div\"}},t._l(e.items,(function(e,a){return i(\"q-item\",{key:\"item-\"+a},[i(\"div\",{staticClass:\"detail-field-keyval\"},[i(\"q-input\",{staticClass:\"detail-list-key\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Label required \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:e.label,callback:function(i){t.$set(e,\"label\",i)},expression:\"\\n                                                                    item.label\\n                                                                \"}}),i(\"q-input\",{staticClass:\"detail-list-value\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Value required \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:e.value,callback:function(i){t.$set(e,\"value\",i)},expression:\"\\n                                                                    item.value\\n                                                                \"}})],1),i(\"q-item-section\",{attrs:{side:\"\"}},[i(\"q-icon\",{staticClass:\"cursor-pointer remove-icon\",attrs:{name:\"remove\",color:\"white\"},on:{click:function(e){return t.removeDetailItem(o,a)}}},[i(\"q-tooltip\",{attrs:{delay:550,anchor:\"bottom right\",self:\"top middle\"}},[t._v(\"\\n                                                                    Remove\\n                                                                    this\\n                                                                    field\\n                                                                \")])],1)],1)],1)})),1),i(\"br\"),i(\"q-separator\")],1)})),1),i(\"q-btn\",{staticClass:\"q-mt-sm\",attrs:{dense:\"\",flat:\"\",\"no-caps\":\"\",icon:\"add\",label:\"Add Detail Group\"},on:{click:t.appendGroup}})],1)])],1),i(\"q-stepper-navigation\",[i(\"q-btn\",{attrs:{color:\"primary\",type:\"submit\",label:\"Continue\",loading:t.loadingStep1,disable:t.loadingStep1}})],1)],1)],1),i(\"q-step\",{attrs:{name:2,title:\"Product Images\",icon:\"add_photo_alternate\",done:t.step>2}},[i(\"p\",[t._v(\"\\n                            Click the + icon or drag the product images\\n                            (.jpg/.png and Max 2MB) for upload.\\n                        \")]),i(\"q-form\",{ref:\"step2Form\",attrs:{disabled:t.hasError||t.loading}},[i(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Gallery\\n                                    \")]),i(\"div\",{staticClass:\"field-value full-width\"},[i(\"q-uploader\",{ref:\"pimgUploader\",staticClass:\"img-uploader\",attrs:{multiple:\"\",square:\"\",\"hide-upload-btn\":\"\",accept:\"image/jpeg,image/png\",label:\"Image Upload\",filter:t._validImage},on:{added:t.imgsAdded,removed:t.imgsRemoved,failed:t.onImgUploadFailed}}),i(\"br\"),i(\"div\",{staticClass:\"flex\"},t._l(t.editProduct.images,(function(e){return i(\"q-card\",{key:e._id,staticClass:\"q-mr-sm q-mb-sm\"},[\"gallery\"==e.imageType?i(\"div\",[i(\"div\",{staticClass:\"pimg-card\",style:\"background-image:url('\"+t.resolveAssetsUrl(\"\"+e.image)+\"')\"}),i(\"q-card-actions\",{attrs:{align:\"right\"}},[i(\"q-btn\",{attrs:{dense:\"\",flat:\"\",round:\"\",color:\"red\",icon:\"delete\"},on:{click:function(i){return t.delImage(e._id)}}})],1)],1):t._e()])})),1)],1)])],1),i(\"q-stepper-navigation\",[i(\"q-btn\",{attrs:{type:\"button\",color:\"primary\",label:t.hasImgs?\"Continue\":\"Skip\",loading:t.loadingStep2,disable:t.loadingStep2},on:{click:t.startUpload},scopedSlots:t._u([{key:\"loading\",fn:function(){return[i(\"q-spinner-gears\")]},proxy:!0}])}),i(\"q-btn\",{staticClass:\"q-ml-sm\",attrs:{flat:\"\",color:\"primary\",label:\"Back\"},on:{click:function(e){return t.goBack(1)}}})],1)],1)],1),i(\"q-step\",{attrs:{name:3,title:\"Order Customization Options\",icon:\"assignment\",done:t.step>3}},[i(\"p\",[t._v(\"Configure selectable options for orders.\")]),i(\"p\",[t._v(\"\\n                            You may toggle between fixed choices and\\n                            customer customizable list.\\n                        \")]),i(\"q-form\",{ref:\"step3Form\",attrs:{disabled:t.hasError||t.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.saveStep3(e)}}},[i(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[i(\"q-item\",{staticClass:\"detail-field\"},[i(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                        Options\\n                                    \")]),i(\"div\",{staticClass:\"field-value\"},[i(\"transition-group\",{attrs:{name:\"fade\",tag:\"div\"}},t._l(t.options,(function(e,o){return i(\"q-list\",{key:\"optgrp-\"+o,staticClass:\"group-list\"},[i(\"q-item\",[i(\"q-item-section\",{on:{click:function(t){e.edit=!0}}},[e.edit?i(\"q-item-label\",[i(\"q-input\",{attrs:{type:\"text\",dense:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Attribute required \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isUniqueOptionGrp]},on:{keydown:function(i){if(!i.type.indexOf(\"key\")&&t._k(i.keyCode,\"enter\",13,i.key,\"Enter\"))return null;i.preventDefault(),e.edit=!1}},model:{value:e.attribute,callback:function(i){t.$set(e,\"attribute\",i)},expression:\"\\n                                                                    option.attribute\\n                                                                \"}})],1):i(\"q-item-label\",[t._v(\"\\n                                                            \"+t._s(e.attribute)+\"\\n                                                        \")])],1),i(\"q-item-section\",[i(\"q-toggle\",{attrs:{\"unchecked-icon\":\"lock\",color:\"green-4\",label:e.userCustomizable?\"User editable\":\"Fixed options\"},on:{input:function(e){return t.toggleCustomChoice(e,o)}},model:{value:e.userCustomizable,callback:function(i){t.$set(e,\"userCustomizable\",i)},expression:\"\\n                                                                option.userCustomizable\\n                                                            \"}})],1),i(\"q-item-section\",{attrs:{side:\"\"}},[i(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"add\",color:\"white\"},on:{click:function(e){return t.appendOptionItem(o)}}},[i(\"q-tooltip\",{attrs:{delay:550,anchor:\"bottom right\",self:\"top middle\"}},[t._v(\"\\n                                                                Add option\\n                                                            \")])],1)],1)],1),i(\"transition-group\",{attrs:{name:\"fade\",tag:\"div\"}},t._l(t.filteredOptions(e.choices,e.userCustomizable),(function(e,a){return i(\"q-item\",{key:\"selitem-\"+a},[i(\"div\",{staticClass:\"detail-field-keyval\"},[i(\"q-input\",{staticClass:\"option-list-key\",attrs:{readonly:\"Other\"==e.value,type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Option required \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:e.value,callback:function(i){t.$set(e,\"value\",i)},expression:\"\\n                                                                    choice.value\\n                                                                \"}}),i(\"q-input\",{staticClass:\"option-list-price\",attrs:{type:\"number\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Price \",\"lazy-rules\":\"\",rules:[function(t){return\"\"!==t&&!isNaN(t)}]},model:{value:e.price,callback:function(i){t.$set(e,\"price\",i)},expression:\"\\n                                                                    choice.price\\n                                                                \"}})],1),i(\"q-item-section\",{attrs:{side:\"\"}},[i(\"q-icon\",{staticClass:\"cursor-pointer remove-icon\",attrs:{name:\"remove\",color:\"white\"},on:{click:function(i){return t.removeOptionItem(o,a,e.value)}}},[i(\"q-tooltip\",{attrs:{delay:550,anchor:\"bottom right\",self:\"top middle\"}},[t._v(\"\\n                                                                    Remove\\n                                                                    this\\n                                                                    option\\n                                                                \")])],1)],1)],1)})),1),i(\"br\"),i(\"q-separator\")],1)})),1),i(\"q-btn\",{staticClass:\"q-mt-sm\",attrs:{dense:\"\",flat:\"\",\"no-caps\":\"\",icon:\"add\",label:\"Add Customizable Option\"},on:{click:t.appendOptions}})],1)])],1),i(\"q-stepper-navigation\",[i(\"q-btn\",{attrs:{type:\"submit\",color:\"primary\",label:\"Continue\",loading:t.loadingStep3,disable:t.loadingStep3}}),i(\"q-btn\",{staticClass:\"q-ml-sm\",attrs:{flat:\"\",color:\"primary\",label:\"Back\"},on:{click:function(e){return t.goBack(2)}}})],1)],1)],1),i(\"q-step\",{attrs:{name:4,title:\"Done!\",icon:\"add_comment\"}},[i(\"q-form\",{ref:\"step4Form\",attrs:{disabled:t.hasError||t.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.saveStep4(e)}}},[i(\"p\",[t._v(\"\\n                                You have successfully updated the product\\n                                details.\\n                            \")]),i(\"q-stepper-navigation\",[i(\"q-btn\",{attrs:{color:\"primary\",label:\"Finish\",type:\"submit\",loading:t.loadingStep4,disable:t.loadingStep4}}),i(\"q-btn\",{staticClass:\"q-ml-sm\",attrs:{flat:\"\",color:\"primary\",label:\"Back\"},on:{click:function(e){return t.goBack(3)}}})],1)],1)],1)],1)],1)]),i(\"div\",{staticClass:\"content-2\"})])])},a=[],s=(i(\"6579\"),i(\"1ce0\"),i(\"c973\")),n=i.n(s),r=i(\"392b\");let l=null,c=null;var d={name:\"ProductEdit\",mixins:[r[\"a\"]],watch:{$route(t,e){t.path!==e.path&&this.fetchProductDetails()}},meta(){return{title:\"Edit Product\"}},beforeCreate(){c=this.$RepositoryFactory.get(\"categories\"),l=this.$RepositoryFactory.get(\"products\")},created(){0},mounted(){this.fetchProductDetails()},computed:{hasImgs(){return this.selimgs&&this.selimgs.length>0}},data(){return{loadingStep1:!1,loadingStep2:!1,loadingStep3:!1,loadingStep4:!1,step:1,selimgs:[],selcolor:\"\",categories:[],colors:[],details:[],options:[],loading:!0,hasError:!1,editProduct:{name:\"\",category:null,basePrice:100,minOrderQuantity:1,description:\"\",colors:[],options:[],details:[],images:[]}}},methods:{_isValidCategory(t){if(!(this.editProduct.category&&this.categories&&this.categories.length>0))return\"Invalid category selected\";const e=this.categories.find((t=>t.value===this.editProduct.category));return!!e||\"Invalid category selected\"},_isUniqueDetailGrp(t){if(this.details&&this.details.length>0){const e=this.details.filter((e=>e.group==t));if(e.length>1)return\"Duplicate detail group title.\"}return!0},_isUniqueOptionGrp(t){if(this.options&&this.options.length>0){const e=this.options.filter((e=>e.attribute==t));if(e.length>1)return\"Duplicate option group title.\"}return!0},_isValidColor(t){if(t&&t.length>0){const e=/^#([0-9A-F]{3}){1,2}$/i;for(let i in t)if(!e.test(t[i]))return\"Invalid hex color selected\"}return!0},_validImage(t){const e=t.filter((t=>t.size<2097152&&[\"image/png\",\"image/jpeg\"].includes(t.type)));return(!e||e.length<1||e.length<t.length)&&this.showNotif(!1,\"Selected image is not valid.\"),e},fetchCategories(){var t=this;return n()((function*(){try{const e=yield c.getProductCategorySelection();t.categories=e.slice()}catch(e){t.showNotif(!1,\"Could not retrieve product categories.\"),t.hasError=!0}finally{t.loading=!1}}))()},fetchProductDetails(){var t=this;return n()((function*(){try{const e=yield l.getProduct(t.$route.params.id);t.editProduct=e,t.editProduct.details&&(t.details=[...t.toReactiveDataFormat(t.editProduct.details)]),t.editProduct.options&&(t.options=[...t.toReactiveOptionsDataFormat(t.editProduct.options)])}catch(e){t.showNotif(!1,\"Could not retrieve product details.\")}}))()},toJSONFormatOptions:function(t){const e=[];return t&&t.length>0&&t.map((t=>{let i=[];for(let e in t.choices)i.push({value:t.choices[e].value,price:t.choices[e].price});t.userCustomizable&&!this.hasCustomChoice(t.choices)?i.unshift({value:\"Other\",price:0}):!t.userCustomizable&&this.hasCustomChoice(t.choices)&&(i=this.filteredOptions(i,!1)),e.push({attribute:t.attribute,choices:i,userCustomizable:t.userCustomizable})})),e},toReactiveOptionsDataFormat:function(t){const e=[];return t&&t.length>0&&t.map((t=>{e.push({attribute:t.attribute,userCustomizable:t.userCustomizable,choices:t.choices,edit:!0})})),e},toJSONFormatDetails:function(t){const e=[];return t&&t.length>0&&t.map((t=>{const i={};t.items&&t.items.length>0&&t.items.map((t=>{i[t.label]=t.value})),t.group&&Object.keys(i).length>0&&e.push({group:t.group,items:i})})),e},toReactiveDataFormat:function(t){const e=[];return t&&t.length>0&&t.map((t=>{const i=[];if(t.items&&Object.keys(t.items).length>0)for(let e in t.items)i.push({label:e,value:t.items[e].toString()});t.group&&i.length>0&&e.push({group:t.group,items:i,edit:!0})})),e},filteredOptions(t,e){return t&&t.length>0&&!e?t.filter((t=>\"Other\"!==t.value)):t},saveStep1:function(t){var e=this;this.loadingStep1=!0,this.$refs.step1Form.validate().then(function(){var t=n()((function*(t){if(t){let t={};e.editProduct.details=[...e.toJSONFormatDetails(e.details)],t=yield l.updateProduct(e.$route.params.id,e.editProduct),e.loadingStep1=!1,e.step=2}}));return function(e){return t.apply(this,arguments)}}()).catch((t=>{this.showNotif(!1,\"Could not edit product info.\"),this.loadingStep1=!1}))},saveStep2:function(t){var e=this;this.loadingStep2=!0,this.$refs.step2Form.validate().then(function(){var i=n()((function*(i){i&&(t&&(e.editProduct.images=t.slice()),e.loadingStep2=!1,e.step=3)}));return function(t){return i.apply(this,arguments)}}()).catch((t=>{this.showNotif(!1,\"Error has occurred.\"),this.loadingStep2=!1}))},saveStep3:function(t){var e=this;this.loadingStep3=!0,this.$refs.step3Form.validate().then(function(){var t=n()((function*(t){if(t){const t=[...e.toJSONFormatOptions(e.options)];e.editProduct.options=t.slice();yield l.updateProduct(e.$route.params.id,{options:e.editProduct.options});e.loadingStep3=!1,e.step=4}}));return function(e){return t.apply(this,arguments)}}()).catch((t=>{this.showNotif(!1,\"Error updating customization options.\"),this.loadingStep3=!1}))},saveStep4:function(t){var e=this;this.loadingStep4=!0,this.$refs.step4Form.validate().then(function(){var t=n()((function*(t){e.loadingStep4=!1,e.returnToPageIndex(\"/products\")}));return function(e){return t.apply(this,arguments)}}()).catch((t=>{this.showNotif(!1,\"Error has occurred product.\"),this.loadingStep4=!1}))},goBack:function(t){[1,2,3].includes(t)&&(this.step=t)},removeGroup:function(t){this.$delete(this.details,t)},removeDetailItem:function(t,e){this.$delete(this.details[t].items,e),0===this.details[t].items.length&&this.removeGroup(t)},appendGroup:function(t){this.details.push({group:\"New Group\",edit:!0,items:[{label:\"\",value:\"\"}]})},appendDetailItem:function(t){!isNaN(t)&&this.details[t]&&this.details[t].items.push({label:\"\",value:\"\"})},removeOptions:function(t){this.$delete(this.options,t)},removeOptionItem:function(t,e,i){this.$delete(this.options[t].choices,e),0===this.options[t].choices.length?this.removeOptions(t):\"Other\"==i&&(this.options[t].userCustomizable=!1)},appendOptions:function(t){this.options.push({attribute:\"New Option\",userCustomizable:!1,edit:!0,choices:[{value:\"\",price:\"\"}]})},appendOptionItem:function(t){!isNaN(t)&&this.options[t]&&this.options[t].choices.push({value:\"\",price:\"\"})},hasCustomChoice(t){return!!(t&&t.length>0)&&t.find((t=>\"Other\"==t.value))},toggleCustomChoice:function(t,e){t?this.options[e]&&!this.hasCustomChoice(this.options[e].choices)&&this.options[e].choices.unshift({value:\"Other\",price:\"\"}):this.options[e]&&this.hasCustomChoice(this.options[e].choices)&&this.options[e].choices.shift()},delImage(t){var e=this;return n()((function*(){try{yield l.deleteImage(e.$route.params.id,t);e.editProduct.images=e.editProduct.images.filter((e=>e._id!==t))}catch(i){e.showNotif(!1,\"Could not remove image.\"+i)}}))()},startUpload(){var t=this;return n()((function*(){try{if(t.loadingStep2=!0,t.hasImgs){let e=new FormData;t.selimgs.forEach((t=>{e.append(\"image\",t)})),e.append(\"imageType\",\"gallery\");const i=yield l.uploadImgs(t.$route.params.id,e);t.selimgs=[],t.saveStep2(i)}else t.saveStep2(!1)}catch(e){t.showNotif(!1,\"Could not upload images.\"),t.loadingStep2=!1}}))()},imgsRemoved(t){this.selimgs=this.selimgs.filter((e=>e!==t[0]))},imgsAdded(t){this.selimgs.push(...t)},onImgUploadFailed:function(t){this.showNotif(!1,\"Failed to add your selected image. \")}}},u=d,p=i(\"2877\"),m=i(\"7c52\"),h=i(\"eebe\"),f=i.n(h);function g(t){var e=i(\"4b37\");e.__inject__&&e.__inject__(t);var o=i(\"f58c\");o.__inject__&&o.__inject__(t)}var v=Object(p[\"a\"])(u,o,a,!1,g,\"4a52583a\",\"c62a36f4\");e[\"default\"]=v.exports;f()(v,\"components\",{QPage:m[\"QPage\"],QIcon:m[\"QIcon\"],QItem:m[\"QItem\"],QSpinner:m[\"QSpinner\"],QStepper:m[\"QStepper\"],QStep:m[\"QStep\"],QForm:m[\"QForm\"],QList:m[\"QList\"],QSelect:m[\"QSelect\"],QInput:m[\"QInput\"],QTooltip:m[\"QTooltip\"],QPopupProxy:m[\"QPopupProxy\"],QColor:m[\"QColor\"],QItemSection:m[\"QItemSection\"],QItemLabel:m[\"QItemLabel\"],QSeparator:m[\"QSeparator\"],QBtn:m[\"QBtn\"],QStepperNavigation:m[\"QStepperNavigation\"],QUploader:m[\"QUploader\"],QCard:m[\"QCard\"],QCardActions:m[\"QCardActions\"],QSpinnerGears:m[\"QSpinnerGears\"],QToggle:m[\"QToggle\"],QField:m[\"QField\"]})},b6b2:function(t,e){t.exports={}},eebe:function(t,e){t.exports=function(t,e,i){var o;if(\"function\"===typeof t.exports?(o=t.exports.extendOptions,o[e]=t.exports.options[e]):o=t.options,void 0===o[e])o[e]=i;else{var a=o[e];for(var s in i)void 0===a[s]&&(a[s]=i[s])}}},f58c:function(t,e,i){\"use strict\";i.r(e);var o=i(\"7aeb\"),a=i.n(o);for(var s in o)[\"default\"].indexOf(s)<0&&function(t){i.d(e,t,(function(){return o[t]}))}(s);e[\"default\"]=a.a}};",
    "js/25.e9be9311.js": "exports.ids=[25],exports.modules={\"392b\":function(t,e,a){\"use strict\";a(\"932c\"),a(\"bfab\");var n,r,i={data(){return{prevRoute:null}},beforeRouteEnter(t,e,a){a((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,a){return t.replace(new RegExp(e,\"g\"),a)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},o=i,s=a(\"2877\"),l=Object(s[\"a\"])(o,n,r,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},\"411a\":function(t,e,a){\"use strict\";a.r(e);var n=a(\"48fa\"),r=a.n(n);for(var i in n)[\"default\"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e[\"default\"]=r.a},\"43a1\":function(t,e){t.exports={}},4501:function(t,e,a){\"use strict\";a.r(e);var n=a(\"43a1\"),r=a.n(n);for(var i in n)[\"default\"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i);e[\"default\"]=r.a},\"48fa\":function(t,e){t.exports={}},\"8f31\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[a(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[a(\"div\",{staticClass:\"heading-caption\"},[a(\"h6\",[t._v(\"Feature Product\")]),a(\"br\"),a(\"p\",[t._v(\"\\n                Cofigure the following form to feature the product.\"),a(\"br\"),t._v(\"\\n                NOTE: Uploading an image will replace the existing banner,\\n                if applicable.\\n            \")])])]),a(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[a(\"div\",{staticClass:\"content-1\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Product Info\\n            \")],1),a(\"div\",[a(\"q-form\",{attrs:{disabled:t.featureProduct.hasError||t.featureProduct.loading},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[t.featureProduct.loading?a(\"q-item\",{staticClass:\"q-mt-sm\"},[a(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):a(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Product Name\")]),t._v(\"\\n                            \"+t._s(t.featureProduct.data.name)+\"\\n                        \")]),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Status\")]),a(\"q-toggle\",{attrs:{\"checked-icon\":\"check\",color:\"green-4\",\"unchecked-icon\":\"clear\",label:t.featureProduct.data.isFeatured?\"Featured\":\"Not Featured\"},model:{value:t.featureProduct.data.isFeatured,callback:function(e){t.$set(t.featureProduct.data,\"isFeatured\",e)},expression:\"featureProduct.data.isFeatured\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                Banner\\n                            \")]),a(\"div\",{staticClass:\"field-value\"},[a(\"q-uploader\",{ref:\"pimgUploader\",staticClass:\"img-uploader full-width\",attrs:{disable:!t.featureProduct.data.isFeatured,square:\"\",\"hide-upload-btn\":\"\",accept:\"image/jpeg,image/png\",label:\"Image Upload (Replace)\",filter:t._validImage},on:{added:t.imgsAdded,removed:t.imgsRemoved,failed:t.onImgUploadFailed}}),a(\"br\"),null!==t.productBanner&&null===t.selimg?a(\"div\",{staticClass:\"flex\"},[a(\"q-img\",{attrs:{src:t.resolveAssetsUrl(t.productBanner),ratio:16/9},scopedSlots:t._u([{key:\"error\",fn:function(){return[a(\"div\",{staticClass:\"absolute-full flex flex-center bg-black text-white\"},[t._v(\"\\n                                                Cannot load banner image\\n                                            \")])]},proxy:!0}],null,!1,5815348)})],1):t._e()],1)])],1),a(\"q-separator\"),a(\"div\",{staticClass:\"q-pa-md\"},[a(\"q-btn\",{attrs:{label:null!==t.selimg?\"Upload and Save\":\"Save\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading||t.missingUpload},scopedSlots:t._u([{key:\"loading\",fn:function(){return[a(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),a(\"div\",{staticClass:\"content-2\"})])])},r=[],i=a(\"c973\"),o=a.n(i),s=a(\"392b\");let l=null;var d={name:\"ProductFeature\",mixins:[s[\"a\"]],meta(){return{title:\"Feature Product\"}},beforeCreate(){l=this.$RepositoryFactory.get(\"products\")},created(){0},computed:{productBanner(){const t=this.featureProduct.data.images.find((t=>\"banner\"==t.imageType));return t?t.image:null},missingUpload(){return!this.productBanner&&null==this.selimg&&this.featureProduct.data.isFeatured}},data(){return{loading:!1,selimg:null,featureProduct:{loading:!0,hasError:!1,data:{name:\"\",isFeatured:!1,images:[]}}}},methods:{_validImage(t){const e=t.filter((t=>t.size<2097152&&[\"image/png\",\"image/jpeg\"].includes(t.type)));return(!e||e.length<1||e.length<t.length)&&this.showNotif(!1,\"Limit image size to 2MB (PNG/JPG).\"),e},getProduct(){var t=this;return o()((function*(){try{const e=yield l.getProduct(t.$route.params.id);t.featureProduct.data=e}catch(e){t.showNotif(!1,\"Could not retrieve product details. \"),t.featureProduct.hasError=!0}finally{t.featureProduct.loading=!1}}))()},onSubmit(){var t=this;return o()((function*(){t.loading=!0;try{if(t.selimg){let e=new FormData;e.append(\"banner\",t.selimg),e.append(\"imageType\",\"banner\"),e.append(\"isFeatured\",t.featureProduct.data.isFeatured),yield l.uploadBanner(t.$route.params.id,e)}else yield l.updateProduct(t.$route.params.id,{isFeatured:t.featureProduct.data.isFeatured});t.showNotif(!0,\"Successfully updated feature config.\"),t.returnToPageIndex(\"/products\")}catch(e){t.showNotif(!1,\"Could not update feature config.\")}finally{t.loading=!1}}))()},imgsRemoved(t){this.selimg=null},imgsAdded(t){this.selimg=t[0]},onImgUploadFailed:function(t){this.showNotif(!1,\"Failed to add your selected image. \")}}},u=d,c=a(\"2877\"),f=a(\"7c52\"),g=a(\"eebe\"),p=a.n(g);function m(t){var e=a(\"4501\");e.__inject__&&e.__inject__(t);var n=a(\"411a\");n.__inject__&&n.__inject__(t)}var h=Object(c[\"a\"])(u,n,r,!1,m,\"50020a9e\",\"35d08f2a\");e[\"default\"]=h.exports;p()(h,\"components\",{QPage:f[\"QPage\"],QIcon:f[\"QIcon\"],QForm:f[\"QForm\"],QItem:f[\"QItem\"],QSpinner:f[\"QSpinner\"],QList:f[\"QList\"],QToggle:f[\"QToggle\"],QUploader:f[\"QUploader\"],QImg:f[\"QImg\"],QSeparator:f[\"QSeparator\"],QBtn:f[\"QBtn\"],QSpinnerGears:f[\"QSpinnerGears\"],QField:f[\"QField\"]})},eebe:function(t,e){t.exports=function(t,e,a){var n;if(\"function\"===typeof t.exports?(n=t.exports.extendOptions,n[e]=t.exports.options[e]):n=t.options,void 0===n[e])n[e]=a;else{var r=n[e];for(var i in a)void 0===r[i]&&(r[i]=a[i])}}}};",
    "js/26.0105594d.js": "exports.ids=[26],exports.modules={\"392b\":function(t,e,a){\"use strict\";a(\"932c\"),a(\"bfab\");var n,i,r={data(){return{prevRoute:null}},beforeRouteEnter(t,e,a){a((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,a){return t.replace(new RegExp(e,\"g\"),a)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},o=r,s=a(\"2877\"),l=Object(s[\"a\"])(o,n,i,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},\"537b\":function(t,e,a){\"use strict\";a.r(e);var n=a(\"a0e7\"),i=a.n(n);for(var r in n)[\"default\"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e[\"default\"]=i.a},\"940d\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[a(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[a(\"div\",{staticClass:\"heading-caption\"},[a(\"h6\",[t._v(\"Add Admin Account\")]),a(\"br\"),a(\"p\",[t._v(\"\\n                Fill out the following to create a new admin account to this\\n                portal.\\n            \")])])]),a(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[a(\"div\",{staticClass:\"content-1\"},[a(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[a(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Admin Account Info\\n            \")],1),a(\"div\",[a(\"q-form\",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[a(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Email\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"email\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Valid email required. \",\"lazy-rules\":\"\",rules:[t._isValidEmail]},model:{value:t.user.email,callback:function(e){t.$set(t.user,\"email\",e)},expression:\"user.email\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Name\")]),a(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Name/ Nickname required. \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:t.user.name,callback:function(e){t.$set(t.user,\"name\",e)},expression:\"user.name\"}})],1),a(\"q-item\",{staticClass:\"detail-field\"},[a(\"span\",{staticClass:\"field-label\"},[t._v(\"Password\")]),a(\"q-input\",{ref:\"adminpw\",staticClass:\"field-value\",attrs:{type:\"password\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Minimum of 6 or more characters.\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t},function(t){return t.length>=6}]},model:{value:t.user.password,callback:function(e){t.$set(t.user,\"password\",e)},expression:\"user.password\"}})],1)],1),a(\"q-separator\"),a(\"div\",{staticClass:\"q-pa-md\"},[a(\"q-btn\",{attrs:{label:\"Create\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading},scopedSlots:t._u([{key:\"loading\",fn:function(){return[a(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),a(\"div\",{staticClass:\"content-2\"})])])},i=[],r=a(\"c973\"),o=a.n(r),s=a(\"392b\"),l={name:\"UserAdd\",mixins:[s[\"a\"]],meta(){return{title:\"Add Admin Account\"}},data(){return{loading:!1,user:{name:\"\",email:\"\",password:\"\"}}},methods:{_isValidEmail(t){const e=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\\.){1,8}[a-zA-Z]{2,63}$/;return e.test(t)||\"Invalid email format\"},onSubmit:function(){var t=o()((function*(t){this.loading=!0;try{yield this.$store.dispatch(\"auth/createUser\",this.user),this.showNotif(!0,\"New Admin account created.\"),this.$router.push(\"/dashboard\").catch((t=>{}))}catch(e){this.$refs[\"adminpw\"].focus(),this.showNotif(!1,e)}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},u=l,c=a(\"2877\"),d=a(\"7c52\"),p=a(\"eebe\"),f=a.n(p);function m(t){var e=a(\"fe88\");e.__inject__&&e.__inject__(t);var n=a(\"537b\");n.__inject__&&n.__inject__(t)}var h=Object(c[\"a\"])(u,n,i,!1,m,\"1361da10\",\"133b4811\");e[\"default\"]=h.exports;f()(h,\"components\",{QPage:d[\"QPage\"],QIcon:d[\"QIcon\"],QForm:d[\"QForm\"],QList:d[\"QList\"],QItem:d[\"QItem\"],QInput:d[\"QInput\"],QSeparator:d[\"QSeparator\"],QBtn:d[\"QBtn\"],QSpinnerGears:d[\"QSpinnerGears\"],QField:d[\"QField\"]})},\"9d13\":function(t,e){t.exports={}},a0e7:function(t,e){t.exports={}},eebe:function(t,e){t.exports=function(t,e,a){var n;if(\"function\"===typeof t.exports?(n=t.exports.extendOptions,n[e]=t.exports.options[e]):n=t.options,void 0===n[e])n[e]=a;else{var i=n[e];for(var r in a)void 0===i[r]&&(i[r]=a[r])}}},fe88:function(t,e,a){\"use strict\";a.r(e);var n=a(\"9d13\"),i=a.n(n);for(var r in n)[\"default\"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e[\"default\"]=i.a}};",
    "js/27.4219825b.js": "exports.ids=[27],exports.modules={\"2a6e\":function(t,e){t.exports={}},\"392b\":function(t,e,n){\"use strict\";n(\"932c\"),n(\"bfab\");var a,r,i={data(){return{prevRoute:null}},beforeRouteEnter(t,e,n){n((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,n){return t.replace(new RegExp(e,\"g\"),n)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},s=i,o=n(\"2877\"),l=Object(o[\"a\"])(s,a,r,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},\"81a9\":function(t,e){t.exports={}},\"9c89\":function(t,e,n){\"use strict\";n.r(e);var a=n(\"2a6e\"),r=n.n(a);for(var i in a)[\"default\"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e[\"default\"]=r.a},b0f9:function(t,e,n){\"use strict\";n.r(e);var a=n(\"81a9\"),r=n.n(a);for(var i in a)[\"default\"].indexOf(i)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(i);e[\"default\"]=r.a},c6b7:function(t,e,n){\"use strict\";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[n(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[n(\"div\",{staticClass:\"heading-caption\"},[n(\"h6\",[t._v(\"Change Password\")]),n(\"br\"),n(\"p\",[t._v(\"Enter your current and new passwords twice to continue.\")])])]),n(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[n(\"div\",{staticClass:\"content-1\"},[n(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[n(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"New Password Info\\n            \")],1),n(\"div\",[n(\"q-form\",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[n(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                Current\\n                            \")]),n(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"password\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required. \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t},function(t){return t.length>=6}]},model:{value:t.user.prevpw,callback:function(e){t.$set(t.user,\"prevpw\",e)},expression:\"user.prevpw\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                New\\n                            \")]),n(\"q-input\",{ref:\"newpw\",staticClass:\"field-value\",attrs:{type:\"password\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Minimum of 6 characters.\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t},function(t){return t.length>=6}]},model:{value:t.user.newpw,callback:function(e){t.$set(t.user,\"newpw\",e)},expression:\"user.newpw\"}})],1),n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                Retype new\\n                            \")]),n(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"password\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Field required. \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t},function(t){return t.length>=6},function(e){return e===t.user.newpw}]},model:{value:t.user.reppw,callback:function(e){t.$set(t.user,\"reppw\",e)},expression:\"user.reppw\"}})],1)],1),n(\"q-separator\"),n(\"div\",{staticClass:\"q-pa-md\"},[n(\"q-btn\",{attrs:{label:\"Save\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading},scopedSlots:t._u([{key:\"loading\",fn:function(){return[n(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),n(\"div\",{staticClass:\"content-2\"})])])},r=[],i=n(\"ded3\"),s=n.n(i),o=n(\"c973\"),l=n.n(o),u=n(\"392b\"),c={name:\"UserChangePW\",mixins:[u[\"a\"]],meta(){return{title:\"Change Password\"}},data(){return{loading:!1,user:{prevpw:\"\",newpw:\"\",reppw:\"\"}}},methods:{_isValidEmail(t){const e=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\\.){1,8}[a-zA-Z]{2,63}$/;return e.test(t)||\"Invalid email format\"},onSubmit:function(){var t=l()((function*(t){this.loading=!0;try{yield this.$store.dispatch(\"auth/changePW\",s()({},this.user)),this.showNotif(!0,\"Updated account password.\"),this.$router.push(\"/dashboard\").catch((t=>{}))}catch(e){this.$refs[\"newpw\"].focus(),this.showNotif(!1,e)}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},d=c,p=n(\"2877\"),f=n(\"7c52\"),h=n(\"eebe\"),g=n.n(h);function m(t){var e=n(\"b0f9\");e.__inject__&&e.__inject__(t);var a=n(\"9c89\");a.__inject__&&a.__inject__(t)}var w=Object(p[\"a\"])(d,a,r,!1,m,\"31eab8bc\",\"71819b12\");e[\"default\"]=w.exports;g()(w,\"components\",{QPage:f[\"QPage\"],QIcon:f[\"QIcon\"],QForm:f[\"QForm\"],QList:f[\"QList\"],QItem:f[\"QItem\"],QInput:f[\"QInput\"],QSeparator:f[\"QSeparator\"],QBtn:f[\"QBtn\"],QSpinnerGears:f[\"QSpinnerGears\"],QField:f[\"QField\"]})},eebe:function(t,e){t.exports=function(t,e,n){var a;if(\"function\"===typeof t.exports?(a=t.exports.extendOptions,a[e]=t.exports.options[e]):a=t.options,void 0===a[e])a[e]=n;else{var r=a[e];for(var i in n)void 0===r[i]&&(r[i]=n[i])}}}};",
    "js/28.6e5aac80.js": "exports.ids=[28],exports.modules={\"0a20\":function(t,e){t.exports={}},\"392b\":function(t,e,n){\"use strict\";n(\"932c\"),n(\"bfab\");var a,o,r={data(){return{prevRoute:null}},beforeRouteEnter(t,e,n){n((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,n){return t.replace(new RegExp(e,\"g\"),n)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},i=r,s=n(\"2877\"),u=Object(s[\"a\"])(i,a,o,!1,null,null,\"18d4dfef\");e[\"a\"]=u.exports},\"59a7\":function(t,e,n){\"use strict\";n.r(e);var a=n(\"92ee\"),o=n.n(a);for(var r in a)[\"default\"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e[\"default\"]=o.a},\"92ee\":function(t,e){t.exports={}},c8dd:function(t,e,n){\"use strict\";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[n(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[n(\"div\",{staticClass:\"heading-caption\"},[n(\"h6\",[t._v(\"Edit Account Details\")]),n(\"br\"),n(\"p\",[t._v(\"You may change your name by through the following form.\")])])]),n(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[n(\"div\",{staticClass:\"content-1\"},[n(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[n(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Admin Account Info\\n            \")],1),n(\"div\",[n(\"q-form\",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[n(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[n(\"q-item\",{staticClass:\"detail-field\"},[n(\"span\",{staticClass:\"field-label\"},[t._v(\"Name\")]),n(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"text\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",placeholder:\"Name/ Nickname required. \",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:t.user.name,callback:function(e){t.$set(t.user,\"name\",e)},expression:\"user.name\"}})],1)],1),n(\"q-separator\"),n(\"div\",{staticClass:\"q-pa-md\"},[n(\"q-btn\",{attrs:{label:\"Save\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading},scopedSlots:t._u([{key:\"loading\",fn:function(){return[n(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),n(\"div\",{staticClass:\"content-2\"})])])},o=[],r=n(\"c973\"),i=n.n(r),s=n(\"392b\"),u={name:\"UserEdit\",mixins:[s[\"a\"]],meta(){return{title:\"Edit Account Details\"}},created(){this.user.name=this.$store.state.auth.name},data(){return{loading:!1,user:{name:\"\"}}},methods:{_isValidEmail(t){const e=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\\.){1,8}[a-zA-Z]{2,63}$/;return e.test(t)||\"Invalid email format\"},onSubmit:function(){var t=i()((function*(t){this.loading=!0;try{yield this.$store.dispatch(\"auth/setName\",{name:this.user.name}),this.showNotif(!0,\"Updated account name.\"),this.$router.push(\"/dashboard\").catch((t=>{}))}catch(e){this.showNotif(!1,\"Failed to update account name.\")}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},c=u,l=n(\"2877\"),d=n(\"7c52\"),f=n(\"eebe\"),p=n.n(f);function m(t){var e=n(\"f8a2\");e.__inject__&&e.__inject__(t);var a=n(\"59a7\");a.__inject__&&a.__inject__(t)}var h=Object(l[\"a\"])(c,a,o,!1,m,\"6bbbaf44\",\"00173d6c\");e[\"default\"]=h.exports;p()(h,\"components\",{QPage:d[\"QPage\"],QIcon:d[\"QIcon\"],QForm:d[\"QForm\"],QList:d[\"QList\"],QItem:d[\"QItem\"],QInput:d[\"QInput\"],QSeparator:d[\"QSeparator\"],QBtn:d[\"QBtn\"],QSpinnerGears:d[\"QSpinnerGears\"],QField:d[\"QField\"]})},eebe:function(t,e){t.exports=function(t,e,n){var a;if(\"function\"===typeof t.exports?(a=t.exports.extendOptions,a[e]=t.exports.options[e]):a=t.options,void 0===a[e])a[e]=n;else{var o=a[e];for(var r in n)void 0===o[r]&&(o[r]=n[r])}}},f8a2:function(t,e,n){\"use strict\";n.r(e);var a=n(\"0a20\"),o=n.n(a);for(var r in a)[\"default\"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e[\"default\"]=o.a}};",
    "js/29.eb040f7d.js": "exports.ids=[29],exports.modules={\"3fcb\":function(t,e,a){\"use strict\";a.r(e);var n=a(\"467b\"),s=a.n(n);for(var r in n)[\"default\"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e[\"default\"]=s.a},\"467b\":function(t,e){t.exports={}},\"5b33\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{staticClass:\"flex flex-center\"},[a(\"div\",{staticClass:\"blur-bg\"}),a(\"div\",{staticClass:\"round-fg\"},[a(\"q-form\",{on:{submit:t.onSubmit,reset:t.onReset}},[a(\"h3\",{staticClass:\"q-pa-md q-mt-xl text-center text-white\"},[t._v(\"Sign In\")]),a(\"q-input\",{staticClass:\"q-pa-md\",attrs:{filled:\"\",color:\"black\",type:\"email\",label:\"Your email *\",\"lazy-rules\":\"\",rules:[function(t){return t&&t.length>0||\"Please type your email\"},t.isValidEmail]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[a(\"q-icon\",{attrs:{name:\"mail_outline\"}})]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email=e},expression:\"email\"}}),a(\"q-input\",{staticClass:\"q-pa-md\",attrs:{filled:\"\",color:\"black\",type:\"password\",autocomplete:\"on\",label:\"Your password *\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t||\"Please type your password\"},function(t){return t.length>=6||\"Password should have 6 or more characters\"}]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[a(\"q-icon\",{attrs:{name:\"security\"}})]},proxy:!0}]),model:{value:t.password,callback:function(e){t.password=e},expression:\"password\"}}),a(\"br\"),a(\"div\",{staticClass:\"q-pa-md\"},[a(\"q-btn\",{attrs:{label:\"Submit\",type:\"submit\",loading:t.loading,color:\"primary\"},scopedSlots:t._u([{key:\"loading\",fn:function(){return[a(\"q-spinner-gears\")]},proxy:!0}])}),a(\"q-btn\",{staticClass:\"q-ml-sm\",attrs:{label:\"Reset\",type:\"reset\",color:\"white\",flat:\"\"}})],1),a(\"div\",{staticClass:\"q-pa-md inline-block text-negative\"},[t._v(\"\\n                \"+t._s(t.error)+\"\\n            \")])],1),a(\"div\",{staticClass:\"message q-pa-md text-center\"},[a(\"p\",{staticClass:\"q-pt-lg\"},[a(\"q-icon\",{staticClass:\"cms-icon\",attrs:{name:\"cake\"}})],1),a(\"br\"),a(\"h5\",[t._v(\"Welcome, Admin!\")]),a(\"br\"),a(\"p\",[t._v(\"Sign in to your admin account to continue.\")])])],1)])},s=[],r=a(\"c973\"),o=a.n(r),i={name:\"LoginIndex\",preFetch({store:t,redirect:e}){t.getters[\"auth/isAuthenticated\"]&&e(\"/\")},created(){},data(){return{email:\"noelochoa@gmail.com\",password:\"\",error:\"\",loading:!1}},methods:{onSubmit(){var t=this;return o()((function*(){t.error=\"\",t.loading=!0;const e={email:t.email,password:t.password};try{yield t.$store.dispatch(\"auth/signin\",e),t.$router.push(\"/\").catch((t=>{}))}catch(a){t.error=a}finally{t.loading=!1}}))()},onReset:function(){this.email=this.password=\"\"},isValidEmail(t){const e=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\\.){1,8}[a-zA-Z]{2,63}$/;return e.test(t)||\"Invalid email format\"}}},l=i,c=a(\"2877\"),u=a(\"7c52\"),d=a(\"eebe\"),p=a.n(d);function m(t){var e=a(\"3fcb\");e.__inject__&&e.__inject__(t)}var f=Object(c[\"a\"])(l,n,s,!1,m,\"17754dd6\",\"3f715de3\");e[\"default\"]=f.exports;p()(f,\"components\",{QPage:u[\"QPage\"],QForm:u[\"QForm\"],QInput:u[\"QInput\"],QIcon:u[\"QIcon\"],QBtn:u[\"QBtn\"],QSpinnerGears:u[\"QSpinnerGears\"]})},eebe:function(t,e){t.exports=function(t,e,a){var n;if(\"function\"===typeof t.exports?(n=t.exports.extendOptions,n[e]=t.exports.options[e]):n=t.options,void 0===n[e])n[e]=a;else{var s=n[e];for(var r in a)void 0===s[r]&&(s[r]=a[r])}}}};",
    "js/3.e9c7102c.js": "exports.ids=[3],exports.modules={\"10d0\":function(t,e){t.exports={}},\"1b67\":function(t,e,o){\"use strict\";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"q-dialog\",{attrs:{value:t.showDlg,seamless:\"\",persistent:\"\",square:\"\",position:\"right\"},on:{hide:t.emitClose}},[o(\"q-card\",{staticClass:\"product-dialog-content\",attrs:{dark:\"\"}},[o(\"q-card-section\",[o(\"div\",{staticClass:\"text-h6\"},[t._v(\"Select Product\")])]),t.productReady?o(\"q-card-section\",[t._t(\"product\")],2):t._e(),o(\"q-inner-loading\",{attrs:{dark:\"\",showing:t.dialogLoading}},[o(\"q-spinner-tail\",{attrs:{size:\"50px\",color:\"white\"}})],1),t.productReady?o(\"q-card-actions\",{attrs:{align:\"right\"}},[t._t(\"actions\")],2):t._e()],1)],1)},r=[],s={name:\"ProductPicker\",props:{showDlg:{type:Boolean,required:!0,default:!1},dialogLoading:{type:Boolean,default:!1},productReady:{type:Boolean,default:!0}},methods:{emitClose(){this.$emit(\"update:showDlg\",!1)}}},n=s,a=o(\"2877\"),c=o(\"7c52\"),l=o(\"eebe\"),d=o.n(l);function u(t){var e=o(\"f204\");e.__inject__&&e.__inject__(t)}var p=Object(a[\"a\"])(n,i,r,!1,u,\"91e94df2\",\"39b2322b\");e[\"a\"]=p.exports;d()(p,\"components\",{QDialog:c[\"QDialog\"],QCard:c[\"QCard\"],QCardSection:c[\"QCardSection\"],QInnerLoading:c[\"QInnerLoading\"],QSpinnerTail:c[\"QSpinnerTail\"],QCardActions:c[\"QCardActions\"]})},\"2ec6\":function(t,e,o){\"use strict\";o.r(e);var i=o(\"c5d9\"),r=o.n(i);for(var s in i)[\"default\"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(s);e[\"default\"]=r.a},\"392b\":function(t,e,o){\"use strict\";o(\"932c\"),o(\"bfab\");var i,r,s={data(){return{prevRoute:null}},beforeRouteEnter(t,e,o){o((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,o){return t.replace(new RegExp(e,\"g\"),o)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},n=s,a=o(\"2877\"),c=Object(a[\"a\"])(n,i,r,!1,null,null,\"18d4dfef\");e[\"a\"]=c.exports},\"4ce9\":function(t,e){t.exports={}},c5d9:function(t,e){t.exports={}},df54:function(t,e,o){\"use strict\";o.r(e);var i=o(\"4ce9\"),r=o.n(i);for(var s in i)[\"default\"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(s);e[\"default\"]=r.a},e750:function(t,e,o){\"use strict\";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[o(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[o(\"div\",{staticClass:\"heading-caption\"},[o(\"h6\",[t._v(\"Add Order\")]),o(\"br\"),o(\"p\",[t._v(\"\\n                Fill out the form to manually place an order.\\n            \")])])]),o(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[o(\"div\",{staticClass:\"content-1\"},[o(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[o(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Order Info\\n            \")],1),o(\"div\",[o(\"q-form\",{on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[o(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[o(\"q-item\",{staticClass:\"detail-field\"},[o(\"span\",{staticClass:\"field-label\"},[t._v(\"Target Date\")]),o(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[o(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[o(\"q-popup-proxy\",{ref:\"qDateProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[o(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyS.hide()}},model:{value:t.order.target,callback:function(e){t.$set(t.order,\"target\",e)},expression:\"order.target\"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[o(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[o(\"q-popup-proxy\",{ref:\"qTimeProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[o(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyS.hide()}},model:{value:t.order.target,callback:function(e){t.$set(t.order,\"target\",e)},expression:\"order.target\"}})],1)],1)]},proxy:!0}]),model:{value:t.order.target,callback:function(e){t.$set(t.order,\"target\",e)},expression:\"order.target\"}})],1),o(\"q-item\",{staticClass:\"detail-field\"},[o(\"span\",{staticClass:\"field-label\"},[t._v(\"Delivery Type\")]),o(\"q-select\",{staticClass:\"field-value\",attrs:{options:t.deliveryTypes,dark:\"\",dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",\"options-dense\":\"\",\"emit-value\":\"\",\"map-options\":\"\",\"lazy-rules\":\"\",rules:[t._isValidType]},model:{value:t.order.type,callback:function(e){t.$set(t.order,\"type\",e)},expression:\"order.type\"}})],1),o(\"q-item\",{staticClass:\"detail-field\"},[o(\"span\",{staticClass:\"field-label\"},[t._v(\"Customer\")]),o(\"q-select\",{staticClass:\"field-value customer-select\",attrs:{options:t.options,\"hide-dropdown-icon\":\"\",\"hide-bottom-space\":\"\",dark:\"\",dense:\"\",\"options-dense\":\"\",outlined:\"\",\"use-input\":\"\",\"emit-value\":\"\",\"map-options\":\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t}]},on:{filter:t.filterFn,input:t.onSelCustomer},scopedSlots:t._u([{key:\"append\",fn:function(){return[o(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"close\"},on:{click:function(e){return e.stopPropagation(),t.clearSelCustomer(e)}}})]},proxy:!0},{key:\"no-option\",fn:function(){return[o(\"q-item\",[o(\"q-item-section\",{staticClass:\"text-italic text-grey\"},[t._v(\"\\n                                            No customer account found.\\n                                        \")])],1)]},proxy:!0}]),model:{value:t.order.customer,callback:function(e){t.$set(t.order,\"customer\",e)},expression:\"order.customer\"}})],1),o(\"transition\",{attrs:{name:\"fade\"}},[\"delivery\"==t.order.type?o(\"q-item\",{staticClass:\"detail-field\"},[o(\"span\",{staticClass:\"field-label\"},[t._v(\"Address\")]),o(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:t.order.address,callback:function(e){t.$set(t.order,\"address\",e)},expression:\"order.address\"}})],1):t._e()],1),o(\"q-item\",{staticClass:\"detail-field product-field\"},[o(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                Products\\n                            \")]),o(\"div\",{staticClass:\"product-details q-py-sm\"},[t._l(t.order.products,(function(e,i){return o(\"q-item\",{key:\"product-\"+i,staticClass:\"product-item\"},[o(\"q-item-section\",{attrs:{side:\"\"}},[o(\"q-avatar\",{attrs:{rounded:\"\",size:\"64px\"}},[o(\"img\",{attrs:{src:e.image?t.resolveAssetsUrl(e.image):\"https://dummyimage.com/64x64/363636/ffffff.png&text=No+Img\"}}),o(\"q-badge\",{staticClass:\"q-pt-xs\",attrs:{floating:\"\",color:\"teal\"}},[t._v(\"\\n                                                \"+t._s(e.quantity)+\"\\n                                            \")])],1)],1),o(\"q-item-section\",[o(\"q-item-label\",{staticClass:\"product-name\"},[t._v(\"\\n                                            \"+t._s(e.name)+\"\\n                                        \")]),o(\"q-item-label\",{staticClass:\"text-grey-4 product-name\",attrs:{caption:\"\"}},t._l(e.options,(function(e,i){return o(\"span\",{key:\"optKey-\"+i},[t._v(\"\\n                                                \"+t._s(e._option+\": \"+e._selected)+\"\\n                                                \"),null!=e.otherValue?o(\"span\",[t._v(\"(\"+t._s(e.otherValue)+\") \")]):t._e(),o(\"br\")])})),0)],1),o(\"q-item-section\",{staticClass:\"text-white\",attrs:{side:\"\"}},[e.discount>0?o(\"span\",[o(\"span\",{staticClass:\"text-strike\"},[t._v(\"\\n                                                \"+t._s(e.price)+\"\\n                                            \")]),t._v(\"\\n                                            (-\"+t._s(e.discount)+\"%)\"),o(\"br\"),t._v(\"\\n                                            \"+t._s(e.finalPrice)+\" PHP\\n                                        \")]):o(\"span\",[t._v(t._s(e.price)+\" PHP\\n                                        \")])]),o(\"q-item-section\",{staticClass:\"text-white\",attrs:{side:\"\",caption:\"\"}},[o(\"q-btn\",{staticClass:\"ml-auto\",attrs:{flat:\"\",dense:\"\",rounded:\"\",icon:\"clear\",disabled:t.showProductAdd},on:{click:function(e){return t.removeProduct(i)}}},[o(\"q-tooltip\",[t._v(\"\\n                                                Remove Product\\n                                            \")])],1)],1)],1)})),o(\"q-btn\",{attrs:{dense:\"\",flat:\"\",\"no-caps\":\"\",icon:\"add\",label:\"Add Product\",disabled:t.showProductAdd},on:{click:function(e){return t.openProductPicker()}}})],2)]),o(\"q-item\",{staticClass:\"detail-field\"},[o(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                Memo\\n                            \")]),o(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"textarea\",rows:3,textarea:\"\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\"},model:{value:t.order.memo,callback:function(e){t.$set(t.order,\"memo\",e)},expression:\"order.memo\"}})],1),o(\"q-item\",{staticClass:\"detail-field\"},[o(\"span\",{staticClass:\"field-label\"},[t._v(\"Total Price\")]),t._v(\"\\n                            \"+t._s(t.orderTotalPrice)+\" PHP\\n                        \")])],1),o(\"q-separator\"),o(\"div\",{staticClass:\"q-pa-md\"},[o(\"q-btn\",{attrs:{label:\"Place Order\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading||this.order.products.length<1},scopedSlots:t._u([{key:\"loading\",fn:function(){return[o(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),o(\"div\",{staticClass:\"content-2\"}),o(\"ProductPicker\",{attrs:{showDlg:t.showProductAdd},on:{\"update:showDlg\":function(e){t.showProductAdd=e},\"update:show-dlg\":function(e){t.showProductAdd=e},hide:function(e){return t.onCloseDialog(t.val)}},scopedSlots:t._u([{key:\"product\",fn:function(){return[o(\"q-form\",{ref:\"selProductForm\"},[o(\"q-item\",{staticClass:\"productdlg-item\"},[o(\"q-select\",{staticClass:\"search-field\",attrs:{\"popup-content-class\":\"options-light\",options:t.productOptions,label:\"Search Product\",\"hide-dropdown-icon\":\"\",\"hide-bottom-space\":\"\",dark:\"\",\"options-dark\":\"\",outlined:\"\",\"use-input\":\"\",\"emit-value\":\"\",\"map-options\":\"\",debounce:\"250\",loading:t.pfilterLoading},on:{filter:t.pfilterFn,input:t.onSelectProduct},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[o(\"q-icon\",{attrs:{name:\"search\",color:\"white\"}})]},proxy:!0},{key:\"append\",fn:function(){return[t.pfilterLoading?t._e():o(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"close\"},on:{click:function(e){e.stopPropagation(),t.searchProduct=null,t.selectProduct=null}}})]},proxy:!0},{key:\"no-option\",fn:function(){return[o(\"q-item\",{staticClass:\"options-light\"},[o(\"q-item-section\",{staticClass:\"text-italic text-grey\"},[t._v(\"\\n                                        No products found.\\n                                    \")])],1)]},proxy:!0}]),model:{value:t.searchProduct,callback:function(e){t.searchProduct=e},expression:\"searchProduct\"}})],1),t.selectProduct?o(\"q-list\",{staticClass:\"productdlg-list\"},[o(\"q-item\",{staticClass:\"productdlg-item\"},[o(\"div\",{staticClass:\"attr-label text-grey-6\"},[t._v(\"\\n                                Name\\n                            \")]),o(\"div\",{staticClass:\"attr-value\"},[t._v(\"\\n                                \"+t._s(t.selectProduct.name)+\"\\n                            \")])]),o(\"q-item\",{staticClass:\"productdlg-item\"},[o(\"div\",{staticClass:\"attr-label text-grey-6\"},[t._v(\"\\n                                Qty. (MIN:\\n                                \"+t._s(t.selectProduct.minOrderQuantity)+\")\\n                            \")]),o(\"q-input\",{staticClass:\"attr-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",type:\"number\",min:t.selectProduct.minOrderQuantity},on:{input:t.onChgQty},model:{value:t.customizedProduct.quantity,callback:function(e){t.$set(t.customizedProduct,\"quantity\",e)},expression:\"customizedProduct.quantity\"}})],1),o(\"q-item\",{staticClass:\"productdlg-item\"},[o(\"div\",{staticClass:\"attr-label text-grey-6\"},[t._v(\"\\n                                Options\\n                            \")]),t._l(t.selectProduct.options,(function(e,i){return o(\"div\",{key:\"optKey-\"+i,staticClass:\"attr-value q-my-sm\"},[o(\"span\",{staticClass:\"capitalize option-label\"},[t._v(\"\\n                                    \"+t._s(e.attribute)+\"\\n                                \")]),o(\"q-select\",{attrs:{\"popup-content-class\":\"options-light\",dense:\"\",dark:\"\",outlined:\"\",options:t.toSelOptions(e.attribute,e.choices),\"lazy-rules\":\"\",rules:[function(t){return!!t}]},on:{input:function(e){return t.onSelOption(i)}},model:{value:t.customizedProduct.options[i],callback:function(e){t.$set(t.customizedProduct.options,i,e)},expression:\"customizedProduct.options[key]\"}}),t.isOtherSelected(t.customizedProduct.options[i])?o(\"q-input\",{attrs:{dense:\"\",dark:\"\",outlined:\"\",placeholder:\"Please specify\",\"lazy-rules\":\"\",rules:[function(t){return!!t}]},model:{value:t.customizedProduct.otherVal[i],callback:function(e){t.$set(t.customizedProduct.otherVal,i,e)},expression:\"\\n                                        customizedProduct.otherVal[key]\\n                                    \"}}):t._e()],1)}))],2),o(\"q-item\",{staticClass:\"productdlg-item\"},[o(\"div\",{staticClass:\"attr-label text-grey-6\"},[t._v(\"\\n                                Price (PHP)\\n                            \")]),o(\"div\",{staticClass:\"attr-value\"},[t._v(\"\\n                                \"+t._s(t.customizedProduct.price)+\"\\n                            \")])])],1):t._e()],1)]},proxy:!0},{key:\"actions\",fn:function(){return[o(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Cancel\"},on:{click:t.onCloseDialog}}),o(\"q-btn\",{attrs:{flat:\"\",label:\"Add\",color:\"primary\"},on:{click:t.onSetProduct}})]},proxy:!0}])})],1)])},r=[],s=(o(\"6bb1\"),o(\"6579\"),o(\"3d03\"),o(\"c973\")),n=o.n(s),a=o(\"1b67\"),c=o(\"392b\");let l=null,d=null,u=null;var p={name:\"OrderAdd\",components:{ProductPicker:a[\"a\"]},mixins:[c[\"a\"]],meta(){return{title:\"Add Order\"}},beforeCreate(){l=this.$RepositoryFactory.get(\"accounts\"),d=this.$RepositoryFactory.get(\"products\"),u=this.$RepositoryFactory.get(\"orders\")},created(){0},computed:{orderTotalPrice(){return this.order.products.length>0?this.order.products.reduce(((t,e)=>t+Number.parseInt(e.finalPrice?e.finalPrice:e.price)),0):0}},data(){return{showProductAdd:!1,loading:!1,pfilterLoading:!1,order:{products:[],customer:null,target:null,address:\"\",type:\"delivery\",memo:\"\"},deliveryTypes:[{label:\"For Delivery\",value:\"delivery\"},{label:\"For Pickup\",value:\"pickup\"}],customerList:[],productList:[],options:null,productOptions:null,searchProduct:null,selectProduct:null,customizedProduct:{id:-1,name:\"\",image:\"\",quantity:0,price:0,discounts:[],options:[],otherVal:[]}}},methods:{_isValidType(t){if(!(this.order.type&&this.deliveryTypes&&this.deliveryTypes.length>0))return\"Invalid type selected\";const e=this.deliveryTypes.find((t=>t.value===this.order.type));return!!e||\"Invalid type selected\"},_isValidDatetime(t){const e=/^\\d{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01]) (0?[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9])$/g;return e.test(t)||\"Invalid date & time format\"},filterFn(t,e,o){t&&\"\"!=t.trim()?e((()=>{const e=t.toLowerCase();this.options=this.customerList.filter((t=>t.label.toLowerCase().indexOf(e)>-1))})):o()},pfilterFn(t,e,o){var i=this;return n()((function*(){if(t&&\"\"!=t.trim())try{i.pfilterLoading=!0;const o=yield d.searchProducts(t);i.productList=o.products.slice(),e((()=>{i.productOptions=i.productList.map((t=>({label:t.name,value:t.id})))}))}catch(r){i.showNotif(!1,\"Error searching product/s.\"+r)}finally{i.pfilterLoading=!1}else o()}))()},removeProduct(t){this.$delete(this.order.products,t)},openProductPicker(t){this.selectProduct=null,this.searchProduct=null,this.showProductAdd=!0},clearSelection(){this.customizedProduct.id=-1,this.customizedProduct.name=\"\",this.customizedProduct.image=\"\",this.customizedProduct.options=[],this.customizedProduct.discounts=[],this.customizedProduct.otherVal=[],this.customizedProduct.quantity=0,this.customizedProduct.price=0},clearSelCustomer(){this.order.customer=null,this.order.products.forEach((t=>{t.discount=0,t.finalPrice=t.price}))},onCloseDialog(){},onSelectProduct(t){this.selectProduct=this.productList.find((e=>e.id==t)),this.clearSelection(),this.customizedProduct.id=this.selectProduct.id,this.customizedProduct.name=this.selectProduct.name,this.customizedProduct.image=this.selectProduct.images&&this.selectProduct.images.length>0?this.selectProduct.images[0].image:null,this.customizedProduct.quantity=this.selectProduct.minOrderQuantity,this.customizedProduct.discounts=this.selectProduct.discount,this.calcCustomizationPrice()},finalizePrice(){const t=this.customerList.find((t=>t.value==this.order.customer));t&&this.order.products.forEach((e=>{const o=e.discounts.filter((e=>e.target==t.type||\"all\"==e.target));if(o&&o.length>0){const t=Math.max.apply(Math,o.map((function(t){return t.percent}))),i=(e.price-e.price*t/100).toFixed(0);e.discount=t,e.finalPrice=i}}))},onSelCustomer(t){this.finalizePrice()},onSetProduct(t){this.$refs.selProductForm.validate().then((t=>{t&&this.selectProduct&&(this.order.products.push({product:this.customizedProduct.id,name:this.customizedProduct.name,image:this.customizedProduct.image,price:this.customizedProduct.price,quantity:this.customizedProduct.quantity,discount:0,finalPrice:this.customizedProduct.price,discounts:this.customizedProduct.discounts,options:this.customizedProduct.options.map(((t,e)=>({_option:t.key,_selected:t.value.value,otherValue:\"Other\"==t.value.value?this.customizedProduct.otherVal[e]:null})))}),this.finalizePrice(),this.showProductAdd=!1,this.clearSelection())}))},onChgQty(t){this.calcCustomizationPrice()},onSelOption(t){this.calcCustomizationPrice()},calcCustomizationPrice(){const t=(t,e)=>t+e.value.price;this.customizedProduct.price=this.customizedProduct.quantity*this.customizedProduct.options.reduce(t,this.selectProduct.basePrice)},toSelOptions(t,e){return e?e.map((e=>({label:e.value+(e.price>=0?`(+${e.price}  PHP)`:`(${e.price} PHP)`),value:e,key:t}))):e},isOtherSelected(t){return!!t&&\"Other\"==t.value.value},getAccounts(){var t=this;return n()((function*(){l.getAccountSelection().then((e=>{t.customerList=e})).catch((e=>{t.customerList=[]}))}))()},onSubmit:function(){var t=n()((function*(t){this.loading=!0;try{if(this.order.products.length<1)throw\"No products selected\";yield u.placeOrder(this.order),this.showNotif(!0,\"Placed new Order.\"),this.returnToPageIndex(\"/orders\")}catch(e){this.showNotif(!1,\"Could not place the order. \")}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}()}},m=p,f=o(\"2877\"),h=o(\"7c52\"),g=o(\"eebe\"),P=o.n(g);function v(t){var e=o(\"2ec6\");e.__inject__&&e.__inject__(t);var i=o(\"df54\");i.__inject__&&i.__inject__(t)}var y=Object(f[\"a\"])(m,i,r,!1,v,\"251d6cf6\",\"c5b8aa54\");e[\"default\"]=y.exports;P()(y,\"components\",{QPage:h[\"QPage\"],QIcon:h[\"QIcon\"],QForm:h[\"QForm\"],QList:h[\"QList\"],QItem:h[\"QItem\"],QInput:h[\"QInput\"],QPopupProxy:h[\"QPopupProxy\"],QDate:h[\"QDate\"],QTime:h[\"QTime\"],QSelect:h[\"QSelect\"],QItemSection:h[\"QItemSection\"],QAvatar:h[\"QAvatar\"],QBadge:h[\"QBadge\"],QItemLabel:h[\"QItemLabel\"],QBtn:h[\"QBtn\"],QTooltip:h[\"QTooltip\"],QSeparator:h[\"QSeparator\"],QSpinnerGears:h[\"QSpinnerGears\"],QField:h[\"QField\"]}),P()(y,\"directives\",{ClosePopup:h[\"ClosePopup\"]})},eebe:function(t,e){t.exports=function(t,e,o){var i;if(\"function\"===typeof t.exports?(i=t.exports.extendOptions,i[e]=t.exports.options[e]):i=t.options,void 0===i[e])i[e]=o;else{var r=i[e];for(var s in o)void 0===r[s]&&(r[s]=o[s])}}},f204:function(t,e,o){\"use strict\";o.r(e);var i=o(\"10d0\"),r=o.n(i);for(var s in i)[\"default\"].indexOf(s)<0&&function(t){o.d(e,t,(function(){return i[t]}))}(s);e[\"default\"]=r.a}};",
    "js/30.d440a20d.js": "exports.ids=[30],exports.modules={4632:function(e,t,n){\"use strict\";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"q-layout\",[n(\"q-page-container\",[n(\"router-view\")],1)],1)},i=[],r={name:\"LoginLayout\",meta:{title:\"Sign In\",titleTemplate:e=>e+\" | LMC Admin Portal\",meta:{description:{name:\"description\",content:\"Content Management System for LMC\"},keywords:{name:\"keywords\",content:\"cms lmc admin portal\"},equiv:{\"http-equiv\":\"Content-Type\",content:\"text/html; charset=UTF-8\"}}}},a=r,s=n(\"2877\"),c=n(\"7c52\"),p=n(\"eebe\"),u=n.n(p),l=Object(s[\"a\"])(a,o,i,!1,null,null,\"2f1bd8fc\");t[\"default\"]=l.exports;u()(l,\"components\",{QLayout:c[\"QLayout\"],QPageContainer:c[\"QPageContainer\"]})},eebe:function(e,t){e.exports=function(e,t,n){var o;if(\"function\"===typeof e.exports?(o=e.exports.extendOptions,o[t]=e.exports.options[t]):o=e.options,void 0===o[t])o[t]=n;else{var i=o[t];for(var r in n)void 0===i[r]&&(i[r]=n[r])}}}};",
    "js/31.d082fe06.js": "exports.ids=[31],exports.modules={e51e:function(e,t,o){\"use strict\";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o(\"div\",{staticClass:\"fullscreen bg-blue text-white text-center q-pa-md flex flex-center\"},[e._ssrNode(\"<div>\",\"</div>\",[e._ssrNode('<div style=\"font-size: 30vh\">\\n            404\\n        </div><div class=\"text-h2\" style=\"opacity:.4\">\\n            Oops. Nothing here...\\n        </div>'),o(\"q-btn\",{staticClass:\"q-mt-xl\",attrs:{color:\"white\",\"text-color\":\"blue\",unelevated:\"\",to:\"/\",label:\"Go Home\",\"no-caps\":\"\"}})],2)])},s=[],r={name:\"Error404\"},i=r,l=o(\"2877\"),c=o(\"7c52\"),a=o(\"eebe\"),d=o.n(a),f=Object(l[\"a\"])(i,n,s,!1,null,null,\"0a6fcfc8\");t[\"default\"]=f.exports;d()(f,\"components\",{QBtn:c[\"QBtn\"]})},eebe:function(e,t){e.exports=function(e,t,o){var n;if(\"function\"===typeof e.exports?(n=e.exports.extendOptions,n[t]=e.exports.options[t]):n=e.options,void 0===n[t])n[t]=o;else{var s=n[t];for(var r in o)void 0===s[r]&&(s[r]=o[r])}}}};",
    "js/32.80f5f160.js": "exports.ids=[32],exports.modules={b816:function(e,t,n){\"use strict\";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[n(\"h3\",[e._v(\"Admin Accounts\")])])},s=[],r={name:\"UserIndex\",meta(){return{title:\"Admin Accounts\"}}},c=r,i=n(\"2877\"),a=n(\"7c52\"),p=n(\"eebe\"),u=n.n(p);function f(e){}var d=Object(i[\"a\"])(c,o,s,!1,f,\"4c38a87c\",\"404f81c2\");t[\"default\"]=d.exports;u()(d,\"components\",{QPage:a[\"QPage\"]})},eebe:function(e,t){e.exports=function(e,t,n){var o;if(\"function\"===typeof e.exports?(o=e.exports.extendOptions,o[t]=e.exports.options[t]):o=e.options,void 0===o[t])o[t]=n;else{var s=o[t];for(var r in n)void 0===s[r]&&(s[r]=n[r])}}}};",
    "js/4.16594511.js": "exports.ids=[4],exports.modules={\"10d0\":function(t,e){t.exports={}},\"1b67\":function(t,e,r){\"use strict\";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"q-dialog\",{attrs:{value:t.showDlg,seamless:\"\",persistent:\"\",square:\"\",position:\"right\"},on:{hide:t.emitClose}},[r(\"q-card\",{staticClass:\"product-dialog-content\",attrs:{dark:\"\"}},[r(\"q-card-section\",[r(\"div\",{staticClass:\"text-h6\"},[t._v(\"Select Product\")])]),t.productReady?r(\"q-card-section\",[t._t(\"product\")],2):t._e(),r(\"q-inner-loading\",{attrs:{dark:\"\",showing:t.dialogLoading}},[r(\"q-spinner-tail\",{attrs:{size:\"50px\",color:\"white\"}})],1),t.productReady?r(\"q-card-actions\",{attrs:{align:\"right\"}},[t._t(\"actions\")],2):t._e()],1)],1)},i=[],a={name:\"ProductPicker\",props:{showDlg:{type:Boolean,required:!0,default:!1},dialogLoading:{type:Boolean,default:!1},productReady:{type:Boolean,default:!0}},methods:{emitClose(){this.$emit(\"update:showDlg\",!1)}}},o=a,n=r(\"2877\"),c=r(\"7c52\"),d=r(\"eebe\"),l=r.n(d);function u(t){var e=r(\"f204\");e.__inject__&&e.__inject__(t)}var p=Object(n[\"a\"])(o,s,i,!1,u,\"91e94df2\",\"39b2322b\");e[\"a\"]=p.exports;l()(p,\"components\",{QDialog:c[\"QDialog\"],QCard:c[\"QCard\"],QCardSection:c[\"QCardSection\"],QInnerLoading:c[\"QInnerLoading\"],QSpinnerTail:c[\"QSpinnerTail\"],QCardActions:c[\"QCardActions\"]})},\"392b\":function(t,e,r){\"use strict\";r(\"932c\"),r(\"bfab\");var s,i,a={data(){return{prevRoute:null}},beforeRouteEnter(t,e,r){r((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,r){return t.replace(new RegExp(e,\"g\"),r)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},o=a,n=r(\"2877\"),c=Object(n[\"a\"])(o,s,i,!1,null,null,\"18d4dfef\");e[\"a\"]=c.exports},\"6ab9\":function(t,e){t.exports={}},7609:function(t,e){t.exports={}},ad4c:function(t,e,r){\"use strict\";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[r(\"q-drawer\",{attrs:{\"content-class\":\"similar-orders\",side:\"right\",overlay:\"\",elevated:\"\"},model:{value:t.right,callback:function(e){t.right=e},expression:\"right\"}},[r(\"div\",{staticClass:\"flex q-mx-md q-mt-sm\"},[r(\"q-btn\",{staticClass:\"q-ml-auto\",attrs:{flat:\"\",dense:\"\",label:\"Hide\",\"no-ripple\":\"\"},on:{click:function(e){t.right=!t.right}}})],1),t.findingSimilar?r(\"div\",{staticClass:\"q-my-sm text-h6 text-grey-5 flex flex-center\"},[r(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):t.similarOrderList&&t.similarOrderList.length>0?r(\"div\",{staticClass:\"q-my-sm text-h6 text-grey-5 flex flex-center\"},[t._v(\"\\n            Similar Orders\\n        \")]):r(\"div\",{staticClass:\"q-my-sm text-h6 text-grey-5 flex flex-center\"},[t._v(\"\\n            No similar orders found.\\n        \")]),t._l(t.similarOrderList,(function(e,s){return r(\"q-card\",{key:\"similar-\"+s,staticClass:\"q-ma-md bg-grey-8\"},[r(\"q-card-section\",[r(\"div\",{staticClass:\"text-subtitle2\"},[t._v(t._s(e.ordernum))]),r(\"div\",{staticClass:\"text-subtitle2 capitalize\",class:\"ctext-\"+e.class,attrs:{square:\"\"}},[t._v(\"\\n                    \"+t._s(e.status)+\"\\n                \")]),r(\"div\",{staticClass:\"text-subtitle2\"},[t._v(t._s(e.customer))]),r(\"div\",{staticClass:\"text-subtitle2\"},[t._v(t._s(e.target))]),r(\"div\",{staticClass:\"text-subtitle2\"},[t._v(t._s(e.price))]),r(\"div\",{staticClass:\"text-grey-5\"},[t._v(t._s(e.similarity))])]),r(\"q-separator\"),r(\"q-card-actions\",{attrs:{dense:\"\",vertical:\"\"}},[r(\"q-btn\",{attrs:{dense:\"\",flat:\"\",to:\"/orders/process/\"+e.id}},[t._v(\"\\n                    Configure\\n                \")])],1)],1)}))],2),r(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[r(\"div\",{staticClass:\"heading-caption\"},[r(\"h6\",[t._v(\"Process Order\")]),r(\"br\"),r(\"p\",[t._v(\"\\n                You may view, edit, and change the order status and\\n                details.\"),r(\"br\"),t._v(\"\\n                CAUTION: Editing Customer and/or Products fields will place\\n                a NEW order with the updated price.\\n            \")])])]),r(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[r(\"div\",{staticClass:\"content-1\"},[r(\"div\",{staticClass:\"text-subtitle2 flex flex-center\"},[r(\"q-icon\",{staticClass:\"caption-icon q-mx-md\",attrs:{name:\"account_circle\"}}),t._v(\"Order Info (\"+t._s(t.order.data.ordernum)+\")\\n\\n                \"),r(\"q-btn\",{staticClass:\"q-ml-auto q-mr-sm\",attrs:{\"no-ripple\":\"\",flat:\"\",align:\"right\",label:(t.right?\"Hide\":\"Find\")+\" Similar\"},on:{click:t.findSimilar}})],1),r(\"div\",[r(\"q-form\",{attrs:{disabled:t.order.hasError||t.order.loading||t.isReplacedStatus},on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)}}},[t.order.loading?r(\"q-item\",{staticClass:\"q-mt-sm\"},[r(\"q-spinner\",{attrs:{color:\"white\",size:\"2em\"}})],1):r(\"q-list\",{staticClass:\"detail-list\",attrs:{separator:\"\"}},[r(\"q-item\",{staticClass:\"detail-field\"},[r(\"span\",{staticClass:\"field-label\"},[t._v(\"Status\")]),r(\"q-select\",{staticClass:\"field-value\",attrs:{options:t.orderStatusList,dark:\"\",dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",\"options-dense\":\"\",\"emit-value\":\"\",\"map-options\":\"\",\"lazy-rules\":\"\",rules:[t._isValidStatus]},model:{value:t.order.data.status,callback:function(e){t.$set(t.order.data,\"status\",e)},expression:\"order.data.status\"}})],1),t.isReplacedStatus?r(\"q-item\",{staticClass:\"detail-field\"},[r(\"span\",{staticClass:\"field-label\"},[t._v(\"Replaced by:\")]),t._v(\"\\n                            \"+t._s(t.order.data.replacedBy.ordernum)+\"\\n                        \")]):t._e(),r(\"q-item\",{staticClass:\"detail-field\"},[r(\"span\",{staticClass:\"field-label\"},[t._v(\"Target Date\")]),r(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()},t._isValidDatetime]},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[r(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"event\"}},[r(\"q-popup-proxy\",{ref:\"qDateProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[r(\"q-date\",{attrs:{dark:\"\",\"no-unset\":\"\",mask:\"YYYY-MM-DD HH:mm\"},on:{input:function(){return t.$refs.qDateProxyS.hide()}},model:{value:t.order.data.target,callback:function(e){t.$set(t.order.data,\"target\",e)},expression:\"order.data.target\"}})],1)],1)]},proxy:!0},{key:\"append\",fn:function(){return[r(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"access_time\"}},[r(\"q-popup-proxy\",{ref:\"qTimeProxyS\",attrs:{\"transition-show\":\"scale\",\"transition-hide\":\"scale\"}},[r(\"q-time\",{attrs:{dark:\"\",mask:\"YYYY-MM-DD HH:mm\",format24h:\"\"},on:{input:function(){return t.$refs.qTimeProxyS.hide()}},model:{value:t.order.data.target,callback:function(e){t.$set(t.order.data,\"target\",e)},expression:\"order.data.target\"}})],1)],1)]},proxy:!0}]),model:{value:t.order.data.target,callback:function(e){t.$set(t.order.data,\"target\",e)},expression:\"order.data.target\"}})],1),r(\"q-item\",{staticClass:\"detail-field\"},[r(\"span\",{staticClass:\"field-label\"},[t._v(\"Delivery Type\")]),r(\"q-select\",{staticClass:\"field-value\",attrs:{options:t.deliveryTypes,dark:\"\",dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",\"options-dense\":\"\",\"emit-value\":\"\",\"map-options\":\"\",\"lazy-rules\":\"\",rules:[t._isValidType]},model:{value:t.order.data.type,callback:function(e){t.$set(t.order.data,\"type\",e)},expression:\"order.data.type\"}})],1),r(\"transition\",{attrs:{name:\"fade\"}},[\"delivery\"==t.order.data.type?r(\"q-item\",{staticClass:\"detail-field\"},[r(\"span\",{staticClass:\"field-label\"},[t._v(\"Address\")]),r(\"q-input\",{staticClass:\"field-value\",attrs:{dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t&&\"\"!==t.trim()}]},model:{value:t.order.data.address,callback:function(e){t.$set(t.order.data,\"address\",e)},expression:\"order.data.address\"}})],1):t._e()],1),r(\"q-item\",{staticClass:\"detail-field\"},[r(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                Memo\\n                            \")]),r(\"q-input\",{staticClass:\"field-value\",attrs:{type:\"textarea\",rows:3,textarea:\"\",dense:\"\",outlined:\"\",dark:\"\",\"hide-bottom-space\":\"\"},model:{value:t.order.data.memo,callback:function(e){t.$set(t.order.data,\"memo\",e)},expression:\"order.data.memo\"}})],1),t.isReplacedStatus?t._e():r(\"q-item\",{staticClass:\"detail-field\"},[r(\"span\",{staticClass:\"field-label\"},[t._v(\"Replace Items\")]),r(\"q-toggle\",{attrs:{\"checked-icon\":\"check\",color:\"green-4\",\"unchecked-icon\":\"clear\",label:t.confirmEditProduct?\"Yes\":\"No\"},on:{input:t.onToggleReplace},model:{value:t.confirmEditProduct,callback:function(e){t.confirmEditProduct=e},expression:\"confirmEditProduct\"}})],1),r(\"q-item\",{staticClass:\"detail-field\",class:{\"cursor-not-allowed bg-grey-8\":!t.confirmEditProduct}},[r(\"span\",{staticClass:\"field-label\"},[t._v(\"Customer\")]),r(\"q-select\",{staticClass:\"field-value customer-select\",class:{\"no-pointer-events\":!t.confirmEditProduct},attrs:{disabled:!t.confirmEditProduct,options:t.options,\"hide-dropdown-icon\":\"\",\"hide-bottom-space\":\"\",dark:\"\",dense:\"\",\"options-dense\":\"\",outlined:\"\",\"use-input\":\"\",\"emit-value\":\"\",\"map-options\":\"\",\"lazy-rules\":\"\",rules:[function(t){return null!==t}]},on:{filter:t.filterFn,input:t.onSelCustomer},scopedSlots:t._u([{key:\"append\",fn:function(){return[r(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"close\"},on:{click:function(e){return e.stopPropagation(),t.clearSelCustomer(e)}}})]},proxy:!0},{key:\"no-option\",fn:function(){return[r(\"q-item\",[r(\"q-item-section\",{staticClass:\"text-italic text-grey\"},[t._v(\"\\n                                            No customer account found.\\n                                        \")])],1)]},proxy:!0}]),model:{value:t.order.data.customer,callback:function(e){t.$set(t.order.data,\"customer\",e)},expression:\"order.data.customer\"}})],1),r(\"q-item\",{staticClass:\"detail-field product-field\",class:{\"cursor-not-allowed bg-grey-8\":!t.confirmEditProduct}},[r(\"span\",{staticClass:\"field-label\"},[t._v(\"\\n                                Products\\n                            \")]),r(\"div\",{staticClass:\"product-details q-py-sm\"},[t._l(t.order.data.products,(function(e,s){return r(\"q-item\",{key:\"product-\"+s,staticClass:\"product-item\"},[r(\"q-item-section\",{attrs:{side:\"\"}},[r(\"q-avatar\",{attrs:{rounded:\"\",size:\"64px\"}},[r(\"img\",{attrs:{src:e.image?t.resolveAssetsUrl(e.image):\"https://dummyimage.com/64x64/363636/ffffff.png&text=No+Img\"}}),r(\"q-badge\",{staticClass:\"q-pt-xs\",attrs:{floating:\"\",color:\"teal\"}},[t._v(\"\\n                                                \"+t._s(e.quantity)+\"\\n                                            \")])],1)],1),r(\"q-item-section\",[r(\"q-item-label\",{staticClass:\"product-name\"},[t._v(\"\\n                                            \"+t._s(e.name)+\"\\n                                        \")]),r(\"q-item-label\",{staticClass:\"text-grey-4 product-name\",attrs:{caption:\"\"}},t._l(e.options,(function(e){return r(\"span\",{key:\"key-\"+e._option},[t._v(\"\\n                                                \"+t._s(e._option+\": \"+e._selected)+\"\\n                                                \"),null!=e.otherValue?r(\"span\",[t._v(\"(\"+t._s(e.otherValue)+\") \")]):t._e(),r(\"br\")])})),0)],1),r(\"q-item-section\",{staticClass:\"text-white\",attrs:{side:\"\"}},[e.discount>0?r(\"span\",[r(\"span\",{staticClass:\"text-strike\"},[t._v(\"\\n                                                \"+t._s(e.price)+\"\\n                                            \")]),t._v(\"\\n                                            (-\"+t._s(e.discount)+\"%)\"),r(\"br\"),t._v(\"\\n                                            \"+t._s(e.finalPrice)+\" PHP\\n                                        \")]):r(\"span\",[t._v(t._s(e.price)+\" PHP\\n                                        \")])]),r(\"q-item-section\",{staticClass:\"action-buttons text-white\",attrs:{side:\"\"}},[r(\"q-btn\",{attrs:{flat:\"\",dense:\"\",rounded:\"\",icon:\"clear\",disabled:!t.confirmEditProduct||t.showPicker},on:{click:function(e){return t.removeProduct(s)}}},[r(\"q-tooltip\",[t._v(\"\\n                                                Remove\\n                                            \")])],1)],1)],1)})),r(\"q-btn\",{attrs:{dense:\"\",flat:\"\",\"no-caps\":\"\",icon:\"add\",label:\"Add Product\",disabled:!t.confirmEditProduct||t.showPicker},on:{click:function(e){return t.openProductPicker()}}})],2)]),r(\"q-item\",{staticClass:\"detail-field\"},[r(\"span\",{staticClass:\"field-label\"},[t._v(\"Total Price\")]),t._v(\"\\n                            \"+t._s(t.orderTotalPrice)+\" PHP\\n                        \")])],1),r(\"q-separator\"),r(\"div\",{staticClass:\"q-pa-md\"},[r(\"q-btn\",{attrs:{label:\"Save\",type:\"submit\",color:\"primary\",loading:t.loading,disable:t.loading},scopedSlots:t._u([{key:\"loading\",fn:function(){return[r(\"q-spinner-gears\")]},proxy:!0}])})],1)],1)],1)]),r(\"div\",{staticClass:\"content-2\"}),r(\"ProductPicker\",{attrs:{showDlg:t.showPicker},on:{\"update:showDlg\":function(e){t.showPicker=e},\"update:show-dlg\":function(e){t.showPicker=e},hide:function(e){return t.onCloseDialog(t.val)}},scopedSlots:t._u([{key:\"product\",fn:function(){return[r(\"q-form\",{ref:\"selProductForm\"},[r(\"q-item\",{staticClass:\"productdlg-item\"},[r(\"q-select\",{staticClass:\"search-field\",attrs:{\"popup-content-class\":\"options-light\",options:t.productOptions,label:\"Search Product\",\"hide-dropdown-icon\":\"\",\"hide-bottom-space\":\"\",dark:\"\",\"options-dark\":\"\",outlined:\"\",\"use-input\":\"\",\"emit-value\":\"\",\"map-options\":\"\",debounce:\"250\",loading:t.pfilterLoading},on:{filter:t.pfilterFn,input:t.onSelectProduct},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[r(\"q-icon\",{attrs:{name:\"search\",color:\"white\"}})]},proxy:!0},{key:\"append\",fn:function(){return[t.pfilterLoading?t._e():r(\"q-icon\",{staticClass:\"cursor-pointer\",attrs:{name:\"close\"},on:{click:function(e){e.stopPropagation(),t.searchProduct=null,t.selectProduct=null}}})]},proxy:!0},{key:\"no-option\",fn:function(){return[r(\"q-item\",{staticClass:\"options-light\"},[r(\"q-item-section\",{staticClass:\"text-italic text-grey\"},[t._v(\"\\n                                        No products found.\\n                                    \")])],1)]},proxy:!0}]),model:{value:t.searchProduct,callback:function(e){t.searchProduct=e},expression:\"searchProduct\"}})],1),t.selectProduct?r(\"q-list\",{staticClass:\"productdlg-list\"},[r(\"q-item\",{staticClass:\"productdlg-item\"},[r(\"div\",{staticClass:\"attr-label text-grey-6\"},[t._v(\"\\n                                Name\\n                            \")]),r(\"div\",{staticClass:\"attr-value\"},[t._v(\"\\n                                \"+t._s(t.selectProduct.name)+\"\\n                            \")])]),r(\"q-item\",{staticClass:\"productdlg-item\"},[r(\"div\",{staticClass:\"attr-label text-grey-6\"},[t._v(\"\\n                                Qty. (MIN:\\n                                \"+t._s(t.selectProduct.minOrderQuantity)+\")\\n                            \")]),r(\"q-input\",{staticClass:\"attr-value\",attrs:{dense:\"\",outlined:\"\",\"hide-bottom-space\":\"\",dark:\"\",type:\"number\",min:t.selectProduct.minOrderQuantity},on:{input:t.onChgQty},model:{value:t.customizedProduct.quantity,callback:function(e){t.$set(t.customizedProduct,\"quantity\",e)},expression:\"customizedProduct.quantity\"}})],1),r(\"q-item\",{staticClass:\"productdlg-item\"},[r(\"div\",{staticClass:\"attr-label text-grey-6\"},[t._v(\"\\n                                Options\\n                            \")]),t._l(t.selectProduct.options,(function(e,s){return r(\"div\",{key:\"optKey-\"+s,staticClass:\"attr-value q-my-sm\"},[r(\"span\",{staticClass:\"capitalize option-label\"},[t._v(\"\\n                                    \"+t._s(e.attribute)+\"\\n                                \")]),r(\"q-select\",{attrs:{\"popup-content-class\":\"options-light\",dense:\"\",dark:\"\",outlined:\"\",options:t.toSelOptions(e.attribute,e.choices),\"lazy-rules\":\"\",rules:[function(t){return!!t}]},on:{input:function(e){return t.onSelOption(s)}},model:{value:t.customizedProduct.options[s],callback:function(e){t.$set(t.customizedProduct.options,s,e)},expression:\"customizedProduct.options[key]\"}}),t.isOtherSelected(t.customizedProduct.options[s])?r(\"q-input\",{attrs:{dense:\"\",dark:\"\",outlined:\"\",placeholder:\"Please specify\",\"lazy-rules\":\"\",rules:[function(t){return!!t}]},model:{value:t.customizedProduct.otherVal[s],callback:function(e){t.$set(t.customizedProduct.otherVal,s,e)},expression:\"\\n                                        customizedProduct.otherVal[key]\\n                                    \"}}):t._e()],1)}))],2),r(\"q-item\",{staticClass:\"productdlg-item\"},[r(\"div\",{staticClass:\"attr-label text-grey-6\"},[t._v(\"\\n                                Price (PHP)\\n                            \")]),r(\"div\",{staticClass:\"attr-value\"},[t._v(\"\\n                                \"+t._s(t.customizedProduct.price)+\"\\n                            \")])])],1):t._e()],1)]},proxy:!0},{key:\"actions\",fn:function(){return[r(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Cancel\"},on:{click:t.onCloseDialog}}),r(\"q-btn\",{attrs:{flat:\"\",label:\"Add\",color:\"primary\"},on:{click:t.onSetProduct}})]},proxy:!0}])})],1)],1)},i=[],a=(r(\"6bb1\"),r(\"6579\"),r(\"bfab\"),r(\"3d03\"),r(\"ded3\")),o=r.n(a),n=r(\"c973\"),c=r.n(n),d=r(\"1b67\"),l=r(\"392b\");let u=null,p=null,m=null;var h={name:\"OrderProcess\",components:{ProductPicker:d[\"a\"]},mixins:[l[\"a\"]],watch:{$route(t,e){t.path!==e.path&&this.getOrderDetails()}},meta(){return{title:\"Process Order\"}},beforeCreate(){u=this.$RepositoryFactory.get(\"accounts\"),p=this.$RepositoryFactory.get(\"products\"),m=this.$RepositoryFactory.get(\"orders\")},created(){0},mounted(){this.getOrderDetails()},computed:{isReplacedStatus(){return!(!this.orderStatuses||this.orderStatuses.length<1)&&this.orderStatuses.some((t=>t.value==this.order.data.status&&\"replaced\"==t.label.toLowerCase()))},orderStatusList(){return this.isReplacedStatus?this.orderStatuses:this.orderStatuses.filter((t=>\"replaced\"!==t.label.toLowerCase()))},orderTotalPrice(){return this.order.data.products.length>0?this.order.data.products.reduce(((t,e)=>t+Number.parseInt(e.finalPrice?e.finalPrice:e.price)),0):0},similarOrderList(){return this.findingSimilar||this.similarOrders&&this.similarOrders.length<1?[]:this.similarOrders}},data(){return{right:!1,loading:!1,pfilterLoading:!1,findingSimilar:!1,showPicker:!1,confirmEditProduct:!1,order:{loading:!0,hasError:!1,data:{ordernum:\"\",products:[],total:0,customer:null,target:null,address:\"\",type:\"delivery\",status:null}},orderBackup:{},orderStatuses:[],deliveryTypes:[{label:\"For Delivery\",value:\"delivery\"},{label:\"For Pickup\",value:\"pickup\"}],customerList:[],options:null,productOptions:null,searchProduct:null,selectProduct:null,customizedProduct:{id:-1,name:\"\",image:\"\",quantity:0,price:0,discounts:[],options:[],otherVal:[]},similarOrders:[]}},methods:{_isValidStatus(t){if(!(this.order.data.status&&this.orderStatuses&&this.orderStatuses.length>0))return\"Invalid status selected\";const e=this.orderStatuses.find((t=>t.value===this.order.data.status));return!!e||\"Invalid status selected\"},_isValidType(t){if(!(this.order.data.type&&this.deliveryTypes&&this.deliveryTypes.length>0))return\"Invalid type selected\";const e=this.deliveryTypes.find((t=>t.value===this.order.data.type));return!!e||\"Invalid type selected\"},_isValidDatetime(t){const e=/^\\d{4}-(0?[1-9]|1[0-2])-(0?[1-9]|[12][0-9]|3[01]) (0?[0-9]|1[0-9]|2[0-3]):([0-9]|[0-5][0-9])$/g;return e.test(t)||\"Invalid date & time format\"},filterFn(t,e,r){t&&\"\"!=t.trim()?e((()=>{const e=t.toLowerCase();this.options=this.customerList.filter((t=>t.label.toLowerCase().indexOf(e)>-1))})):r()},pfilterFn(t,e,r){var s=this;return c()((function*(){if(t&&\"\"!=t.trim())try{s.pfilterLoading=!0;const r=yield p.searchProducts(t);s.productList=r.products.slice(),e((()=>{s.productOptions=s.productList.map((t=>({label:t.name,value:t.id})))}))}catch(i){s.showNotif(!1,\"Error searching product/s.\"+i)}finally{s.pfilterLoading=!1}else r()}))()},onCloseDialog(){},finalizePrice(){const t=this.customerList.find((t=>t.value==this.order.data.customer));t&&this.order.data.products.forEach((e=>{const r=e.discounts.filter((e=>e.target==t.type||\"all\"==e.target));if(r&&r.length>0){const t=Math.max.apply(Math,r.map((function(t){return t.percent}))),s=(e.price-e.price*t/100).toFixed(0);e.discount=t,e.finalPrice=s}}))},onSelCustomer(t){this.finalizePrice()},onSelectProduct(t){this.selectProduct=this.productList.find((e=>e.id==t)),this.clearSelection(),this.customizedProduct.id=this.selectProduct.id,this.customizedProduct.name=this.selectProduct.name,this.customizedProduct.image=this.selectProduct.images&&this.selectProduct.images.length>0?this.selectProduct.images[0].image:null,this.customizedProduct.quantity=this.selectProduct.minOrderQuantity,this.customizedProduct.discounts=this.selectProduct.discount,this.calcCustomizationPrice()},removeProduct(t){this.$delete(this.order.data.products,t)},openProductPicker(t){this.selectProduct=null,this.searchProduct=null,this.showPicker=!0},clearSelection(){this.customizedProduct.id=-1,this.customizedProduct.name=\"\",this.customizedProduct.image=\"\",this.customizedProduct.options=[],this.customizedProduct.discounts=[],this.customizedProduct.otherVal=[],this.customizedProduct.quantity=0,this.customizedProduct.price=0},clearSelCustomer(){this.order.data.customer=null,this.order.data.products.forEach((t=>{t.discount=0,t.finalPrice=t.price}))},onSetProduct(t){this.$refs.selProductForm.validate().then((t=>{t&&this.selectProduct&&(this.order.data.products.push({product:this.customizedProduct.id,name:this.customizedProduct.name,image:this.customizedProduct.image,price:this.customizedProduct.price,quantity:this.customizedProduct.quantity,discount:0,finalPrice:this.customizedProduct.price,discounts:this.customizedProduct.discounts,options:this.customizedProduct.options.map(((t,e)=>({_option:t.key,_selected:t.value.value,otherValue:\"Other\"==t.value.value?this.customizedProduct.otherVal[e]:null})))}),this.finalizePrice(),this.showPicker=!1,this.clearSelection())}))},onChgQty(t){this.calcCustomizationPrice()},onSelOption(t){this.calcCustomizationPrice()},calcCustomizationPrice(){const t=(t,e)=>t+e.value.price;this.customizedProduct.price=this.customizedProduct.quantity*this.customizedProduct.options.reduce(t,this.selectProduct.basePrice)},toSelOptions(t,e){return e?e.map((e=>({label:e.value+(e.price>=0?`(+${e.price}  PHP)`:`(${e.price} PHP)`),value:e,key:t}))):e},isOtherSelected(t){return!!t&&\"Other\"==t.value.value},onToggleReplace(t,e){t?this.showNotif(!0,\"CAUTION: Saving changes will place a NEW Order.\"):(this.options=this.customerList.slice(),this.order.data.customer=this.orderBackup.customer,this.order.data.products=this.orderBackup.products.slice())},getOrderDetails(){var t=this;return c()((function*(){try{t.order.loading=!0;const e=yield m.getOrder(t.$route.params.id);t.order.data=o()({},e),t.orderBackup.customer=e.customer,t.orderBackup.products=e.products.slice()}catch(e){t.showNotif(!1,\"Could not retrieve order details. \"),t.order.hasError=!0}finally{t.order.loading=!1}}))()},getAccounts(){var t=this;return c()((function*(){u.getAccountSelection().then((e=>{t.customerList=e.slice(),t.options=e.slice()})).catch((e=>{t.customerList=[]}))}))()},getOrderStatuses(){var t=this;return c()((function*(){m.getStatusSelection().then((e=>{t.orderStatuses=e})).catch((e=>{t.orderStatuses=[]}))}))()},findSimilar(){var t=this;return c()((function*(){t.right=!t.right,t.right&&(t.findingSimilar=!0,m.findSimilarOrders(t.$route.params.id,o()({},t.order.data)).then((e=>{t.similarOrders=e.slice(),t.findingSimilar=!1})).catch((e=>{t.findingSimilar=!1})))}))()},onSubmit:function(){var t=c()((function*(t){this.loading=!0;try{if(this.order.data.products.length<1)throw\"No products selected\";this.confirmEditProduct?(yield m.replaceOrder(this.$route.params.id,o()({},this.order.data)),this.showNotif(!0,\"Successfully placed a new order.\")):(yield m.updateOrder(this.$route.params.id,o()({},this.order.data)),this.showNotif(!0,\"Updated Order details.\")),this.returnToPageIndex(\"/orders\")}catch(e){this.showNotif(!1,\"Could not process the order. \")}finally{this.loading=!1}}));return function(e){return t.apply(this,arguments)}}(),goTo(t){this.$router.replace(t).catch((t=>{})),this.getOrderDetails()}}},f=h,g=r(\"2877\"),v=r(\"7c52\"),y=r(\"eebe\"),P=r.n(y);function _(t){var e=r(\"e260\");e.__inject__&&e.__inject__(t);var s=r(\"ed9a\");s.__inject__&&s.__inject__(t)}var C=Object(g[\"a\"])(f,s,i,!1,_,\"15914f7e\",\"2b286324\");e[\"default\"]=C.exports;P()(C,\"components\",{QPage:v[\"QPage\"],QDrawer:v[\"QDrawer\"],QBtn:v[\"QBtn\"],QSpinner:v[\"QSpinner\"],QCard:v[\"QCard\"],QCardSection:v[\"QCardSection\"],QSeparator:v[\"QSeparator\"],QCardActions:v[\"QCardActions\"],QIcon:v[\"QIcon\"],QForm:v[\"QForm\"],QItem:v[\"QItem\"],QList:v[\"QList\"],QSelect:v[\"QSelect\"],QInput:v[\"QInput\"],QPopupProxy:v[\"QPopupProxy\"],QDate:v[\"QDate\"],QTime:v[\"QTime\"],QToggle:v[\"QToggle\"],QItemSection:v[\"QItemSection\"],QAvatar:v[\"QAvatar\"],QBadge:v[\"QBadge\"],QItemLabel:v[\"QItemLabel\"],QTooltip:v[\"QTooltip\"],QSpinnerGears:v[\"QSpinnerGears\"],QField:v[\"QField\"]}),P()(C,\"directives\",{ClosePopup:v[\"ClosePopup\"]})},e260:function(t,e,r){\"use strict\";r.r(e);var s=r(\"6ab9\"),i=r.n(s);for(var a in s)[\"default\"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return s[t]}))}(a);e[\"default\"]=i.a},ed9a:function(t,e,r){\"use strict\";r.r(e);var s=r(\"7609\"),i=r.n(s);for(var a in s)[\"default\"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return s[t]}))}(a);e[\"default\"]=i.a},eebe:function(t,e){t.exports=function(t,e,r){var s;if(\"function\"===typeof t.exports?(s=t.exports.extendOptions,s[e]=t.exports.options[e]):s=t.options,void 0===s[e])s[e]=r;else{var i=s[e];for(var a in r)void 0===i[a]&&(i[a]=r[a])}}},f204:function(t,e,r){\"use strict\";r.r(e);var s=r(\"10d0\"),i=r.n(s);for(var a in s)[\"default\"].indexOf(a)<0&&function(t){r.d(e,t,(function(){return s[t]}))}(a);e[\"default\"]=i.a}};",
    "js/5.001072da.js": "exports.ids=[5],exports.modules={\"1dc9\":function(t,e){t.exports={}},\"1ff9\":function(t,e,n){\"use strict\";n.r(e);var a=n(\"a81b\"),r=n.n(a);for(var s in a)[\"default\"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e[\"default\"]=r.a},\"392b\":function(t,e,n){\"use strict\";n(\"932c\"),n(\"bfab\");var a,r,s={data(){return{prevRoute:null}},beforeRouteEnter(t,e,n){n((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,n){return t.replace(new RegExp(e,\"g\"),n)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},o=s,i=n(\"2877\"),l=Object(i[\"a\"])(o,a,r,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},\"72a8\":function(t,e){t.exports={}},\"8d68\":function(t,e,n){\"use strict\";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[n(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[n(\"div\",{staticClass:\"heading-caption\"},[n(\"h6\",[t._v(\"Orders\")]),n(\"br\"),n(\"p\",[t._v(\"\\n                The following is a list of orders for the selected month.\\n            \")])]),n(\"div\",{staticClass:\"heading-stat-1 text-caption\"},[t._v(\"\\n            Today\\n            \"),n(\"br\"),n(\"p\",{staticClass:\"text-subtitle2\"},[t._v(\"\\n                \"+t._s(t.today.human)+\"\\n            \")])])]),n(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[n(\"div\",{staticClass:\"content-1\"},[n(\"div\",{staticClass:\"filter-orders\"},[n(\"q-btn\",{staticClass:\"q-mr-sm\",attrs:{flat:\"\",round:\"\",icon:\"post_add\",to:\"/orders/add\"}},[n(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Add Order\")])],1),n(\"q-input\",{attrs:{readonly:\"\",debounce:\"500\",dark:\"\",dense:\"\",outlined:\"\"},on:{click:function(e){t.showSelect=!0}},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{attrs:{name:\"event\"}})]},proxy:!0}]),model:{value:t.selectedMonth,callback:function(e){t.selectedMonth=e},expression:\"selectedMonth\"}})],1),n(\"div\",{staticClass:\"order-stats q-ml-sm\"},[t.loadingStats?n(\"p\",{staticClass:\"text-subtitle2\"},[n(\"q-spinner\",{attrs:{color:\"white\",size:\"2.45em\"}})],1):n(\"q-breadcrumbs\",{attrs:{separator:\"|\",\"active-color\":\"white\"}},t._l(t.orderStats,(function(e){return n(\"q-breadcrumbs-el\",{key:e.name,class:{\"active-stat\":e.count>0},attrs:{label:e.name+\"(\"+e.count+\")\"},on:{click:function(n){return t.onSelectStatus(e)}}})})),1)],1)]),n(\"div\",{staticClass:\"content-2\"},[n(\"q-table\",{ref:\"ordersTbl\",staticClass:\"orders-table\",attrs:{square:\"\",\"row-key\":\"id\",data:t.data,columns:t.columns,pagination:t.pagination,\"rows-per-page-options\":[0],loading:t.loading,\"binary-state-sort\":\"\"},on:{\"update:pagination\":[function(e){t.pagination=e},t.onChgPage],request:t.onRequest},scopedSlots:t._u([{key:\"body\",fn:function(e){return[n(\"q-tr\",{attrs:{props:e}},[n(\"q-td\",{key:\"ordernum\",attrs:{props:e}},[t._v(\"\\n                            \"+t._s(e.row.ordernum)+\"\\n                        \")]),n(\"q-td\",{key:\"status\",attrs:{props:e}},[n(\"q-chip\",{class:\"chip-\"+e.row.class,attrs:{square:\"\"}},[t._v(\"\\n                                \"+t._s(e.row.status)+\"\\n                            \")])],1),n(\"q-td\",{key:\"target\",attrs:{props:e}},[t._v(\"\\n                            \"+t._s(e.row.target)+\"\\n                        \")]),n(\"q-td\",{key:\"customer\",staticClass:\"capitalize\",attrs:{props:e}},[t._v(\"\\n                            \"+t._s(e.row.customer)+\" (\"+t._s(e.row.type)+\")\\n                        \")]),n(\"q-td\",{key:\"total\",attrs:{props:e}},[t._v(\"\\n                            \"+t._s(e.row.total)+\"\\n                        \")]),n(\"q-td\",[n(\"q-btn\",{staticClass:\"q-mr-sm\",attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"build\",to:\"/orders/process/\"+e.row.id}},[n(\"q-tooltip\",{attrs:{anchor:\"center right\",self:\"center left\",offset:[10,10]}},[t._v(\"Configure\")])],1)],1)],1)]}}])})],1)]),n(\"q-dialog\",{attrs:{seamless:\"\",persistent:\"\"},model:{value:t.showSelect,callback:function(e){t.showSelect=e},expression:\"showSelect\"}},[n(\"q-card\",{attrs:{dark:\"\"}},[n(\"MonthPicker\",{attrs:{color:\"primary\",locale:\"en-US\",min:t.minDate,max:t.maxDate},model:{value:t.selDate,callback:function(e){t.selDate=e},expression:\"selDate\"}}),n(\"q-card-actions\",{attrs:{align:\"right\"}},[n(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Cancel\"}}),n(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"OK\",color:\"primary\"},on:{click:t.onUpdateMonth}})],1)],1)],1)],1)},r=[],s=(n(\"6579\"),n(\"932c\"),n(\"bfab\"),n(\"c973\")),o=n.n(s),i=n(\"ded3\"),l=n.n(i),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"div\",{staticClass:\"monthpicker q-pa-md\"},[t._ssrNode('<div class=\"monthpicker-header\" data-v-f15c284e>',\"</div>\",[n(\"q-btn\",{attrs:{dense:\"\",disable:t.minClean&&t.minClean.getFullYear()===t.selectedMonth.getFullYear(),flat:\"\",icon:\"navigate_before\",round:\"\"},on:{click:function(e){return t.changeYear(!1)}}}),t._ssrNode(t._ssrEscape(\"\\n        \"+t._s(t.selectedMonth.getFullYear())+\"\\n        \")),n(\"q-btn\",{attrs:{dense:\"\",disable:t.maxClean&&t.maxClean.getFullYear()===t.selectedMonth.getFullYear(),flat:\"\",icon:\"navigate_next\",round:\"\"},on:{click:function(e){return t.changeYear(!0)}}})],2),t._ssrNode('<div class=\"monthpicker-months\" data-v-f15c284e>',\"</div>\",t._l(t.displayedMonths,(function(e){return n(\"q-btn\",{key:e.getTime(),class:{\"monthpicker-current\":t.isCurrentMonth(e)},attrs:{color:t.isSelectedMonth(e)?t.color:\"\",disable:t.isDisabled(e),flat:!t.isSelectedMonth(e),label:e.toLocaleDateString(t.localeArray,{month:\"short\"}),\"no-caps\":\"\",\"no-outline\":\"\",\"no-ripple\":\"\",\"text-color\":t.isCurrentMonth(e)&&!t.isSelectedMonth(e)?t.color:\"\"},on:{click:function(n){return t.selectMonth(e)}}})})),1)])},u=[],d={name:\"MonthPicker\",computed:{displayedMonths(){let t=[];for(let e=0;e<12;e++)t.push(new Date(this.selectedMonth.getFullYear(),e));return t},localeArray(){return this.locale?[this.locale]:[]},maxClean(){return this.max?this.cleanDate(this.max):null},minClean(){return this.min?this.cleanDate(this.min):null}},data(){return{interval:null,selectedMonth:null}},destroyed(){clearInterval(this.interval)},methods:{changeYear(t){if(t){let t=new Date(this.selectedMonth);t.setMonth(t.getMonth()+12),this.maxClean&&t>this.maxClean&&(t=this.maxClean),this.selectMonth(t)}else{let t=new Date(this.selectedMonth);t.setMonth(t.getMonth()-12),this.minClean&&t<this.minClean&&(t=this.minClean),this.selectMonth(t)}},cleanDate(t){let e=t?new Date(t):new Date;return e.setDate(1),e.setHours(0,0,0,0),e},currentMonth(){return this.cleanDate()},isCurrentMonth(t){return this.currentMonth().getTime()===t.getTime()},isDisabled(t){let e=!1;return(this.minClean&&t<this.minClean||this.maxClean&&t>this.maxClean)&&(e=!0),e},isSelectedMonth(t){return!!this.selectedMonth&&this.selectedMonth.getTime()===t.getTime()},selectMonth(t){this.$emit(\"input\",t)}},props:[\"color\",\"locale\",\"max\",\"min\",\"value\"],watch:{value:{handler(t){this.selectedMonth=t?this.cleanDate(t):this.currentMonth()},immediate:!0}}},h=d,p=n(\"2877\"),g=n(\"7c52\"),f=n(\"eebe\"),m=n.n(f);function b(t){var e=n(\"fbcc\");e.__inject__&&e.__inject__(t)}var v=Object(p[\"a\"])(h,c,u,!1,b,\"f15c284e\",\"4fa60808\"),y=v.exports;m()(v,\"components\",{QBtn:g[\"QBtn\"]});var D=n(\"392b\");let _=null;var M={name:\"OrderIndex\",components:{MonthPicker:y},mixins:[D[\"a\"]],meta(){return{title:\"Orders\"}},beforeCreate(){_=this.$RepositoryFactory.get(\"orders\")},created(){if(this.$route.query.m){let t=Date.parse(this.$route.query.m);0==isNaN(t)&&(this.selDate=new Date(t),this.selectedMonth=this.selDate.getFullYear()+\"-\"+(this.selDate.getMonth()+1).toString().padStart(2,0))}this.$route.query.s&&(this.search=this.$route.query.s),this.$route.query.p&&!isNaN(this.$route.query.p)&&(this.pagination.page=Number.parseInt(this.$route.query.p))},mounted(){this.onRequest({pagination:this.pagination,filter:void 0})},data(){const t=new Date;return{loading:!1,loadingStats:!0,showSelect:!1,minDate:new Date(2010,0),maxDate:new Date(t.getFullYear()+10,11),selDate:t,search:\"\",selectedMonth:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0),orderStats:[],pagination:{sortBy:\"target\",descending:!0,page:1,rowsPerPage:9},columns:[{name:\"ordernum\",field:\"ordernum\",required:!0,label:\"Order#\",align:\"left\",sortable:!0},{name:\"status\",field:\"status\",align:\"left\",label:\"Status\",sortable:!0},{name:\"target\",field:\"target\",align:\"left\",label:\"Target Date\",sortable:!0},{name:\"customer\",field:\"customer\",align:\"left\",label:\"Customer\",sortable:!0},{name:\"total\",field:\"total\",align:\"left\",label:\"Total\",sortable:!0},{name:\"action\",align:\"left\",label:\"Action\"}],data:[],original:[]}},methods:{selOrders:function(t){},filterMonth(t){let e=Object.assign({},this.$route.query,{m:t});t||delete e.m,delete e.p,this.$router.replace({query:e}).catch((t=>{})),this.getOrderStats(),this.$refs[\"ordersTbl\"].requestServerInteraction({pagination:l()(l()({},this.pagination),{},{page:1})})},onUpdateMonth:function(t){this.selDate&&(this.selectedMonth=this.selDate.getFullYear()+\"-\"+(this.selDate.getMonth()+1).toString().padStart(2,0),this.filterMonth(this.selectedMonth))},onSelectStatus(t){if(t&&t.count){this.search=t.name;let e=Object.assign({},this.$route.query,{s:t.name});t.name||delete e.s,delete e.p,this.$router.replace({query:e}).catch((t=>{})),this.$refs[\"ordersTbl\"].requestServerInteraction({pagination:l()(l()({},this.pagination),{},{page:1})})}},onChgPage(t){let e=Object.assign({},this.$route.query,{p:t.page});t||delete e.p,this.$router.replace({query:e}).catch((t=>{}))},getOrderStats(){var t=this;return o()((function*(){t.loadingStats=!0;try{const e=yield _.getOrderStats(t.selDate);t.orderStats=e.slice()}catch(e){t.showNotif(!1,\"Could not retrieve order statistics. \")}finally{t.loadingStats=!1}}))()},onRequest(t){var e=this;return o()((function*(){e.loading=!0;try{const n=yield _.getOrders(e.selDate,e.search);e.original=n,e.data=e.original.slice(),e.pagination.page=t.pagination.page}catch(n){e.showNotif(!1,\"Could not retrieve list of orders. \")}finally{e.loading=!1}}))()}}},q=M;function S(t){var e=n(\"1ff9\");e.__inject__&&e.__inject__(t);var a=n(\"b52d\");a.__inject__&&a.__inject__(t)}var C=Object(p[\"a\"])(q,a,r,!1,S,\"7f733fd0\",\"1cab7172\");e[\"default\"]=C.exports;m()(C,\"components\",{QPage:g[\"QPage\"],QBtn:g[\"QBtn\"],QTooltip:g[\"QTooltip\"],QInput:g[\"QInput\"],QIcon:g[\"QIcon\"],QSpinner:g[\"QSpinner\"],QBreadcrumbs:g[\"QBreadcrumbs\"],QBreadcrumbsEl:g[\"QBreadcrumbsEl\"],QTable:g[\"QTable\"],QTr:g[\"QTr\"],QTd:g[\"QTd\"],QChip:g[\"QChip\"],QDialog:g[\"QDialog\"],QCard:g[\"QCard\"],QCardActions:g[\"QCardActions\"]}),m()(C,\"directives\",{ClosePopup:g[\"ClosePopup\"]})},a81b:function(t,e){t.exports={}},b52d:function(t,e,n){\"use strict\";n.r(e);var a=n(\"72a8\"),r=n.n(a);for(var s in a)[\"default\"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e[\"default\"]=r.a},eebe:function(t,e){t.exports=function(t,e,n){var a;if(\"function\"===typeof t.exports?(a=t.exports.extendOptions,a[e]=t.exports.options[e]):a=t.options,void 0===a[e])a[e]=n;else{var r=a[e];for(var s in n)void 0===r[s]&&(r[s]=n[s])}}},fbcc:function(t,e,n){\"use strict\";n.r(e);var a=n(\"1dc9\"),r=n.n(a);for(var s in a)[\"default\"].indexOf(s)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(s);e[\"default\"]=r.a}};",
    "js/6.7f11b408.js": "exports.ids=[6],exports.modules={\"097c\":function(t,e,n){\"use strict\";n.r(e);var a=n(\"8e9c\"),o=n.n(a);for(var r in a)[\"default\"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e[\"default\"]=o.a},\"392b\":function(t,e,n){\"use strict\";n(\"932c\"),n(\"bfab\");var a,o,r={data(){return{prevRoute:null}},beforeRouteEnter(t,e,n){n((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,n){return t.replace(new RegExp(e,\"g\"),n)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},s=r,i=n(\"2877\"),c=Object(i[\"a\"])(s,a,o,!1,null,null,\"18d4dfef\");e[\"a\"]=c.exports},\"5e8b\":function(t,e){t.exports={}},8705:function(t,e,n){\"use strict\";n.r(e);var a=n(\"5e8b\"),o=n.n(a);for(var r in a)[\"default\"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return a[t]}))}(r);e[\"default\"]=o.a},\"8e9c\":function(t,e){t.exports={}},\"96ec\":function(t,e,n){\"use strict\";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"q-dialog\",{attrs:{value:t.showDlg,square:\"\"},on:{hide:t.emitClose}},[n(\"q-card\",{attrs:{dark:\"\"}},[n(\"q-card-section\",{staticClass:\"row items-center\"},[t._t(\"avatar\"),n(\"span\",{staticClass:\"q-ml-sm\"},[t._t(\"message\")],2)],2),n(\"q-card-actions\",{attrs:{align:\"right\"}},[t._t(\"actions\")],2)],1)],1)},o=[],r={name:\"ConfirmDialog\",props:{showDlg:{type:Boolean,required:!0,default:!1}},methods:{emitClose(){this.$emit(\"update:showDlg\",!1)}}},s=r,i=n(\"2877\"),c=n(\"7c52\"),l=n(\"eebe\"),u=n.n(l),d=Object(i[\"a\"])(s,a,o,!1,null,null,\"1b680276\");e[\"a\"]=d.exports;u()(d,\"components\",{QDialog:c[\"QDialog\"],QCard:c[\"QCard\"],QCardSection:c[\"QCardSection\"],QCardActions:c[\"QCardActions\"]})},b4d9:function(t,e,n){\"use strict\";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[n(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[n(\"div\",{staticClass:\"heading-caption\"},[n(\"h6\",[t._v(\"Store Announcements\")]),n(\"br\"),n(\"p\",[t._v(\"\\n                The following is a list web store announcements. \"),n(\"br\"),t._v(\"\\n                Note: Only the latest entry will be visible on the Store if\\n                there are overlapping dates.\\n            \")])]),n(\"div\",{staticClass:\"heading-stat-1 text-caption\"},[t._v(\"\\n            Today\\n            \"),n(\"br\"),n(\"p\",{staticClass:\"text-subtitle2\"},[t._v(\"\\n                \"+t._s(t.today.human)+\"\\n            \")])])]),n(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[n(\"div\",{staticClass:\"content-1\"},[n(\"q-btn\",{staticClass:\"q-mr-sm\",attrs:{flat:\"\",round:\"\",icon:\"post_add\",to:\"/announcements/add\"}},[n(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Add Announcement\")])],1),n(\"q-input\",{staticClass:\"filter-search-box\",attrs:{type:\"search\",placeholder:\"Search text\",debounce:\"500\",dark:\"\",dense:\"\",outlined:\"\"},on:{input:t.searchInput},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{attrs:{name:\"search\"}})]},proxy:!0},{key:\"append\",fn:function(){return[n(\"transition\",{attrs:{name:\"fade\"}},[n(\"q-icon\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"\"!=t.search,expression:\"search != ''\"}],staticClass:\"cursor-pointer\",attrs:{name:\"close\"},on:{click:t.searchClear}})],1)]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),n(\"div\",{staticClass:\"content-2\"},[n(\"q-table\",{staticClass:\"announcement-table\",attrs:{grid:\"\",\"row-key\":\"id\",data:t.data,columns:t.columns,\"rows-per-page-options\":[0],pagination:t.pagination,filter:t.search,loading:t.loading},on:{\"update:pagination\":[function(e){t.pagination=e},t.onChgPage],request:t.onRequest},scopedSlots:t._u([{key:\"item\",fn:function(e){return[n(\"div\",{staticClass:\"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-4\"},[n(\"q-card\",{staticClass:\"bg-gray-alpha-2\"},[n(\"q-card-section\",[t._v(\"\\n                                \"+t._s(e.row.message)+\"\\n                            \")]),n(\"q-separator\"),n(\"q-list\",{attrs:{dense:\"\"}},t._l(e.cols.filter((function(t){return\"message\"!==t.name})),(function(e){return n(\"q-item\",{key:e.name},[n(\"q-item-section\",[n(\"q-item-label\",[t._v(\"\\n                                            \"+t._s(e.label)+\"\\n                                        \")])],1),n(\"q-item-section\",{attrs:{side:\"\"}},[n(\"q-item-label\",{staticClass:\"text-primary\"},[t._v(\"\\n                                            \"+t._s(e.value)+\"\\n                                        \")])],1)],1)})),1),n(\"q-separator\"),n(\"q-card-actions\",{attrs:{align:\"right\"}},[n(\"q-btn\",{attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"build\",to:\"/announcements/edit/\"+e.row.id}},[n(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Edit Announcement\\n                                    \")])],1),n(\"q-btn\",{attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"delete\"},on:{click:function(n){return t.confirmDel(e.row.id)}}},[n(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Delete Announcement\\n                                    \")])],1)],1)],1)],1)]}}])}),n(\"ConfirmDialog\",{attrs:{showDlg:t.showDlg},on:{\"update:showDlg\":function(e){t.showDlg=e},\"update:show-dlg\":function(e){t.showDlg=e}},scopedSlots:t._u([{key:\"avatar\",fn:function(){return[n(\"q-avatar\",{attrs:{icon:\"delete_forever\",color:\"red-5\",\"text-color\":\"white\"}})]},proxy:!0},{key:\"message\",fn:function(){return[t._v(\"\\n                    Continue on removing this announcement?\"),n(\"br\"),t._v(\"\\n                    Warning: This action is permanent.\\n                \")]},proxy:!0},{key:\"actions\",fn:function(){return[n(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Cancel\"}}),n(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Remove\",color:\"red-5\"},on:{click:t.onRemove}})]},proxy:!0}])})],1)])])},o=[],r=(n(\"6579\"),n(\"bfab\"),n(\"c973\")),s=n.n(r),i=n(\"96ec\"),c=n(\"392b\");let l=null;var u={name:\"AnnoucementIndex\",components:{ConfirmDialog:i[\"a\"]},mixins:[c[\"a\"]],meta(){return{title:\"Store Announcements\"}},beforeCreate(){l=this.$RepositoryFactory.get(\"announcements\")},created(){this.$route.query.s&&(this.search=this.$route.query.s),this.$route.query.p&&!isNaN(this.$route.query.p)&&(this.pagination.page=Number.parseInt(this.$route.query.p))},mounted(){this.onRequest({pagination:this.pagination,filter:void 0})},data(){return{announcementList:[],search:\"\",searchReq:null,loading:!1,showDlg:!1,toDelID:-1,pagination:{sortBy:\"start\",descending:!0,page:1,rowsPerPage:9},columns:[{name:\"message\",field:\"message\",label:\"Message\",sortable:!0,required:!0},{name:\"start\",field:\"start\",label:\"Start\",sortable:!0},{name:\"end\",field:\"end\",label:\"End\",sortable:!0}],data:[],original:[]}},methods:{searchClear(t){let e=Object.assign({},this.$route.query);delete e.s,this.$router.replace({query:e}).catch((t=>{})),this.search=\"\"},searchInput(t){let e=Object.assign({},this.$route.query,{s:t});t||delete e.s,this.$router.replace({query:e}).catch((t=>{}))},onChgPage(t){let e=Object.assign({},this.$route.query,{p:t.page});t||delete e.p,this.$router.replace({query:e}).catch((t=>{}))},onRequest(t){var e=this;return s()((function*(){e.loading=!0;try{const t=yield l.getAllAnnouncements();e.original=t,e.data=e.original.slice()}catch(t){e.showNotif(!1,\"Could not retrieve announcement details. \")}finally{e.loading=!1}}))()},onRemove(){var t=this;return s()((function*(){if(-1!==t.toDelID)try{yield l.deleteAnnouncement(t.toDelID);t.showNotif(!0,\"Successfully removed announcement.\"),t.$delete(t.data,t.data.findIndex((e=>e.id==t.toDelID))),t.toDelID=-1}catch(e){t.showNotif(!1,\"Could not delete item. \")}}))()},confirmDel(t){this.showDlg=!0,this.toDelID=t}}},d=u,p=n(\"2877\"),h=n(\"7c52\"),m=n(\"eebe\"),g=n.n(m);function f(t){var e=n(\"097c\");e.__inject__&&e.__inject__(t);var a=n(\"8705\");a.__inject__&&a.__inject__(t)}var v=Object(p[\"a\"])(d,a,o,!1,f,\"104fe983\",\"78608ec6\");e[\"default\"]=v.exports;g()(v,\"components\",{QPage:h[\"QPage\"],QBtn:h[\"QBtn\"],QTooltip:h[\"QTooltip\"],QInput:h[\"QInput\"],QIcon:h[\"QIcon\"],QTable:h[\"QTable\"],QCard:h[\"QCard\"],QCardSection:h[\"QCardSection\"],QSeparator:h[\"QSeparator\"],QList:h[\"QList\"],QItem:h[\"QItem\"],QItemSection:h[\"QItemSection\"],QItemLabel:h[\"QItemLabel\"],QCardActions:h[\"QCardActions\"],QAvatar:h[\"QAvatar\"]}),g()(v,\"directives\",{ClosePopup:h[\"ClosePopup\"]})},eebe:function(t,e){t.exports=function(t,e,n){var a;if(\"function\"===typeof t.exports?(a=t.exports.extendOptions,a[e]=t.exports.options[e]):a=t.options,void 0===a[e])a[e]=n;else{var o=a[e];for(var r in n)void 0===o[r]&&(o[r]=n[r])}}}};",
    "js/7.a8735875.js": "exports.ids=[7],exports.modules={\"0391\":function(t,e){t.exports={}},2484:function(t,e,o){\"use strict\";o.r(e);var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[o(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[o(\"div\",{staticClass:\"heading-caption\"},[o(\"h6\",[t._v(\"Product Categories\")]),o(\"br\"),o(\"p\",[t._v(\"\\n                The following are product categories visible in the\\n                webstore.\\n            \")])])]),o(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[o(\"div\",{staticClass:\"content-1\"},[o(\"q-btn\",{staticClass:\"q-mr-sm\",attrs:{flat:\"\",round:\"\",icon:\"post_add\",to:\"/categories/add\"}},[o(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Add New Category\")])],1),o(\"q-input\",{staticClass:\"filter-search-box\",attrs:{type:\"search\",placeholder:\"Search category\",debounce:\"500\",dark:\"\",dense:\"\",outlined:\"\"},on:{input:t.searchInput},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[o(\"q-icon\",{attrs:{name:\"search\"}})]},proxy:!0},{key:\"append\",fn:function(){return[o(\"transition\",{attrs:{name:\"fade\"}},[o(\"q-icon\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"\"!=t.search,expression:\"search != ''\"}],staticClass:\"cursor-pointer\",attrs:{name:\"close\"},on:{click:t.searchClear}})],1)]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),o(\"div\",{staticClass:\"content-2\"},[o(\"q-table\",{staticClass:\"categories-table\",attrs:{square:\"\",\"row-key\":\"id\",data:t.data,columns:t.columns,pagination:t.pagination,\"rows-per-page-options\":[0],loading:t.loading,filter:t.search,\"binary-state-sort\":\"\"},on:{\"update:pagination\":[function(e){t.pagination=e},t.onChgPage],request:t.onRequest},scopedSlots:t._u([{key:\"body\",fn:function(e){return[o(\"q-tr\",{attrs:{props:e}},[o(\"q-td\",{key:\"category\",attrs:{props:e}},[t._v(t._s(e.row.category))]),o(\"q-td\",{key:\"created\",attrs:{props:e}},[t._v(t._s(e.row.created))]),o(\"q-td\",{key:\"count\",attrs:{props:e}},[t._v(t._s(e.row.count))]),o(\"q-td\",[o(\"q-btn\",{staticClass:\"q-mr-sm\",attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"build\",to:\"/categories/edit/\"+e.row.id}},[o(\"q-tooltip\",{attrs:{anchor:\"center right\",self:\"center left\",offset:[10,10]}},[t._v(\"Edit Category\")])],1),o(\"q-btn\",{attrs:{dense:\"\",flat:\"\",round:\"\",disabled:e.row.count>0,icon:\"delete\"},on:{click:function(o){return t.confirmDel(e.row.id)}}},[o(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Delete Category\\n                                \")])],1)],1)],1)]}}])}),o(\"ConfirmDialog\",{attrs:{showDlg:t.showDlg},on:{\"update:showDlg\":function(e){t.showDlg=e},\"update:show-dlg\":function(e){t.showDlg=e}},scopedSlots:t._u([{key:\"avatar\",fn:function(){return[o(\"q-avatar\",{attrs:{icon:\"delete_forever\",color:\"red-5\",\"text-color\":\"white\"}})]},proxy:!0},{key:\"message\",fn:function(){return[t._v(\"\\n                    Continue on removing this category?\"),o(\"br\"),t._v(\"\\n                    Warning: Can not delete categories with products.\\n                \")]},proxy:!0},{key:\"actions\",fn:function(){return[o(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Cancel\"}}),o(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Remove\",color:\"red-5\"},on:{click:t.onRemove}})]},proxy:!0}])})],1)])])},n=[],r=(o(\"6579\"),o(\"bfab\"),o(\"c973\")),i=o.n(r),s=o(\"96ec\"),c=o(\"392b\");let l=null;var u={name:\"CategoriesIndex\",components:{ConfirmDialog:s[\"a\"]},mixins:[c[\"a\"]],meta(){return{title:\"Product Categories\"}},beforeCreate(){l=this.$RepositoryFactory.get(\"categories\")},created(){this.$route.query.s&&(this.search=this.$route.query.s),this.$route.query.p&&!isNaN(this.$route.query.p)&&(this.pagination.page=Number.parseInt(this.$route.query.p))},mounted(){this.onRequest({pagination:this.pagination,filter:void 0})},data(){return{categoryList:[],search:\"\",searchReq:null,loading:!1,showDlg:!1,toDelID:-1,pagination:{sortBy:\"created\",descending:!0,page:1,rowsPerPage:9},columns:[{name:\"category\",field:\"category\",label:\"Category\",align:\"left\",sortable:!0,required:!0},{name:\"created\",field:\"created\",align:\"left\",label:\"Created\",sortable:!0},{name:\"count\",field:\"count\",align:\"left\",label:\"No. of Products\",sortable:!0},{name:\"actions\",align:\"left\",label:\"Actions\"}],data:[],original:[]}},methods:{searchClear(t){let e=Object.assign({},this.$route.query);delete e.s,this.$router.replace({query:e}).catch((t=>{})),this.search=\"\"},searchInput(t){let e=Object.assign({},this.$route.query,{s:t});t||delete e.s,this.$router.replace({query:e}).catch((t=>{}))},onChgPage(t){let e=Object.assign({},this.$route.query,{p:t.page});t||delete e.p,this.$router.replace({query:e}).catch((t=>{}))},onRequest(t){var e=this;return i()((function*(){e.loading=!0;try{const t=yield l.getAllCategories();e.original=t,e.data=e.original.slice()}catch(t){e.showNotif(!1,\"Could not retrieve categories. \")}finally{e.loading=!1}}))()},onRemove(){var t=this;return i()((function*(){if(-1!==t.toDelID)try{yield l.deleteCategory(t.toDelID);t.showNotif(!0,\"Successfully removed category.\"),t.$delete(t.data,t.data.findIndex((e=>e.id==t.toDelID))),t.toDelID=-1}catch(e){t.showNotif(!1,\"Could not delete item. \")}}))()},confirmDel(t){this.showDlg=!0,this.toDelID=t}}},d=u,p=o(\"2877\"),g=o(\"7c52\"),f=o(\"eebe\"),h=o.n(f);function m(t){var e=o(\"d93f\");e.__inject__&&e.__inject__(t);var a=o(\"d0cd\");a.__inject__&&a.__inject__(t)}var y=Object(p[\"a\"])(d,a,n,!1,m,\"b7444de4\",\"ac01d084\");e[\"default\"]=y.exports;h()(y,\"components\",{QPage:g[\"QPage\"],QBtn:g[\"QBtn\"],QTooltip:g[\"QTooltip\"],QInput:g[\"QInput\"],QIcon:g[\"QIcon\"],QTable:g[\"QTable\"],QTr:g[\"QTr\"],QTd:g[\"QTd\"],QAvatar:g[\"QAvatar\"]}),h()(y,\"directives\",{ClosePopup:g[\"ClosePopup\"]})},\"392b\":function(t,e,o){\"use strict\";o(\"932c\"),o(\"bfab\");var a,n,r={data(){return{prevRoute:null}},beforeRouteEnter(t,e,o){o((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,o){return t.replace(new RegExp(e,\"g\"),o)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},i=r,s=o(\"2877\"),c=Object(s[\"a\"])(i,a,n,!1,null,null,\"18d4dfef\");e[\"a\"]=c.exports},\"745a\":function(t,e){t.exports={}},\"96ec\":function(t,e,o){\"use strict\";var a=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o(\"q-dialog\",{attrs:{value:t.showDlg,square:\"\"},on:{hide:t.emitClose}},[o(\"q-card\",{attrs:{dark:\"\"}},[o(\"q-card-section\",{staticClass:\"row items-center\"},[t._t(\"avatar\"),o(\"span\",{staticClass:\"q-ml-sm\"},[t._t(\"message\")],2)],2),o(\"q-card-actions\",{attrs:{align:\"right\"}},[t._t(\"actions\")],2)],1)],1)},n=[],r={name:\"ConfirmDialog\",props:{showDlg:{type:Boolean,required:!0,default:!1}},methods:{emitClose(){this.$emit(\"update:showDlg\",!1)}}},i=r,s=o(\"2877\"),c=o(\"7c52\"),l=o(\"eebe\"),u=o.n(l),d=Object(s[\"a\"])(i,a,n,!1,null,null,\"1b680276\");e[\"a\"]=d.exports;u()(d,\"components\",{QDialog:c[\"QDialog\"],QCard:c[\"QCard\"],QCardSection:c[\"QCardSection\"],QCardActions:c[\"QCardActions\"]})},d0cd:function(t,e,o){\"use strict\";o.r(e);var a=o(\"0391\"),n=o.n(a);for(var r in a)[\"default\"].indexOf(r)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(r);e[\"default\"]=n.a},d93f:function(t,e,o){\"use strict\";o.r(e);var a=o(\"745a\"),n=o.n(a);for(var r in a)[\"default\"].indexOf(r)<0&&function(t){o.d(e,t,(function(){return a[t]}))}(r);e[\"default\"]=n.a},eebe:function(t,e){t.exports=function(t,e,o){var a;if(\"function\"===typeof t.exports?(a=t.exports.extendOptions,a[e]=t.exports.options[e]):a=t.options,void 0===a[e])a[e]=o;else{var n=a[e];for(var r in o)void 0===n[r]&&(n[r]=o[r])}}}};",
    "js/8.cb514fac.js": "exports.ids=[8],exports.modules={\"392b\":function(t,e,a){\"use strict\";a(\"932c\"),a(\"bfab\");var n,o,r={data(){return{prevRoute:null}},beforeRouteEnter(t,e,a){a((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,a){return t.replace(new RegExp(e,\"g\"),a)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},i=r,s=a(\"2877\"),l=Object(s[\"a\"])(i,n,o,!1,null,null,\"18d4dfef\");e[\"a\"]=l.exports},5930:function(t,e,a){\"use strict\";a.r(e);var n=a(\"b0be\"),o=a.n(n);for(var r in n)[\"default\"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e[\"default\"]=o.a},\"81a6\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[a(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[a(\"div\",{staticClass:\"heading-caption\"},[a(\"h6\",[t._v(\"Comments\")]),a(\"br\"),a(\"p\",[t._v(\"The following are product comments posted by customers.\")])])]),a(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[a(\"div\",{staticClass:\"content-1\"},[a(\"q-input\",{staticClass:\"filter-search-box\",attrs:{type:\"search\",placeholder:\"Search product\",debounce:\"500\",dark:\"\",dense:\"\",outlined:\"\"},on:{input:t.searchInput},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[a(\"q-icon\",{attrs:{name:\"search\"}})]},proxy:!0},{key:\"append\",fn:function(){return[a(\"transition\",{attrs:{name:\"fade\"}},[a(\"q-icon\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"\"!=t.search,expression:\"search != ''\"}],staticClass:\"cursor-pointer\",attrs:{name:\"close\"},on:{click:t.searchClear}})],1)]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),a(\"div\",{staticClass:\"content-2\"},[a(\"q-table\",{staticClass:\"comments-table\",attrs:{grid:\"\",\"row-key\":\"id\",data:t.data,columns:t.columns,\"rows-per-page-options\":[0],pagination:t.pagination,filter:t.search,loading:t.loading},on:{\"update:pagination\":[function(e){t.pagination=e},t.onChgPage],request:t.onRequest},scopedSlots:t._u([{key:\"item\",fn:function(e){return[a(\"div\",{staticClass:\"q-pa-xs col-xs-12 col-sm-6 col-md-4 col-lg-4\"},[a(\"q-card\",{staticClass:\"bg-gray-alpha-2\"},[a(\"q-card-section\",{staticClass:\"comment-text\"},[t._v(\"\\n                                \"+t._s(e.row.text)+\"\\n                            \")]),a(\"q-separator\"),a(\"q-list\",{attrs:{dense:\"\"}},t._l(e.cols.filter((function(t){return\"text\"!==t.name})),(function(e){return a(\"q-item\",{key:e.name},[a(\"q-item-section\",[a(\"q-item-label\",[t._v(t._s(e.label))])],1),a(\"q-item-section\",{attrs:{side:\"\"}},[a(\"q-item-label\",{staticClass:\"text-primary\"},[t._v(t._s(e.value))])],1)],1)})),1),a(\"q-separator\"),a(\"q-card-actions\",{attrs:{align:\"right\"}},[a(\"q-btn\",{attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"reply\",to:\"/comments/reply/\"+e.row.id}},[a(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Reply to comment\\n                                    \")])],1),a(\"q-btn\",{attrs:{dense:\"\",flat:\"\",round:\"\",icon:e.row.flagged?\"flag\":\"outlined_flag\"},on:{click:function(a){return t.confirmAction(e.row.id,!e.row.flagged)}}},[a(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"\\n                                        \"+t._s(e.row.flagged?\"Unflag\":\"Flag\")+\"\\n                                        comment\\n                                    \")])],1)],1)],1)],1)]}}])}),a(\"ConfirmDialog\",{attrs:{showDlg:t.showDlg},on:{\"update:showDlg\":function(e){t.showDlg=e},\"update:show-dlg\":function(e){t.showDlg=e}},scopedSlots:t._u([{key:\"avatar\",fn:function(){return[a(\"q-avatar\",{attrs:{icon:\"report_problem\",color:\"red-5\",\"text-color\":\"white\"}})]},proxy:!0},t.targetFlagVal?{key:\"message\",fn:function(){return[t._v(\"\\n                    This action will mark this comment as \"),a(\"u\",[t._v(\"FLAGGED\")]),t._v(\".\\n                    \"),a(\"br\"),t._v(\"\\n                    Comment will no longer be visible in the product page.\\n                \")]},proxy:!0}:{key:\"message\",fn:function(){return[t._v(\"\\n                    This action will \"),a(\"u\",[t._v(\"UNFLAG\")]),t._v(\" this comment. \"),a(\"br\"),t._v(\"\\n                    Comment will be visible again in the product page.\\n                \")]},proxy:!0},{key:\"actions\",fn:function(){return[a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Cancel\"}}),a(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Proceed\",color:\"red-5\"},on:{click:t.onProceed}})]},proxy:!0}],null,!0)})],1)])])},o=[],r=(a(\"6579\"),a(\"bfab\"),a(\"c973\")),i=a.n(r),s=a(\"96ec\"),l=a(\"392b\");let c=null;var u={name:\"CommentIndex\",components:{ConfirmDialog:s[\"a\"]},mixins:[l[\"a\"]],meta(){return{title:\"Product Comments\"}},beforeCreate(){c=this.$RepositoryFactory.get(\"comments\")},created(){this.$route.query.s&&(this.search=this.$route.query.s),this.$route.query.p&&!isNaN(this.$route.query.p)&&(this.pagination.page=Number.parseInt(this.$route.query.p))},mounted(){this.onRequest({pagination:this.pagination,filter:void 0})},data(){return{announcementList:[],search:\"\",searchReq:null,loading:!1,showDlg:!1,toFlagID:-1,targetFlagVal:!1,pagination:{sortBy:\"posted\",descending:!0,page:1,rowsPerPage:9},columns:[{name:\"text\",field:\"text\",label:\"Text\",align:\"left\",required:!0,sortable:!0},{name:\"posted\",field:\"posted\",align:\"left\",label:\"Posted\",sortable:!0},{name:\"product\",field:\"product\",align:\"left\",label:\"Product\",sortable:!0},{name:\"author\",field:\"author\",align:\"left\",label:\"Author\",sortable:!0}],data:[],original:[]}},methods:{searchClear(t){let e=Object.assign({},this.$route.query);delete e.s,this.$router.replace({query:e}).catch((t=>{})),this.search=\"\"},searchInput(t){let e=Object.assign({},this.$route.query,{s:t});t||delete e.s,this.$router.replace({query:e}).catch((t=>{}))},onChgPage(t){let e=Object.assign({},this.$route.query,{p:t.page});t||delete e.p,this.$router.replace({query:e}).catch((t=>{}))},onRequest(t){var e=this;return i()((function*(){e.loading=!0;try{const t=yield c.getComments();e.original=t,e.data=e.original.slice()}catch(t){e.showNotif(!1,\"Could not retrieve comments. \")}finally{e.loading=!1}}))()},confirmAction(t,e){this.targetFlagVal=e,this.showDlg=!0,this.toFlagID=t},onProceed(){var t=this;return i()((function*(){if(-1!==t.toFlagID)try{yield c.flagComment(t.toFlagID,t.targetFlagVal);t.showNotif(!0,t.targetFlagVal?\"Comment has been FLAGGED.\":\"Comment has been UNFLAGGED.\"),t.data.forEach((e=>{e.id===t.toFlagID&&(e.flagged=t.targetFlagVal)})),t.toFlagID=-1,t.targetFlagVal=!1}catch(e){t.showNotif(!1,\"Could not update item. \")}}))()}}},d=u,p=a(\"2877\"),g=a(\"7c52\"),m=a(\"eebe\"),f=a.n(m);function h(t){var e=a(\"fe3d\");e.__inject__&&e.__inject__(t);var n=a(\"5930\");n.__inject__&&n.__inject__(t)}var v=Object(p[\"a\"])(d,n,o,!1,h,\"77f3fc66\",\"47ca02d4\");e[\"default\"]=v.exports;f()(v,\"components\",{QPage:g[\"QPage\"],QInput:g[\"QInput\"],QIcon:g[\"QIcon\"],QTable:g[\"QTable\"],QCard:g[\"QCard\"],QCardSection:g[\"QCardSection\"],QSeparator:g[\"QSeparator\"],QList:g[\"QList\"],QItem:g[\"QItem\"],QItemSection:g[\"QItemSection\"],QItemLabel:g[\"QItemLabel\"],QCardActions:g[\"QCardActions\"],QBtn:g[\"QBtn\"],QTooltip:g[\"QTooltip\"],QAvatar:g[\"QAvatar\"]}),f()(v,\"directives\",{ClosePopup:g[\"ClosePopup\"]})},\"96ec\":function(t,e,a){\"use strict\";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"q-dialog\",{attrs:{value:t.showDlg,square:\"\"},on:{hide:t.emitClose}},[a(\"q-card\",{attrs:{dark:\"\"}},[a(\"q-card-section\",{staticClass:\"row items-center\"},[t._t(\"avatar\"),a(\"span\",{staticClass:\"q-ml-sm\"},[t._t(\"message\")],2)],2),a(\"q-card-actions\",{attrs:{align:\"right\"}},[t._t(\"actions\")],2)],1)],1)},o=[],r={name:\"ConfirmDialog\",props:{showDlg:{type:Boolean,required:!0,default:!1}},methods:{emitClose(){this.$emit(\"update:showDlg\",!1)}}},i=r,s=a(\"2877\"),l=a(\"7c52\"),c=a(\"eebe\"),u=a.n(c),d=Object(s[\"a\"])(i,n,o,!1,null,null,\"1b680276\");e[\"a\"]=d.exports;u()(d,\"components\",{QDialog:l[\"QDialog\"],QCard:l[\"QCard\"],QCardSection:l[\"QCardSection\"],QCardActions:l[\"QCardActions\"]})},b0be:function(t,e){t.exports={}},eebe:function(t,e){t.exports=function(t,e,a){var n;if(\"function\"===typeof t.exports?(n=t.exports.extendOptions,n[e]=t.exports.options[e]):n=t.options,void 0===n[e])n[e]=a;else{var o=n[e];for(var r in a)void 0===o[r]&&(o[r]=a[r])}}},fe3d:function(t,e,a){\"use strict\";a.r(e);var n=a(\"fef0\"),o=a.n(n);for(var r in n)[\"default\"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);e[\"default\"]=o.a},fef0:function(t,e){t.exports={}}};",
    "js/9.3f4a7cc1.js": "exports.ids=[9],exports.modules={\"0b97\":function(t,e){t.exports={}},\"392b\":function(t,e,n){\"use strict\";n(\"932c\"),n(\"bfab\");var o,a,r={data(){return{prevRoute:null}},beforeRouteEnter(t,e,n){n((t=>{t.prevRoute=e}))},computed:{today(){const t=new Date,e={month:t.toLocaleDateString(\"en-US\",{month:\"long\"}),year:t.getFullYear(),dayOfMonth:t.getDate(),dayOfWeek:t.getDay(),human:t.toLocaleDateString(\"en-US\",{weekday:\"long\",month:\"long\",day:\"numeric\"}),iso:t.toISOString(),yyyymmdd:t.getFullYear()+\"-\"+(t.getMonth()+1).toString().padStart(2,0)+\"-\"+t.getDate().toString().padStart(2,\"0\")};return e},startDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},lastDayOfMonth(){const t=new Date;return new Date(t.getFullYear(),t.getMonth()+1,0)}},methods:{replaceAll:function(t,e,n){return t.replace(new RegExp(e,\"g\"),n)},resolveAssetsUrl:function(t){return\"https://localhost:3000/\"+t},showNotif:function(t,e){this.$q.notify({color:t?\"green-4\":\"negative\",textColor:\"white\",icon:t?\"check_circle_outline\":\"error_outline\",timeout:\"2500\",position:\"top\",message:e})},returnToPageIndex:function(t){this.prevRoute&&\"/\"!==this.prevRoute.path?this.$router.go(-1):this.$router.push(t).catch((t=>{}))},findMaxDt:function(t,e){return new Date(Math.max(new Date(t),new Date(e)))},findMinDt:function(t,e){return new Date(Math.min(new Date(t),new Date(e)))},toQDateFormat:function(t){return t?t.getFullYear()+\"/\"+(t.getMonth()+1).toString().padStart(2,0)+\"/\"+t.getDate().toString().padStart(2,0):t},toHumanReadableDt:function(t){const e=new Date(t);return e?e.toLocaleDateString(\"en-US\",{year:\"numeric\",month:\"short\",day:\"numeric\"})+\" \"+e.getHours().toString().padStart(2,0)+\":\"+e.getMinutes().toString().padStart(2,0):t}}},s=r,i=n(\"2877\"),c=Object(i[\"a\"])(s,o,a,!1,null,null,\"18d4dfef\");e[\"a\"]=c.exports},7869:function(t,e,n){\"use strict\";n.r(e);var o=n(\"0b97\"),a=n.n(o);for(var r in o)[\"default\"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e[\"default\"]=a.a},\"96ec\":function(t,e,n){\"use strict\";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"q-dialog\",{attrs:{value:t.showDlg,square:\"\"},on:{hide:t.emitClose}},[n(\"q-card\",{attrs:{dark:\"\"}},[n(\"q-card-section\",{staticClass:\"row items-center\"},[t._t(\"avatar\"),n(\"span\",{staticClass:\"q-ml-sm\"},[t._t(\"message\")],2)],2),n(\"q-card-actions\",{attrs:{align:\"right\"}},[t._t(\"actions\")],2)],1)],1)},a=[],r={name:\"ConfirmDialog\",props:{showDlg:{type:Boolean,required:!0,default:!1}},methods:{emitClose(){this.$emit(\"update:showDlg\",!1)}}},s=r,i=n(\"2877\"),c=n(\"7c52\"),l=n(\"eebe\"),u=n.n(l),d=Object(i[\"a\"])(s,o,a,!1,null,null,\"1b680276\");e[\"a\"]=d.exports;u()(d,\"components\",{QDialog:c[\"QDialog\"],QCard:c[\"QCard\"],QCardSection:c[\"QCardSection\"],QCardActions:c[\"QCardActions\"]})},c67d:function(t,e){t.exports={}},c802:function(t,e,n){\"use strict\";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(\"q-page\",{staticClass:\"q-px-md q-pt-lg\"},[n(\"div\",{staticClass:\"page-heading text-white q-pa-md\"},[n(\"div\",{staticClass:\"heading-caption\"},[n(\"h6\",[t._v(\"Product Discount\")]),n(\"br\"),n(\"p\",[t._v(\"\\n                The following are product discounts applied in the webstore.\\n            \")])]),n(\"div\",{staticClass:\"heading-stat-1 text-caption\"},[t._v(\"\\n            Today\\n            \"),n(\"br\"),n(\"p\",{staticClass:\"text-subtitle2\"},[t._v(\"\\n                \"+t._s(t.today.human)+\"\\n            \")])])]),n(\"div\",{staticClass:\"page-contents text-white q-pa-md\"},[n(\"div\",{staticClass:\"content-1\"},[n(\"q-btn\",{staticClass:\"q-mr-sm\",attrs:{flat:\"\",round:\"\",icon:\"post_add\",to:\"/discounts/add\"}},[n(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Add new entry\")])],1),n(\"q-input\",{staticClass:\"filter-search-box\",attrs:{type:\"search\",placeholder:\"Search discount\",debounce:\"500\",dark:\"\",dense:\"\",outlined:\"\"},on:{input:t.searchInput},scopedSlots:t._u([{key:\"prepend\",fn:function(){return[n(\"q-icon\",{attrs:{name:\"search\"}})]},proxy:!0},{key:\"append\",fn:function(){return[n(\"transition\",{attrs:{name:\"fade\"}},[n(\"q-icon\",{directives:[{name:\"show\",rawName:\"v-show\",value:\"\"!=t.search,expression:\"search != ''\"}],staticClass:\"cursor-pointer\",attrs:{name:\"close\"},on:{click:t.searchClear}})],1)]},proxy:!0}]),model:{value:t.search,callback:function(e){t.search=e},expression:\"search\"}})],1),n(\"div\",{staticClass:\"content-2\"},[n(\"q-table\",{staticClass:\"discounts-table\",attrs:{square:\"\",\"row-key\":\"id\",data:t.data,columns:t.columns,pagination:t.pagination,\"rows-per-page-options\":[0],loading:t.loading,filter:t.search,\"binary-state-sort\":\"\"},on:{\"update:pagination\":[function(e){t.pagination=e},t.onChgPage],request:t.onRequest},scopedSlots:t._u([{key:\"body\",fn:function(e){return[n(\"q-tr\",{attrs:{props:e}},[n(\"q-td\",{key:\"percent\",attrs:{props:e}},[t._v(t._s(e.row.percent))]),n(\"q-td\",{key:\"target\",staticClass:\"capitalize\",attrs:{props:e}},[t._v(t._s(e.row.target))]),n(\"q-td\",{key:\"start\",attrs:{props:e}},[t._v(t._s(e.row.start))]),n(\"q-td\",{key:\"end\",attrs:{props:e}},[t._v(t._s(e.row.end))]),n(\"q-td\",{key:\"count\",attrs:{props:e}},[t._v(t._s(e.row.count))]),n(\"q-td\",[n(\"q-btn\",{staticClass:\"q-mr-sm\",attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"build\",to:\"/discounts/edit/\"+e.row.id}},[n(\"q-tooltip\",{attrs:{anchor:\"center right\",self:\"center left\",offset:[10,10]}},[t._v(\"Edit Discount\")])],1),n(\"q-btn\",{attrs:{dense:\"\",flat:\"\",round:\"\",icon:\"delete\"},on:{click:function(n){return t.confirmDel(e.row.id)}}},[n(\"q-tooltip\",{attrs:{anchor:\"bottom right\",self:\"top middle\",offset:[10,10]}},[t._v(\"Delete Discount\\n                                \")])],1)],1)],1)]}}])}),n(\"ConfirmDialog\",{attrs:{showDlg:t.showDlg},on:{\"update:showDlg\":function(e){t.showDlg=e},\"update:show-dlg\":function(e){t.showDlg=e}},scopedSlots:t._u([{key:\"avatar\",fn:function(){return[n(\"q-avatar\",{attrs:{icon:\"delete_forever\",color:\"red-5\",\"text-color\":\"white\"}})]},proxy:!0},{key:\"message\",fn:function(){return[t._v(\"\\n                    Continue on removing this discount?\"),n(\"br\"),t._v(\"\\n                    Warning: This action is permanent.\\n                \")]},proxy:!0},{key:\"actions\",fn:function(){return[n(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Cancel\"}}),n(\"q-btn\",{directives:[{name:\"close-popup\",rawName:\"v-close-popup\"}],attrs:{flat:\"\",label:\"Remove\",color:\"red-5\"},on:{click:t.onRemove}})]},proxy:!0}])})],1)])])},a=[],r=(n(\"6579\"),n(\"bfab\"),n(\"c973\")),s=n.n(r),i=n(\"96ec\"),c=n(\"392b\");let l=null;var u={name:\"DiscountsIndex\",components:{ConfirmDialog:i[\"a\"]},mixins:[c[\"a\"]],meta(){return{title:\"Product Discounts\"}},beforeCreate(){l=this.$RepositoryFactory.get(\"discounts\")},created(){this.$route.query.s&&(this.search=this.$route.query.s),this.$route.query.p&&!isNaN(this.$route.query.p)&&(this.pagination.page=Number.parseInt(this.$route.query.p))},mounted(){this.onRequest({pagination:this.pagination,filter:void 0})},data(){return{discountList:[],search:\"\",searchReq:null,loading:!1,showDlg:!1,toDelID:-1,pagination:{sortBy:\"start\",descending:!0,page:1,rowsPerPage:9},columns:[{name:\"percent\",field:\"percent\",label:\"Discount %\",align:\"left\",required:!0,sortable:!0},{name:\"target\",field:\"target\",align:\"left\",label:\"Target Customer\",sortable:!0},{name:\"start\",field:\"start\",align:\"left\",label:\"Start\",sortable:!0},{name:\"end\",field:\"end\",align:\"left\",label:\"End\",sortable:!0},{name:\"count\",field:\"count\",align:\"left\",label:\"No. of Products\",sortable:!0},{name:\"actions\",align:\"left\",label:\"Actions\"}],data:[],original:[]}},methods:{searchClear(t){let e=Object.assign({},this.$route.query);delete e.s,this.$router.replace({query:e}).catch((t=>{})),this.search=\"\"},searchInput(t){let e=Object.assign({},this.$route.query,{s:t});t||delete e.s,this.$router.replace({query:e}).catch((t=>{}))},onChgPage(t){let e=Object.assign({},this.$route.query,{p:t.page});t||delete e.p,this.$router.replace({query:e}).catch((t=>{}))},onRequest(t){var e=this;return s()((function*(){e.loading=!0;try{const t=yield l.getAllDiscounts();e.original=t,e.data=e.original.slice()}catch(t){e.showNotif(!1,\"Could not retrieve discounts. \")}finally{e.loading=!1}}))()},onRemove(){var t=this;return s()((function*(){if(-1!==t.toDelID)try{yield l.deleteDiscount(t.toDelID);t.showNotif(!0,\"Successfully removed discount entry.\"),t.$delete(t.data,t.data.findIndex((e=>e.id==t.toDelID))),t.toDelID=-1}catch(e){t.showNotif(!1,\"Could not delete item. \")}}))()},confirmDel(t){this.showDlg=!0,this.toDelID=t}}},d=u,p=n(\"2877\"),f=n(\"7c52\"),h=n(\"eebe\"),g=n.n(h);function m(t){var e=n(\"dd6f\");e.__inject__&&e.__inject__(t);var o=n(\"7869\");o.__inject__&&o.__inject__(t)}var v=Object(p[\"a\"])(d,o,a,!1,m,\"1d741fc2\",\"40d4e6e8\");e[\"default\"]=v.exports;g()(v,\"components\",{QPage:f[\"QPage\"],QBtn:f[\"QBtn\"],QTooltip:f[\"QTooltip\"],QInput:f[\"QInput\"],QIcon:f[\"QIcon\"],QTable:f[\"QTable\"],QTr:f[\"QTr\"],QTd:f[\"QTd\"],QAvatar:f[\"QAvatar\"]}),g()(v,\"directives\",{ClosePopup:f[\"ClosePopup\"]})},dd6f:function(t,e,n){\"use strict\";n.r(e);var o=n(\"c67d\"),a=n.n(o);for(var r in o)[\"default\"].indexOf(r)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(r);e[\"default\"]=a.a},eebe:function(t,e){t.exports=function(t,e,n){var o;if(\"function\"===typeof t.exports?(o=t.exports.extendOptions,o[e]=t.exports.options[e]):o=t.options,void 0===o[e])o[e]=n;else{var a=o[e];for(var r in n)void 0===a[r]&&(a[r]=n[r])}}}};",
    "server-bundle.js": "module.exports=function(t){var e={},r={2:0};function o(r){if(e[r])return e[r].exports;var a=e[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,o),a.l=!0,a.exports}return o.e=function(e){var o=[];if(0!==r[e]){var a=require(\"./js/\"+({}[e]||e)+\".\"+{0:\"2471df5b\",1:\"7b05f178\",3:\"e9c7102c\",4:\"16594511\",5:\"001072da\",6:\"7f11b408\",7:\"a8735875\",8:\"cb514fac\",9:\"3f4a7cc1\",10:\"a6b77705\",11:\"13e884d3\",12:\"c407cd06\",13:\"e825e33d\",14:\"b317c5f5\",15:\"a1a69088\",16:\"84895c84\",17:\"9d0fd561\",18:\"36d42151\",19:\"11d6c7d3\",20:\"b71df490\",21:\"e5330b3e\",22:\"a297a886\",23:\"1f26ca17\",24:\"32cd865b\",25:\"e9be9311\",26:\"0105594d\",27:\"4219825b\",28:\"6e5aac80\",29:\"eb040f7d\",30:\"d440a20d\",31:\"d082fe06\",32:\"80f5f160\"}[e]+\".js\"),n=a.modules,s=a.ids;for(var i in n)t[i]=n[i];for(var c=0;c<s.length;c++)r[s[c]]=0}return Promise.all(o)},o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},o.r=function(t){\"undefined\"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&\"object\"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var a in t)o.d(r,a,function(e){return t[e]}.bind(null,a));return r},o.n=function(t){var e=t&&t.__esModule?function(){return t[\"default\"]}:function(){return t};return o.d(e,\"a\",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p=\"/\",o.oe=function(t){process.nextTick((function(){throw t}))},o(o.s=0)}({0:function(t,e,r){t.exports=r(\"4edf\")},\"077e\":function(t,e){t.exports=require(\"vuex-persistedstate\")},\"1ce0\":function(t,e){t.exports=require(\"core-js/modules/web.dom-collections.iterator\")},2877:function(t,e,r){\"use strict\";function o(t,e,r,o,a,n,s,i){var c,u=\"function\"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=r,u._compiled=!0),o&&(u.functional=!0),n&&(u._scopeId=\"data-v-\"+n),s?(c=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||\"undefined\"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=c):a&&(c=i?function(){a.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:a),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function(t,e){return c.call(e),d(t,e)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:u}}r.d(e,\"a\",(function(){return o}))},\"31cd\":function(t,e){t.exports={}},\"3d03\":function(t,e){t.exports=require(\"core-js/modules/es.string.trim\")},\"4edf\":function(t,e,r){\"use strict\";r.r(e);var o={};r.r(o),r.d(o,\"getName\",(function(){return M})),r.d(o,\"getXSRFToken\",(function(){return Y})),r.d(o,\"isAuthenticated\",(function(){return P}));var a={};r.r(a),r.d(a,\"SET_BOOL_AUTH\",(function(){return C})),r.d(a,\"SET_NAME_AUTH\",(function(){return D})),r.d(a,\"SET_XSRF_AUTH\",(function(){return A})),r.d(a,\"RESET_AUTH\",(function(){return H}));var n={};r.r(n),r.d(n,\"setXSRFToken\",(function(){return R})),r.d(n,\"resetAuth\",(function(){return j})),r.d(n,\"signin\",(function(){return U})),r.d(n,\"signout\",(function(){return N})),r.d(n,\"setName\",(function(){return L})),r.d(n,\"changePW\",(function(){return q})),r.d(n,\"createUser\",(function(){return z})),r.d(n,\"getCustomerStats\",(function(){return V}));var s={};r.r(s),r.d(s,\"getProduct\",(function(){return W})),r.d(s,\"isOngoing\",(function(){return K}));var i={};r.r(i),r.d(i,\"SET_PRODUCT_INFO\",(function(){return et})),r.d(i,\"SET_PRODUCT_IMAGES\",(function(){return rt})),r.d(i,\"SET_PRODUCT_OPTIONS\",(function(){return ot})),r.d(i,\"SET_ONGOING\",(function(){return at})),r.d(i,\"RESET_PRODUCT\",(function(){return nt}));var c={};r.r(c),r.d(c,\"setProductInfo\",(function(){return st})),r.d(c,\"setProductImages\",(function(){return it})),r.d(c,\"setProductOptions\",(function(){return ct})),r.d(c,\"clearState\",(function(){return ut}));r(\"8495\");var u=r(\"c973\"),d=r.n(u),p=(r(\"e54f\"),r(\"985d\"),r(\"31cd\"),r(\"8bbf\")),l=r.n(p),h={isoName:\"en-us\",nativeName:\"English (US)\",label:{clear:\"Clear\",ok:\"OK\",cancel:\"Cancel\",close:\"Close\",set:\"Set\",select:\"Select\",reset:\"Reset\",remove:\"Remove\",update:\"Update\",create:\"Create\",search:\"Search\",filter:\"Filter\",refresh:\"Refresh\"},date:{days:\"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday\".split(\"_\"),daysShort:\"Sun_Mon_Tue_Wed_Thu_Fri_Sat\".split(\"_\"),months:\"January_February_March_April_May_June_July_August_September_October_November_December\".split(\"_\"),monthsShort:\"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec\".split(\"_\"),firstDayOfWeek:0,format24h:!1,pluralDay:\"days\"},table:{noData:\"No data available\",noResults:\"No matching records found\",loading:\"Loading...\",selectedRecords:function(t){return 1===t?\"1 record selected.\":(0===t?\"No\":t)+\" records selected.\"},recordsPerPage:\"Records per page:\",allRows:\"All\",pagination:function(t,e,r){return t+\"-\"+e+\" of \"+r},columns:\"Columns\"},editor:{url:\"URL\",bold:\"Bold\",italic:\"Italic\",strikethrough:\"Strikethrough\",underline:\"Underline\",unorderedList:\"Unordered List\",orderedList:\"Ordered List\",subscript:\"Subscript\",superscript:\"Superscript\",hyperlink:\"Hyperlink\",toggleFullscreen:\"Toggle Fullscreen\",quote:\"Quote\",left:\"Left align\",center:\"Center align\",right:\"Right align\",justify:\"Justify align\",print:\"Print\",outdent:\"Decrease indentation\",indent:\"Increase indentation\",removeFormat:\"Remove formatting\",formatting:\"Formatting\",fontSize:\"Font Size\",align:\"Align\",hr:\"Insert Horizontal Rule\",undo:\"Undo\",redo:\"Redo\",heading1:\"Heading 1\",heading2:\"Heading 2\",heading3:\"Heading 3\",heading4:\"Heading 4\",heading5:\"Heading 5\",heading6:\"Heading 6\",paragraph:\"Paragraph\",code:\"Code\",size1:\"Very small\",size2:\"A bit small\",size3:\"Normal\",size4:\"Medium-large\",size5:\"Big\",size6:\"Very big\",size7:\"Maximum\",defaultFont:\"Default Font\",viewSource:\"View Source\"},tree:{noNodes:\"No nodes available\",noResults:\"No matching nodes found\"}},f={name:\"material-icons\",type:{positive:\"check_circle\",negative:\"warning\",info:\"info\",warning:\"priority_high\"},arrow:{up:\"arrow_upward\",right:\"arrow_forward\",down:\"arrow_downward\",left:\"arrow_back\",dropdown:\"arrow_drop_down\"},chevron:{left:\"chevron_left\",right:\"chevron_right\"},colorPicker:{spectrum:\"gradient\",tune:\"tune\",palette:\"style\"},pullToRefresh:{icon:\"refresh\"},carousel:{left:\"chevron_left\",right:\"chevron_right\",up:\"keyboard_arrow_up\",down:\"keyboard_arrow_down\",navigationIcon:\"lens\"},chip:{remove:\"cancel\",selected:\"check\"},datetime:{arrowLeft:\"chevron_left\",arrowRight:\"chevron_right\",now:\"access_time\",today:\"today\"},editor:{bold:\"format_bold\",italic:\"format_italic\",strikethrough:\"strikethrough_s\",underline:\"format_underlined\",unorderedList:\"format_list_bulleted\",orderedList:\"format_list_numbered\",subscript:\"vertical_align_bottom\",superscript:\"vertical_align_top\",hyperlink:\"link\",toggleFullscreen:\"fullscreen\",quote:\"format_quote\",left:\"format_align_left\",center:\"format_align_center\",right:\"format_align_right\",justify:\"format_align_justify\",print:\"print\",outdent:\"format_indent_decrease\",indent:\"format_indent_increase\",removeFormat:\"format_clear\",formatting:\"text_format\",fontSize:\"format_size\",align:\"format_align_left\",hr:\"remove\",undo:\"undo\",redo:\"redo\",heading:\"format_size\",code:\"code\",size:\"format_size\",font:\"font_download\",viewSource:\"code\"},expansionItem:{icon:\"keyboard_arrow_down\",denseIcon:\"arrow_drop_down\"},fab:{icon:\"add\",activeIcon:\"close\"},field:{clear:\"cancel\",error:\"error\"},pagination:{first:\"first_page\",prev:\"keyboard_arrow_left\",next:\"keyboard_arrow_right\",last:\"last_page\"},rating:{icon:\"grade\"},stepper:{done:\"check\",active:\"edit\",error:\"warning\"},tabs:{left:\"chevron_left\",right:\"chevron_right\",up:\"keyboard_arrow_up\",down:\"keyboard_arrow_down\"},table:{arrowUp:\"arrow_upward\",warning:\"warning\",firstPage:\"first_page\",prevPage:\"chevron_left\",nextPage:\"chevron_right\",lastPage:\"last_page\"},tree:{icon:\"play_arrow\"},uploader:{done:\"done\",clear:\"clear\",add:\"add_box\",upload:\"cloud_upload\",removeQueue:\"clear_all\",removeUploaded:\"done_all\"}},m=r(\"7c52\");l.a.use(m[\"Quasar\"],{config:{loadingBar:{color:\"secondary\",size:\"2px\"}},lang:h,iconSet:f,plugins:{Cookies:m[\"Cookies\"],Meta:m[\"Meta\"],Notify:m[\"Notify\"],LoadingBar:m[\"LoadingBar\"]}});var y=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(\"div\",{attrs:{id:\"q-app\"}},[r(\"router-view\")],1)},g=[],v={name:\"App\"},_=v,b=r(\"2877\"),x=Object(b[\"a\"])(_,y,g,!1,null,null,\"5cea4906\"),w=x.exports,E=r(\"5880\"),S=r.n(E);function O(){return{authenticated:!1,name:\"\",xsrf:\"\"}}var T=function(){return O()};function M(t){return t.name}function Y(t){return t.xsrf}function P(t){return t.authenticated}function C(t,e){t.authenticated=e}function D(t,e){t.name=e}function A(t,e){t.xsrf=e}function H(t){Object.assign(t,O())}function R({commit:t},e){t(\"SET_XSRF_AUTH\",e)}function j({commit:t}){t(\"RESET_AUTH\")}function U(t,e){return k.apply(this,arguments)}function k(){return k=d()((function*({commit:t},{email:e,password:r}){let o;try{return o=yield this.$axios.post(\"/api/users/login\",{email:e,password:r}),o&&o.data&&(t(\"SET_NAME_AUTH\",o.data.cmsuser.name),t(\"SET_XSRF_AUTH\",o.data.xsrf),t(\"SET_BOOL_AUTH\",!0)),!0}catch(a){throw a.response.data.error||\"Invalid email or password.\"}})),k.apply(this,arguments)}function N(t){return F.apply(this,arguments)}function F(){return F=d()((function*({commit:t}){let e;try{return e=yield this.$axios.post(\"/api/users/logout\"),!0}catch(r){throw r.response.data.error||\"Error has occurred.\"}finally{t(\"RESET_AUTH\")}})),F.apply(this,arguments)}function L(t,e){return I.apply(this,arguments)}function I(){return I=d()((function*({commit:t},{name:e}){let r;try{return r=yield this.$axios.post(\"/api/users/edit\",{name:e}),t(\"SET_NAME_AUTH\",r.data.name),!0}catch(o){throw o.response.data.error||\"Error has occurred.\"}})),I.apply(this,arguments)}function q(t,e){return $.apply(this,arguments)}function $(){return $=d()((function*({commit:t},{prevpw:e,newpw:r,reppw:o}){let a;try{return a=yield this.$axios.post(\"/api/users/changepw\",{prevpw:e,newpw:r,reppw:o}),!0}catch(n){throw n.response.data.error||\"Error has occurred.\"}})),$.apply(this,arguments)}function z(t,e){return B.apply(this,arguments)}function B(){return B=d()((function*({commit:t},{email:e,name:r,password:o}){let a;try{return a=yield this.$axios.post(\"/api/users\",{email:e,name:r,password:o}),!0}catch(n){throw n.response.data.error||\"Error has occurred.\"}})),B.apply(this,arguments)}function V(t){return G.apply(this,arguments)}function G(){return G=d()((function*({commit:t}){let e;try{return e=yield this.$axios.get(\"/api/customers/stats\"),Promise.resolve(e.data)}catch(r){return Promise.resolve(r)}})),G.apply(this,arguments)}var X={namespaced:!0,getters:o,mutations:a,actions:n,state:T};function J(){return{ongoing:!1,product:{id:0,name:\"\",category:null,basePrice:0,minOrderQuantity:0,description:\"\",colors:null,details:null,options:null,images:null}}}var Q=function(){return J()};function W(t){return t.product}function K(t){return t.ongoing}var Z=r(\"ded3\"),tt=r.n(Z);function et(t,e){t.product=tt()(tt()({},t.product),e)}function rt(t,e){t.product.images=e}function ot(t,e){t.product.options=e}function at(t,e){t.ongoing=e}function nt(t){Object.assign(t,J())}function st({commit:t},e){t(\"SET_PRODUCT_INFO\",e),t(\"SET_ONGOING\",!0)}function it({commit:t},e){t(\"SET_PRODUCT_IMAGES\",e),t(\"SET_ONGOING\",!0)}function ct({commit:t},e){t(\"SET_PRODUCT_OPTIONS\",e),t(\"SET_ONGOING\",!0)}function ut({commit:t}){t(\"RESET_PRODUCT\"),t(\"SET_ONGOING\",!1)}var dt={namespaced:!0,state:Q,getters:s,mutations:i,actions:c};l.a.use(S.a);var pt=function(t){return lt.apply(this,arguments)};function lt(){return lt=d()((function*({ssrContext:t}){const e=yield new S.a.Store({modules:{auth:X,addProduct:dt},strict:!1});return e})),lt.apply(this,arguments)}var ht=r(\"6389\"),ft=r.n(ht);const mt=[{path:\"/\",component:()=>r.e(0).then(r.bind(null,\"713b\")),children:[{path:\"\",component:()=>r.e(1).then(r.bind(null,\"8b24\"))},{path:\"dashboard\",component:()=>r.e(1).then(r.bind(null,\"8b24\"))}]},{path:\"/accounts\",component:()=>r.e(0).then(r.bind(null,\"713b\")),children:[{path:\"\",component:()=>r.e(13).then(r.bind(null,\"3ac1\"))},{path:\"edit/:id\",component:()=>r.e(12).then(r.bind(null,\"7d22\"))}]},{path:\"/announcements\",component:()=>r.e(0).then(r.bind(null,\"713b\")),children:[{path:\"\",component:()=>r.e(6).then(r.bind(null,\"b4d9\"))},{path:\"add\",component:()=>r.e(14).then(r.bind(null,\"7858\"))},{path:\"edit/:id\",component:()=>r.e(15).then(r.bind(null,\"b732\"))}]},{path:\"/categories\",component:()=>r.e(0).then(r.bind(null,\"713b\")),children:[{path:\"\",component:()=>r.e(7).then(r.bind(null,\"2484\"))},{path:\"add\",component:()=>r.e(16).then(r.bind(null,\"9b36\"))},{path:\"edit/:id\",component:()=>r.e(17).then(r.bind(null,\"d02c\"))}]},{path:\"/products\",component:()=>r.e(0).then(r.bind(null,\"713b\")),children:[{path:\"\",component:()=>r.e(11).then(r.bind(null,\"e981\"))},{path:\"add/:step\",component:()=>r.e(23).then(r.bind(null,\"277a\"))},{path:\"edit/:id\",component:()=>r.e(24).then(r.bind(null,\"85f6\"))},{path:\"feature/:id\",component:()=>r.e(25).then(r.bind(null,\"8f31\"))}]},{path:\"/discounts\",component:()=>r.e(0).then(r.bind(null,\"713b\")),children:[{path:\"\",component:()=>r.e(9).then(r.bind(null,\"c802\"))},{path:\"add\",component:()=>r.e(19).then(r.bind(null,\"bda4\"))},{path:\"edit/:id\",component:()=>r.e(20).then(r.bind(null,\"130f\"))}]},{path:\"/comments\",component:()=>r.e(0).then(r.bind(null,\"713b\")),children:[{path:\"\",component:()=>r.e(8).then(r.bind(null,\"81a6\"))},{path:\"reply/:id\",component:()=>r.e(18).then(r.bind(null,\"255f\"))}]},{path:\"/orders\",component:()=>r.e(0).then(r.bind(null,\"713b\")),children:[{path:\"\",component:()=>r.e(5).then(r.bind(null,\"8d68\"))},{path:\"process/:id\",component:()=>r.e(4).then(r.bind(null,\"ad4c\"))},{path:\"add\",component:()=>r.e(3).then(r.bind(null,\"e750\"))}]},{path:\"/holidays\",component:()=>r.e(0).then(r.bind(null,\"713b\")),children:[{path:\"\",component:()=>r.e(10).then(r.bind(null,\"ad07\"))},{path:\"add\",component:()=>r.e(21).then(r.bind(null,\"8db9\"))},{path:\"edit/:id\",component:()=>r.e(22).then(r.bind(null,\"94d0\"))}]},{path:\"/users\",component:()=>r.e(0).then(r.bind(null,\"713b\")),children:[{path:\"\",component:()=>r.e(32).then(r.bind(null,\"b816\"))},{path:\"add\",component:()=>r.e(26).then(r.bind(null,\"940d\"))},{path:\"edit\",component:()=>r.e(28).then(r.bind(null,\"c8dd\"))},{path:\"changepw\",component:()=>r.e(27).then(r.bind(null,\"c6b7\"))}]},{path:\"/login\",component:()=>r.e(30).then(r.bind(null,\"4632\")),children:[{path:\"\",component:()=>r.e(29).then(r.bind(null,\"5b33\"))}]}];mt.push({path:\"*\",component:()=>r.e(31).then(r.bind(null,\"e51e\"))});var yt=mt;l.a.use(ft.a);var gt=function({store:t,ssrContext:e}){const r=new ft.a({scrollBehavior:(t,e,r)=>(!e||t.path!==e.path)&&(r?new Promise(((t,e)=>{setTimeout((()=>{t(r)}),500)})):t.hash?{selector:t.hash}:{x:0,y:0}),routes:yt,mode:\"history\",base:\"/\"});return r.beforeEach(((e,r,o)=>{\"/login\"===e.path||t.state.auth.authenticated?o():o(\"/login\")})),r},vt=function(t){return _t.apply(this,arguments)};function _t(){return _t=d()((function*(t){const e=\"function\"===typeof pt?yield pt({Vue:l.a,ssrContext:t}):pt,r=\"function\"===typeof gt?yield gt({Vue:l.a,ssrContext:t,store:e}):gt;e.$router=r;const o={router:r,store:e,render:t=>t(w)};return m[\"Quasar\"].ssrUpdate({app:o,ssr:t}),{app:o,store:e,router:r}})),_t.apply(this,arguments)}var bt=r(\"cebe\"),xt=r.n(bt);r(\"6bb1\");const wt=[],Et=function(t){return function(){var e=d()((function*(e){const{app:r,router:o,store:a}=e;let n;if(\"function\"===typeof t){const r=t(e);n=r.then?yield r:r}else n=t;for(const t in n){const e=\"$\"+t;-1===wt.indexOf(t)&&(wt.push(t),l.a.mixin({beforeCreate(){const r=this.$options;r[t]?this[e]=r[t]:r.parent&&(this[e]=r.parent[e])}})),r[t]=n[t],a[e]=n[t],o[e]=n[t]}}));return function(t){return e.apply(this,arguments)}}()};var St=Et,Ot=r(\"ee7f\"),Tt=r.n(Ot),Mt=St(function(){var t=d()((function*({app:t,store:e,ssrContext:r,redirect:o}){const a=xt.a.create({baseURL:\"https://localhost:8080\"});a.interceptors.request.use((t=>(r&&(t.headers=r.req.headers),e.state.auth.authenticated?t.headers[\"x-csrf-token\"]=e.state.auth.xsrf:delete t.headers[\"x-csrf-token\"],t)),(t=>Promise.reject(t))),a.interceptors.response.use((t=>t),(t=>(403!==t.response.status&&\"https://localhost:8080/api/users/refresh\"!=t.config.url||(e.dispatch(\"auth/resetAuth\"),o(\"/login\")),Promise.reject(t))));const n=t=>a.post(\"/api/users/refresh\").then((t=>(t.data&&t.data.xsrf&&e.dispatch(\"auth/setXSRFToken\",t.data.xsrf),Promise.resolve())));return Tt()(a,n),{axios:a}}));return function(e){return t.apply(this,arguments)}}()),Yt=r(\"077e\"),Pt=r.n(Yt),Ct=function(){var t=d()((function*({store:t,ssrContext:e}){const r=m[\"Cookies\"].parseSSR(e);Pt()({key:\"_VUEX_AUTH\",paths:[\"auth\"],storage:{getItem:t=>JSON.stringify(r.get(t)),setItem:(t,e)=>{r.set(t,e,{path:\"/\",sameSite:\"Lax\",expires:7,secure:!0})},removeItem:t=>r.remove(t)}})(t)}));return function(e){return t.apply(this,arguments)}}(),Dt=r(\"9523\"),At=r.n(Dt);class Ht{constructor(t){At()(this,\"axios\",void 0),this.axios=t}getCustomerStats(){var t=this;return d()((function*(){try{const e=yield t.axios.get(\"/api/customers/stats\");return e.data}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}getProductStats(){var t=this;return d()((function*(){try{const e=yield t.axios.get(\"/api/products/stats\");return e.data}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}getOrderStats(){var t=this;return d()((function*(){try{const e=yield t.axios.get(\"/api/orders/stats\");return e.data}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}getPendingResellers(){var t=this;return d()((function*(){try{const e=yield t.axios.get(\"/api/customers/pending\");return e.data}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}getRecentComments(){var t=this;return d()((function*(){try{const e=yield t.axios.get(\"/api/comments/recent\");return e.data}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}getBusinessHolidays(){var t=this;return d()((function*(){try{const e=yield t.axios.get(\"/api/invaliddates\");return e.data}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}}r(\"3d03\");const Rt=r(\"c32d\");class jt{constructor(t){At()(this,\"axios\",void 0),this.axios=t}getAllAccounts(t){var e=this;return d()((function*(){try{let r,o=[];return r=t?yield e.axios.get(\"/api/customers\",{params:{type:t}}):yield e.axios.get(\"/api/customers\"),r.data.forEach((t=>(o.push({id:t.id,name:t.name,joined:Rt(t.created).format(\"MMM DD, YYYY\"),login:t.login?Rt(t.login).format(\"MMM DD, YYYY\"):\"-\",type:t.accountType,active:t.status.isActive}),t))),o}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}getAccountSelection(t){var e=this;return d()((function*(){try{let r,o=[];return r=t?yield e.axios.get(\"/api/customers\",{params:{type:t}}):yield e.axios.get(\"/api/customers\"),r.data.forEach((t=>(o.push({value:t.id,label:t.name,type:t.accountType}),t))),o}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}getAccount(t){var e=this;return d()((function*(){try{let r={};const o=yield e.axios.get(\"api/customers/\"+t);return r.type=o.data.accountType,r.email=o.data.email,r.address=o.data.address,r.fname=o.data.firstname,r.lname=o.data.lastname,r.active=o.data.status.isActive,r.approved=o.data.status.isResellerApproved,r.smsVerified=o.data.status.isSMSVerified,r.phone=o.data.phonenumber,r}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}editAccount(t,{fname:e,lname:r,active:o,approved:a}){var n=this;return d()((function*(){try{return yield n.axios.patch(\"api/customers/\"+t,[{property:\"firstname\",value:e},{property:\"lastname\",value:r},{property:\"status.isActive\",value:o},{property:\"status.isResellerApproved\",value:a}]),!0}catch(s){throw s.response.data.error||\"Error has occurred.\"}}))()}editAccountContact(t,{address:e,phone:r,smsVerified:o}){var a=this;return d()((function*(){try{return yield a.axios.patch(\"api/customers/\"+t,[{property:\"address\",value:e?e.trim():null},{property:\"phonenumber\",value:r?r.trim():null},{property:\"status.isSMSVerified\",value:o}]),!0}catch(n){throw n.response.data.error||\"Error has occurred.\"}}))()}}const Ut=r(\"c32d\");class kt{constructor(t){At()(this,\"axios\",void 0),this.axios=t}getAllAnnouncements(){var t=this;return d()((function*(){try{const e=yield t.axios.get(\"/api/psa/all\");return e.data.map((t=>(t.start=Ut(t.start).format(\"MMM DD, YYYY HH:mm\"),t.end=Ut(t.end).format(\"MMM DD, YYYY HH:mm\"),t))),e.data}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}getAnnouncement(t){var e=this;return d()((function*(){try{const r=yield e.axios.get(\"api/psa/\"+t);return r.data.start=Ut(r.data.start).format(\"YYYY-MM-DD HH:mm\"),r.data.end=Ut(r.data.end).format(\"YYYY-MM-DD HH:mm\"),r.data}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}addAnnouncement({start:t,end:e,message:r,targetLink:o}){var a=this;return d()((function*(){try{return yield a.axios.post(\"/api/psa\",{start:t,end:e,message:r,targetLink:o}),!0}catch(n){throw n.response.data.error||\"Error has occurred.\"}}))()}editAnnouncement(t,{start:e,end:r,message:o,targetLink:a}){var n=this;return d()((function*(){try{return yield n.axios.patch(\"api/psa/\"+t,[{property:\"start\",value:e},{property:\"end\",value:r},{property:\"message\",value:o},{property:\"targetLink\",value:a}]),!0}catch(s){throw s.response.data.error||\"Error has occurred.\"}}))()}deleteAnnouncement(t){var e=this;return d()((function*(){try{return yield e.axios.delete(\"api/psa/\"+t),!0}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}}r(\"6579\");const Nt=r(\"c32d\");class Ft{constructor(t){At()(this,\"axios\",void 0),this.axios=t}getAllCategories(){var t=this;return d()((function*(){try{const e=yield t.axios.get(\"/api/categories/all\");return e.data.map((t=>{t.created=t.created?Nt(t.created).format(\"MMMM DD, YYYY\"):\"-\"})),e.data}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}getCategoriesSelection(){var t=this;return d()((function*(){try{let e=[];const r=yield t.axios.get(\"/api/categories/all\");return r.data.forEach((t=>{e.push(t.category.charAt(0).toUpperCase()+t.category.slice(1))})),e}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}getProductCategorySelection(){var t=this;return d()((function*(){try{let e=[];const r=yield t.axios.get(\"/api/categories/all\");return r.data.forEach((t=>{e.push({value:t._id,label:t.category.charAt(0).toUpperCase()+t.category.slice(1)})})),e}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}getCategory(t){var e=this;return d()((function*(){try{const r=yield e.axios.get(\"api/categories/\"+t);return r.data}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}addCategory({name:t,difficulty:e}){var r=this;return d()((function*(){try{return yield r.axios.post(\"/api/categories\",{name:t,difficulty:e}),!0}catch(o){throw o.response.data.error||\"Error has occurred.\"}}))()}editCategory(t,{name:e,difficulty:r}){var o=this;return d()((function*(){try{return yield o.axios.patch(\"api/categories/\"+t,[{property:\"name\",value:e},{property:\"difficulty\",value:r}]),!0}catch(a){throw a.response.data.error||\"Error has occurred.\"}}))()}deleteCategory(t){var e=this;return d()((function*(){try{return yield e.axios.delete(\"api/categories/\"+t),!0}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}}const Lt=r(\"c32d\");class It{constructor(t){At()(this,\"axios\",void 0),this.axios=t}getAllDiscounts(){var t=this;return d()((function*(){try{const e=yield t.axios.get(\"/api/discounts/all\");return e.data.map((t=>(t.start=Lt(t.start).format(\"MMM DD, YYYY HH:mm\"),t.end=Lt(t.end).format(\"MMM DD, YYYY HH:mm\"),t))),e.data}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}getDiscount(t){var e=this;return d()((function*(){try{const r=yield e.axios.get(\"api/discounts/\"+t);return r.data.start=Lt(r.data.start).format(\"YYYY-MM-DD HH:mm\"),r.data.end=Lt(r.data.end).format(\"YYYY-MM-DD HH:mm\"),r.data.target=r.data.target.charAt(0).toUpperCase()+r.data.target.slice(1),r.data.value=r.data.percent,r.data}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}addDiscount({start:t,end:e,products:r,value:o,target:a}){var n=this;return d()((function*(){try{return yield n.axios.post(\"/api/discounts\",{start:t,end:e,percent:o,target:a.toLowerCase(),products:r}),!0}catch(s){throw s.response.data.error||\"Error has occurred.\"}}))()}editDiscount(t,{start:e,end:r,products:o,value:a,target:n}){var s=this;return d()((function*(){try{return yield s.axios.patch(\"api/discounts/\"+t,[{property:\"start\",value:e},{property:\"end\",value:r},{property:\"target\",value:n.toLowerCase()},{property:\"percent\",value:a},{property:\"products\",value:o}]),!0}catch(i){throw i.response.data.error||\"Error has occurred.\"}}))()}deleteDiscount(t){var e=this;return d()((function*(){try{return yield e.axios.delete(\"api/discounts/\"+t),!0}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}}r(\"ece9\"),r(\"1ce0\");const qt=r(\"c32d\");class $t{constructor(t){At()(this,\"axios\",void 0),this.axios=t}getProductSelection(){var t=this;return d()((function*(){try{let e=[];const r=yield t.axios.get(\"/api/products/cms\");return r.data.products.forEach((t=>{e.push({value:t._id,label:t.name})})),e}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}searchProducts(t){var e=this;return d()((function*(){try{const r=yield e.axios.get(\"/api/products/cms\",{params:{name:t}});return r.data}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}getProducts(t=\"all\"){var e=this;return d()((function*(){try{let r;if(t){const o=t.toLocaleLowerCase();r=yield e.axios.get(\"/api/products/cms/\"+o)}else r=yield e.axios.get(\"/api/products/cms\");return r.data.products.forEach((t=>{t.created=t.created?qt(t.created).format(\"MMM DD, YYYY\"):\"-\",t.toggleFlg=t.isActive})),r.data}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}getProduct(t){var e=this;return d()((function*(){try{const r=yield e.axios.get(\"api/products/cms/item/\"+t);return r.data}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}createProduct(t){var e=this;return d()((function*(){try{const r=yield e.axios.post(\"/api/products\",tt()({},t));return r.data}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}updateProduct(t,e){var r=this;return d()((function*(){try{let o=[];return Object.entries(e).forEach((([t,e])=>{\"id\"!=t&&o.push({property:t,value:e})})),yield r.axios.patch(\"api/products/\"+t,[...o]),!0}catch(o){throw o.response.data.error||\"Error has occurred.\"}}))()}uploadImgs(t,e){var r=this;return d()((function*(){try{const o=yield r.axios.patch(\"api/products/images/\"+t,e,{\"Content-Type\":\"multipart/form-data\"});return o.data}catch(o){throw o.response.data.error||\"Error has occurred.\"}}))()}uploadBanner(t,e){var r=this;return d()((function*(){try{const o=yield r.axios.patch(\"api/products/banner/\"+t,e,{\"Content-Type\":\"multipart/form-data\"});return o.data}catch(o){throw o.response.data.error||\"Error has occurred.\"}}))()}deleteImage(t,e){var r=this;return d()((function*(){try{return yield r.axios.delete(`api/products/images/${t}/${e}`),!0}catch(o){throw o.response.data.error||\"Error has occurred.\"}}))()}toggleActiveProduct(t,e){var r=this;return d()((function*(){try{return yield r.axios.patch(\"api/products/\"+t,[{property:\"isActive\",value:e}]),!0}catch(o){throw o.response.data.error||\"Error has occurred.\"}}))()}toggleAll(t,e){var r=this;return d()((function*(){try{return t&&t.length>0?(yield r.axios.patch(\"api/products/multi\",{selected:t,props:[{property:\"isActive\",value:e}]}),!0):Promise.reject(\"None selected.\")}catch(o){throw o.response.data.error||\"Error has occurred.\"}}))()}}r(\"bfab\");const zt=r(\"c32d\");class Bt{constructor(t){At()(this,\"axios\",void 0),this.axios=t}getStatusSelection(){var t=this;return d()((function*(){try{let e=[];const r=yield t.axios.get(\"/api/orders/statlist\");return r.data.forEach((t=>{e.push({value:t._id,label:t.status.charAt(0).toUpperCase()+t.status.slice(1)})})),e}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}getOrderStats(t){var e=this;return d()((function*(){try{let r=[],o=0,a={};t&&t instanceof Date&&(a.year=t.getFullYear(),a.month=t.getMonth()+1);const n=yield e.axios.get(\"/api/orders/stats\",{params:a});for(const[t,e]of Object.entries(n.data))r.push({name:t,count:e}),o+=e;return r.unshift({name:\"all\",count:o}),r}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}getOrders(t,e){var r=this;return d()((function*(){try{let o,a=[],n={};return t&&t instanceof Date&&(n.year=t.getFullYear(),n.month=t.getMonth()+1),e&&(n.status=e.toLowerCase()),o=yield r.axios.get(\"/api/orders/cms\",{params:n}),o.data.forEach((t=>{const e=zt(t.target);a.push({id:t._id,ordernum:t.orderRef,status:t.status.status,class:t.status.status.replace(/\\s/g,\"-\").toLowerCase(),target:e.format(\"MMM DD, YYYY HH:mm\"),customer:t.customer.firstname+\" \"+t.customer.lastname,type:t.deliveryType?t.deliveryType:\"-\",total:t.total})})),a}catch(o){throw o.response.data.error||\"Error has occurred.\"}}))()}findSimilarOrders(t,{target:e,status:r,customer:o,products:a}){var n=this;return d()((function*(){try{let s=[],i=[],c=[];i=a.map((t=>t.options.map((t=>t._selected)).join(\" \"))).filter(Boolean).join(\" \"),c=a.map((t=>t.product));const u=yield n.axios.post(\"api/orders/similar/\"+t,{target:e,status:r,customer:o,options:i,products:c});return u.data.forEach((t=>{const e=zt(t.target);s.push({similarity:t.similarity,id:t._id,ordernum:t.orderRef,status:t.status.status,class:t.status.status.replace(/\\s/g,\"-\").toLowerCase(),target:e.format(\"MMM DD, YYYY HH:mm\"),customer:t.customer.firstname+\" \"+t.customer.lastname,type:t.deliveryType?t.deliveryType:\"-\",total:t.total})})),s}catch(s){throw s.response.data.error||\"Error has occurred.\"}}))()}getOrder(t){var e=this;return d()((function*(){try{const r=yield e.axios.get(\"api/orders/cms/\"+t),o=zt(r.data.target);return r.data.ordernum=r.data.orderRef,r.data.target=o.format(\"YYYY-MM-DD HH:mm\"),r.data.type=r.data.deliveryType,r.data.address=r.data.shippingAddress,r.data.replacedBy&&(r.data.replacedBy=Object.assign({},r.data.replacedBy,{ordernum:r.data.orderRef})),r.data.products.forEach((t=>{t.name=t.product.name,t.discounts=t.product.discounts,t.image=t.product.images&&t.product.images.length>0?t.product.images[0].image:\"\",t.product=t.product._id})),r.data}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}placeOrder(t){var e=this;return d()((function*(){try{return yield e.axios.post(\"/api/orders/cms\",tt()({},t)),!0}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}replaceOrder(t,e){var r=this;return d()((function*(){try{let o=e;return delete o._id,delete o.ordernum,yield r.axios.patch(\"api/orders/cms/replace/\"+t,tt()({},o)),!0}catch(o){throw o.response.data.error||\"Error has occurred.\"}}))()}updateOrder(t,{status:e,target:r,type:o,address:a,memo:n}){var s=this;return d()((function*(){try{return yield s.axios.patch(\"api/orders/cms/\"+t,[{property:\"status\",value:e},{property:\"target\",value:r},{property:\"deliveryType\",value:o},{property:\"shippingAddress\",value:a},{property:\"memo\",value:n}]),!0}catch(i){throw i.response.data.error||\"Error has occurred.\"}}))()}}const Vt=r(\"c32d\");class Gt{constructor(t){At()(this,\"axios\",void 0),this.axios=t}getComments(){var t=this;return d()((function*(){try{let e=[];const r=yield t.axios.get(\"/api/comments\");return r.data.forEach((t=>(e.push({id:t.id,posted:Vt(t.created).format(\"MMM DD, YYYY\"),author:t.author?t.author.name:\"-\",product:t.product?t.product.name:\"-\",flagged:t.isFlagged,text:t.comment}),t))),e}catch(e){throw e.response.data.error||\"Error has occurred.\"}}))()}getComment(t){var e=this;return d()((function*(){try{const r=yield e.axios.get(\"api/comments/\"+t);return r.data.text=r.data.comment,r.data.posted=r.data.created,r.data.author=r.data.author?r.data.author.name:\"-\",r.data.product=r.data.product?r.data.product.name:\"-\",r.data.reply=r.data.reply?r.data.reply:\"\",r.data.replyAuthor=r.data.replyAuthor,r.data}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}flagComment(t,e){var r=this;return d()((function*(){try{return yield r.axios.patch(\"api/comments/\"+t,[{property:\"isFlagged\",value:e}]),!0}catch(o){throw o.response.data.error||\"Error has occurred.\"}}))()}replyToComment(t,{reply:e,replyAuthor:r}){var o=this;return d()((function*(){try{return yield o.axios.patch(\"api/comments/\"+t,[{property:\"replyAuthor\",value:r},{property:\"reply\",value:e},{property:\"replied\",value:new Date}]),!0}catch(a){throw a.response.data.error||\"Error has occurred.\"}}))()}}const Xt=r(\"c32d\");class Jt{constructor(t){At()(this,\"axios\",void 0),this.axios=t}getBusinessHolidays(t){var e=this;return d()((function*(){try{let r;if(t){const{year:o,month:a}=t;r=yield e.axios.get(\"/api/invaliddates\",{params:{year:o,month:a}})}else r=yield e.axios.get(\"/api/invaliddates\");return r.data}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}getBusinessHoliday(t){var e=this;return d()((function*(){try{const r=yield e.axios.get(\"api/invaliddates/\"+t);return r.data.start=Xt(r.data.start).format(\"YYYY-MM-DD HH:mm\"),r.data.end=Xt(r.data.end).format(\"YYYY-MM-DD HH:mm\"),r.data}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}addHoliday({start:t,end:e,reason:r}){var o=this;return d()((function*(){try{return yield o.axios.post(\"/api/invaliddates\",{start:t,end:e,reason:r}),!0}catch(a){throw a.response.data.error||\"Error has occurred.\"}}))()}editHoliday(t,{start:e,end:r,reason:o}){var a=this;return d()((function*(){try{return yield a.axios.patch(\"api/invaliddates/\"+t,[{property:\"start\",value:e},{property:\"end\",value:r},{property:\"reason\",value:o}]),!0}catch(n){throw n.response.data.error||\"Error has occurred.\"}}))()}deleteHoliday(t){var e=this;return d()((function*(){try{return yield e.axios.delete(\"api/invaliddates/\"+t),!0}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}}class Qt{constructor(t){At()(this,\"axios\",void 0),this.axios=t}findItems(t){var e=this;return d()((function*(){try{if(t){const r=yield e.axios.get(\"/api/search\",{params:{search:t}});return r.data}return[]}catch(r){throw r.response.data.error||\"Error has occurred.\"}}))()}}var Wt=St(function(){var t=d()((function*({app:t,ssrContext:e,Vue:r}){const o={search:new Qt(t.axios),statistics:new Ht(t.axios),accounts:new jt(t.axios),announcements:new kt(t.axios),categories:new Ft(t.axios),discounts:new It(t.axios),products:new $t(t.axios),orders:new Bt(t.axios),comments:new Gt(t.axios),holidays:new Jt(t.axios)},a={get:t=>o[t]};return{RepositoryFactory:a}}));return function(e){return t.apply(this,arguments)}}());const Kt=w.options||w,Zt=\"/\";function te(t,e,r){const o=Object(t)===t?e.resolve(t).route.fullPath:t;r({url:o})}e[\"default\"]=t=>new Promise(function(){var e=d()((function*(e,r){const{app:o,store:a,router:n}=yield vt(t);let s=!1;const i=t=>{s=!0,te(t,n,r)},c=[Mt,Ct,Wt];for(let h=0;!1===s&&h<c.length;h++)if(\"function\"===typeof c[h])try{yield c[h]({app:o,router:n,store:a,Vue:l.a,ssrContext:t,redirect:i,urlPath:t.url,publicPath:Zt})}catch(p){return void r(p)}if(!0===s)return;const u=t.url,{fullPath:d}=n.resolve(u).route;if(d!==u)return r({url:d});n.push(u).catch((()=>{})),n.onReady((()=>{const s=n.getMatchedComponents().map((t=>t.options||t));if(0===s.length)return r({code:404});let i=!1;const c=t=>{i=!0,te(t,n,r)};void 0!==Kt.preFetch&&s.unshift(Kt),s.filter((t=>t&&t.preFetch)).reduce(((e,r)=>e.then((()=>!1===i&&r.preFetch({store:a,ssrContext:t,currentRoute:n.currentRoute,redirect:c,urlPath:t.url,publicPath:Zt})))),Promise.resolve()).then((()=>{if(!0===i)return;t.state=a.state;const r=new l.a(o);t.$getMetaHTML=r.$getMetaHTML(r),e(r)})).catch(r)}),r)}));return function(t,r){return e.apply(this,arguments)}}())},5880:function(t,e){t.exports=require(\"vuex\")},6389:function(t,e){t.exports=require(\"vue-router\")},6579:function(t,e){t.exports=require(\"core-js/modules/es.array.slice\")},\"6bb1\":function(t,e){t.exports=require(\"core-js/modules/es.array.index-of\")},\"7c52\":function(t,e){t.exports=require(\"quasar\")},\"7c81\":function(t,e){t.exports=require(\"core-js/modules/es.array.splice\")},8495:function(t,e){t.exports=require(\"core-js/modules/es.promise\")},\"8bbf\":function(t,e){t.exports=require(\"vue\")},\"932c\":function(t,e){t.exports=require(\"core-js/modules/es.string.pad-start\")},9523:function(t,e){function r(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}t.exports=r},\"985d\":function(t,e){t.exports={}},bfab:function(t,e){t.exports=require(\"core-js/modules/es.string.replace\")},c32d:function(t,e){t.exports=require(\"moment\")},c973:function(t,e,r){function o(t,e,r,o,a,n,s){try{var i=t[n](s),c=i.value}catch(u){return void r(u)}i.done?e(c):Promise.resolve(c).then(o,a)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(a,n){var s=t.apply(e,r);function i(t){o(s,a,n,i,c,\"next\",t)}function c(t){o(s,a,n,i,c,\"throw\",t)}i(void 0)}))}}r(\"8495\"),t.exports=a},cebe:function(t,e){t.exports=require(\"axios\")},ded3:function(t,e,r){var o=r(\"9523\");function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){o(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}t.exports=n},e54f:function(t,e){t.exports={}},ece9:function(t,e){t.exports=require(\"core-js/modules/es.object.entries\")},ee7f:function(t,e){t.exports=require(\"axios-auth-refresh\")},f96d:function(t,e){t.exports=require(\"core-js/modules/es.promise.finally\")}});"
  },
  "maps": {}
}